var kv=t=>{throw TypeError(t)};var Ur=(t,e,i)=>e.has(t)?kv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i);import{R as et,r as X,j as ne,a as Qm,b as Pv,c as wv,g as Pd,d as Vp,e as zv,f as Wm,u as Jm,h as Dn,S as Uv,D as Ju,i as $m,t as Gv}from"./index-DNH8p8gE.js";function Lv(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function eg(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=eg(t[e]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}function tg(){for(var t,e,i=0,r="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=eg(t))&&(r&&(r+=" "),r+=e);return r}const jp=t=>Symbol.iterator in t,Hp=t=>"entries"in t,Ip=(t,e)=>{const i=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(i.size!==r.size)return!1;for(const[s,o]of i)if(!Object.is(o,r.get(s)))return!1;return!0},Bv=(t,e)=>{const i=t[Symbol.iterator](),r=e[Symbol.iterator]();let s=i.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=i.next(),o=r.next()}return!!s.done&&!!o.done};function Fv(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:jp(t)&&jp(e)?Hp(t)&&Hp(e)?Ip(t,e):Bv(t,e):Ip({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function ng(t){const e=et.useRef(void 0);return i=>{const r=t(i);return Fv(e.current,r)?e.current:e.current=r}}function Vv(t,e){const i=X.createContext(e),r=o=>{const{children:c,...u}=o,h=X.useMemo(()=>u,Object.values(u));return ne.jsx(i.Provider,{value:h,children:c})};r.displayName=t+"Provider";function s(o){const c=X.useContext(i);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function ag(t,e=[]){let i=[];function r(o,c){const u=X.createContext(c),h=i.length;i=[...i,c];const f=v=>{var N;const{scope:g,children:y,...b}=v,C=((N=g==null?void 0:g[t])==null?void 0:N[h])||u,T=X.useMemo(()=>b,Object.values(b));return ne.jsx(C.Provider,{value:T,children:y})};f.displayName=o+"Provider";function m(v,g){var C;const y=((C=g==null?void 0:g[t])==null?void 0:C[h])||u,b=X.useContext(y);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=i.map(c=>X.createContext(c));return function(u){const h=(u==null?void 0:u[t])||o;return X.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,jv(s,...e)]}function jv(...t){const e=t[0];if(t.length===1)return e;const i=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((u,{useScope:h,scopeName:f})=>{const v=h(o)[`__scope${f}`];return{...u,...v}},{});return X.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return i.scopeName=e.scopeName,i}function qp(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ig(...t){return e=>{let i=!1;const r=t.map(s=>{const o=qp(s,e);return!i&&typeof o=="function"&&(i=!0),o});if(i)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():qp(t[s],null)}}}}function na(...t){return X.useCallback(ig(...t),t)}function ea(t,e,{checkForDefaultPrevented:i=!0}={}){return function(s){if(t==null||t(s),i===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var Ds=globalThis!=null&&globalThis.document?X.useLayoutEffect:()=>{},Hv=Qm[" useId ".trim().toString()]||(()=>{}),Iv=0;function Cu(t){const[e,i]=X.useState(Hv());return Ds(()=>{i(r=>r??String(Iv++))},[t]),t||(e?`radix-${e}`:"")}var qv=Qm[" useInsertionEffect ".trim().toString()]||Ds;function Yv({prop:t,defaultProp:e,onChange:i=()=>{},caller:r}){const[s,o,c]=Kv({defaultProp:e,onChange:i}),u=t!==void 0,h=u?t:s;{const m=X.useRef(t!==void 0);X.useEffect(()=>{const v=m.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const f=X.useCallback(m=>{var v;if(u){const g=Xv(m)?m(t):m;g!==t&&((v=c.current)==null||v.call(c,g))}else o(m)},[u,t,o,c]);return[h,f]}function Kv({defaultProp:t,onChange:e}){const[i,r]=X.useState(t),s=X.useRef(i),o=X.useRef(e);return qv(()=>{o.current=e},[e]),X.useEffect(()=>{var c;s.current!==i&&((c=o.current)==null||c.call(o,i),s.current=i)},[i,s]),[i,r,o]}function Xv(t){return typeof t=="function"}function wd(t){const e=Qv(t),i=X.forwardRef((r,s)=>{const{children:o,...c}=r,u=X.Children.toArray(o),h=u.find(Jv);if(h){const f=h.props.children,m=u.map(v=>v===h?X.Children.count(f)>1?X.Children.only(null):X.isValidElement(f)?f.props.children:null:v);return ne.jsx(e,{...c,ref:s,children:X.isValidElement(f)?X.cloneElement(f,void 0,m):null})}return ne.jsx(e,{...c,ref:s,children:o})});return i.displayName=`${t}.Slot`,i}var Zv=wd("Slot");function Qv(t){const e=X.forwardRef((i,r)=>{const{children:s,...o}=i;if(X.isValidElement(s)){const c=e_(s),u=$v(o,s.props);return s.type!==X.Fragment&&(u.ref=r?ig(r,c):c),X.cloneElement(s,u)}return X.Children.count(s)>1?X.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rg=Symbol("radix.slottable");function Wv(t){const e=({children:i})=>ne.jsx(ne.Fragment,{children:i});return e.displayName=`${t}.Slottable`,e.__radixId=rg,e}function Jv(t){return X.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rg}function $v(t,e){const i={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?i[r]=(...u)=>{const h=o(...u);return s(...u),h}:s&&(i[r]=s):r==="style"?i[r]={...s,...o}:r==="className"&&(i[r]=[s,o].filter(Boolean).join(" "))}return{...t,...i}}function e_(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var t_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Un=t_.reduce((t,e)=>{const i=wd(`Primitive.${e}`),r=X.forwardRef((s,o)=>{const{asChild:c,...u}=s,h=c?i:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ne.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function n_(t,e){t&&Pv.flushSync(()=>t.dispatchEvent(e))}function ks(t){const e=X.useRef(t);return X.useEffect(()=>{e.current=t}),X.useMemo(()=>(...i)=>{var r;return(r=e.current)==null?void 0:r.call(e,...i)},[])}function a_(t,e=globalThis==null?void 0:globalThis.document){const i=ks(t);X.useEffect(()=>{const r=s=>{s.key==="Escape"&&i(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[i,e])}var i_="DismissableLayer",$u="dismissableLayer.update",r_="dismissableLayer.pointerDownOutside",s_="dismissableLayer.focusOutside",Yp,sg=X.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),og=X.forwardRef((t,e)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=t,f=X.useContext(sg),[m,v]=X.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=X.useState({}),b=na(e,G=>v(G)),C=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=C.indexOf(T),x=m?C.indexOf(m):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,E=x>=N,R=c_(G=>{const M=G.target,D=[...f.branches].some(P=>P.contains(M));!E||D||(s==null||s(G),c==null||c(G),G.defaultPrevented||u==null||u())},g),k=u_(G=>{const M=G.target;[...f.branches].some(P=>P.contains(M))||(o==null||o(G),c==null||c(G),G.defaultPrevented||u==null||u())},g);return a_(G=>{x===f.layers.size-1&&(r==null||r(G),!G.defaultPrevented&&u&&(G.preventDefault(),u()))},g),X.useEffect(()=>{if(m)return i&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Yp=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Kp(),()=>{i&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Yp)}},[m,g,i,f]),X.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Kp())},[m,f]),X.useEffect(()=>{const G=()=>y({});return document.addEventListener($u,G),()=>document.removeEventListener($u,G)},[]),ne.jsx(Un.div,{...h,ref:b,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:ea(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ea(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ea(t.onPointerDownCapture,R.onPointerDownCapture)})});og.displayName=i_;var o_="DismissableLayerBranch",l_=X.forwardRef((t,e)=>{const i=X.useContext(sg),r=X.useRef(null),s=na(e,r);return X.useEffect(()=>{const o=r.current;if(o)return i.branches.add(o),()=>{i.branches.delete(o)}},[i.branches]),ne.jsx(Un.div,{...t,ref:s})});l_.displayName=o_;function c_(t,e=globalThis==null?void 0:globalThis.document){const i=ks(t),r=X.useRef(!1),s=X.useRef(()=>{});return X.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){lg(r_,i,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,i]),{onPointerDownCapture:()=>r.current=!0}}function u_(t,e=globalThis==null?void 0:globalThis.document){const i=ks(t),r=X.useRef(!1);return X.useEffect(()=>{const s=o=>{o.target&&!r.current&&lg(s_,i,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,i]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kp(){const t=new CustomEvent($u);document.dispatchEvent(t)}function lg(t,e,i,{discrete:r}){const s=i.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});e&&s.addEventListener(t,e,{once:!0}),r?n_(s,o):s.dispatchEvent(o)}var xu="focusScope.autoFocusOnMount",Eu="focusScope.autoFocusOnUnmount",Xp={bubbles:!1,cancelable:!0},d_="FocusScope",cg=X.forwardRef((t,e)=>{const{loop:i=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[u,h]=X.useState(null),f=ks(s),m=ks(o),v=X.useRef(null),g=na(e,C=>h(C)),y=X.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;X.useEffect(()=>{if(r){let C=function(_){if(y.paused||!u)return;const E=_.target;u.contains(E)?v.current=E:Ra(v.current,{select:!0})},T=function(_){if(y.paused||!u)return;const E=_.relatedTarget;E!==null&&(u.contains(E)||Ra(v.current,{select:!0}))},N=function(_){if(document.activeElement===document.body)for(const R of _)R.removedNodes.length>0&&Ra(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",T);const x=new MutationObserver(N);return u&&x.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",T),x.disconnect()}}},[r,u,y.paused]),X.useEffect(()=>{if(u){Qp.add(y);const C=document.activeElement;if(!u.contains(C)){const N=new CustomEvent(xu,Xp);u.addEventListener(xu,f),u.dispatchEvent(N),N.defaultPrevented||(h_(y_(ug(u)),{select:!0}),document.activeElement===C&&Ra(u))}return()=>{u.removeEventListener(xu,f),setTimeout(()=>{const N=new CustomEvent(Eu,Xp);u.addEventListener(Eu,m),u.dispatchEvent(N),N.defaultPrevented||Ra(C??document.body,{select:!0}),u.removeEventListener(Eu,m),Qp.remove(y)},0)}}},[u,f,m,y]);const b=X.useCallback(C=>{if(!i&&!r||y.paused)return;const T=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,N=document.activeElement;if(T&&N){const x=C.currentTarget,[_,E]=f_(x);_&&E?!C.shiftKey&&N===E?(C.preventDefault(),i&&Ra(_,{select:!0})):C.shiftKey&&N===_&&(C.preventDefault(),i&&Ra(E,{select:!0})):N===x&&C.preventDefault()}},[i,r,y.paused]);return ne.jsx(Un.div,{tabIndex:-1,...c,ref:g,onKeyDown:b})});cg.displayName=d_;function h_(t,{select:e=!1}={}){const i=document.activeElement;for(const r of t)if(Ra(r,{select:e}),document.activeElement!==i)return}function f_(t){const e=ug(t),i=Zp(e,t),r=Zp(e.reverse(),t);return[i,r]}function ug(t){const e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)e.push(i.currentNode);return e}function Zp(t,e){for(const i of t)if(!p_(i,{upTo:e}))return i}function p_(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m_(t){return t instanceof HTMLInputElement&&"select"in t}function Ra(t,{select:e=!1}={}){if(t&&t.focus){const i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&m_(t)&&e&&t.select()}}var Qp=g_();function g_(){let t=[];return{add(e){const i=t[0];e!==i&&(i==null||i.pause()),t=Wp(t,e),t.unshift(e)},remove(e){var i;t=Wp(t,e),(i=t[0])==null||i.resume()}}}function Wp(t,e){const i=[...t],r=i.indexOf(e);return r!==-1&&i.splice(r,1),i}function y_(t){return t.filter(e=>e.tagName!=="A")}var v_="Portal",dg=X.forwardRef((t,e)=>{var u;const{container:i,...r}=t,[s,o]=X.useState(!1);Ds(()=>o(!0),[]);const c=i||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?wv.createPortal(ne.jsx(Un.div,{...r,ref:e}),c):null});dg.displayName=v_;function __(t,e){return X.useReducer((i,r)=>e[i][r]??i,t)}var Nl=t=>{const{present:e,children:i}=t,r=b_(e),s=typeof i=="function"?i({present:r.isPresent}):X.Children.only(i),o=na(r.ref,S_(s));return typeof i=="function"||r.isPresent?X.cloneElement(s,{ref:o}):null};Nl.displayName="Presence";function b_(t){const[e,i]=X.useState(),r=X.useRef(null),s=X.useRef(t),o=X.useRef("none"),c=t?"mounted":"unmounted",[u,h]=__(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return X.useEffect(()=>{const f=Ho(r.current);o.current=u==="mounted"?f:"none"},[u]),Ds(()=>{const f=r.current,m=s.current;if(m!==t){const g=o.current,y=Ho(f);t?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(m&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Ds(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,v=y=>{const C=Ho(r.current).includes(y.animationName);if(y.target===e&&C&&(h("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},g=y=>{y.target===e&&(o.current=Ho(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:X.useCallback(f=>{r.current=f?getComputedStyle(f):null,i(f)},[])}}function Ho(t){return(t==null?void 0:t.animationName)||"none"}function S_(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var Tu=0;function C_(){X.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jp()),document.body.insertAdjacentElement("beforeend",t[1]??Jp()),Tu++,()=>{Tu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tu--}},[])}function Jp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kn=function(){return kn=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},kn.apply(this,arguments)};function hg(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(i[r[s]]=t[r[s]]);return i}function x_(t,e,i){if(i||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var nl="right-scroll-bar-position",al="width-before-scroll-bar",E_="with-scroll-bars-hidden",T_="--removed-body-scroll-bar-size";function Ru(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function R_(t,e){var i=X.useState(function(){return{value:t,callback:e,facade:{get current(){return i.value},set current(r){var s=i.value;s!==r&&(i.value=r,i.callback(r,s))}}}})[0];return i.callback=e,i.facade}var M_=typeof window<"u"?X.useLayoutEffect:X.useEffect,$p=new WeakMap;function A_(t,e){var i=R_(null,function(r){return t.forEach(function(s){return Ru(s,r)})});return M_(function(){var r=$p.get(i);if(r){var s=new Set(r),o=new Set(t),c=i.current;s.forEach(function(u){o.has(u)||Ru(u,null)}),o.forEach(function(u){s.has(u)||Ru(u,c)})}$p.set(i,t)},[t]),i}function N_(t){return t}function O_(t,e){e===void 0&&(e=N_);var i=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(o){var c=e(o,r);return i.push(c),function(){i=i.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(r=!0;i.length;){var c=i;i=[],c.forEach(o)}i={push:function(u){return o(u)},filter:function(){return i}}},assignMedium:function(o){r=!0;var c=[];if(i.length){var u=i;i=[],u.forEach(o),c=i}var h=function(){var m=c;c=[],m.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),i={push:function(m){c.push(m),f()},filter:function(m){return c=c.filter(m),i}}}};return s}function D_(t){t===void 0&&(t={});var e=O_(null);return e.options=kn({async:!0,ssr:!1},t),e}var fg=function(t){var e=t.sideCar,i=hg(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return X.createElement(r,kn({},i))};fg.isSideCarExport=!0;function k_(t,e){return t.useMedium(e),fg}var pg=D_(),Mu=function(){},Ol=X.forwardRef(function(t,e){var i=X.useRef(null),r=X.useState({onScrollCapture:Mu,onWheelCapture:Mu,onTouchMoveCapture:Mu}),s=r[0],o=r[1],c=t.forwardProps,u=t.children,h=t.className,f=t.removeScrollBar,m=t.enabled,v=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,C=t.inert,T=t.allowPinchZoom,N=t.as,x=N===void 0?"div":N,_=t.gapMode,E=hg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,k=A_([i,e]),G=kn(kn({},E),s);return X.createElement(X.Fragment,null,m&&X.createElement(R,{sideCar:pg,removeScrollBar:f,shards:v,noRelative:y,noIsolation:b,inert:C,setCallbacks:o,allowPinchZoom:!!T,lockRef:i,gapMode:_}),c?X.cloneElement(X.Children.only(u),kn(kn({},G),{ref:k})):X.createElement(x,kn({},G,{className:h,ref:k}),u))});Ol.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ol.classNames={fullWidth:al,zeroRight:nl};var P_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w_(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=P_();return e&&t.setAttribute("nonce",e),t}function z_(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U_(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var G_=function(){var t=0,e=null;return{add:function(i){t==0&&(e=w_())&&(z_(e,i),U_(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},L_=function(){var t=G_();return function(e,i){X.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&i])}},mg=function(){var t=L_(),e=function(i){var r=i.styles,s=i.dynamic;return t(r,s),null};return e},B_={left:0,top:0,right:0,gap:0},Au=function(t){return parseInt(t||"",10)||0},F_=function(t){var e=window.getComputedStyle(document.body),i=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Au(i),Au(r),Au(s)]},V_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B_;var e=F_(t),i=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-i+e[2]-e[0])}},j_=mg(),Zi="data-scroll-locked",H_=function(t,e,i,r){var s=t.left,o=t.top,c=t.right,u=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(E_,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Zi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),i==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),i==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nl,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(al,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(nl," .").concat(nl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(al," .").concat(al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zi,`] {
    `).concat(T_,": ").concat(u,`px;
  }
`)},e0=function(){var t=parseInt(document.body.getAttribute(Zi)||"0",10);return isFinite(t)?t:0},I_=function(){X.useEffect(function(){return document.body.setAttribute(Zi,(e0()+1).toString()),function(){var t=e0()-1;t<=0?document.body.removeAttribute(Zi):document.body.setAttribute(Zi,t.toString())}},[])},q_=function(t){var e=t.noRelative,i=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;I_();var o=X.useMemo(function(){return V_(s)},[s]);return X.createElement(j_,{styles:H_(o,!e,s,i?"":"!important")})},ed=!1;if(typeof window<"u")try{var Io=Object.defineProperty({},"passive",{get:function(){return ed=!0,!0}});window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{ed=!1}var Li=ed?{passive:!1}:!1,Y_=function(t){return t.tagName==="TEXTAREA"},gg=function(t,e){if(!(t instanceof Element))return!1;var i=window.getComputedStyle(t);return i[e]!=="hidden"&&!(i.overflowY===i.overflowX&&!Y_(t)&&i[e]==="visible")},K_=function(t){return gg(t,"overflowY")},X_=function(t){return gg(t,"overflowX")},t0=function(t,e){var i=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yg(t,r);if(s){var o=vg(t,r),c=o[1],u=o[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==i.body);return!1},Z_=function(t){var e=t.scrollTop,i=t.scrollHeight,r=t.clientHeight;return[e,i,r]},Q_=function(t){var e=t.scrollLeft,i=t.scrollWidth,r=t.clientWidth;return[e,i,r]},yg=function(t,e){return t==="v"?K_(e):X_(e)},vg=function(t,e){return t==="v"?Z_(e):Q_(e)},W_=function(t,e){return t==="h"&&e==="rtl"?-1:1},J_=function(t,e,i,r,s){var o=W_(t,window.getComputedStyle(e).direction),c=o*r,u=i.target,h=e.contains(u),f=!1,m=c>0,v=0,g=0;do{if(!u)break;var y=vg(t,u),b=y[0],C=y[1],T=y[2],N=C-T-o*b;(b||N)&&yg(t,u)&&(v+=N,g+=b);var x=u.parentNode;u=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(v)<1||!m&&Math.abs(g)<1)&&(f=!0),f},qo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n0=function(t){return[t.deltaX,t.deltaY]},a0=function(t){return t&&"current"in t?t.current:t},$_=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t4=0,Bi=[];function n4(t){var e=X.useRef([]),i=X.useRef([0,0]),r=X.useRef(),s=X.useState(t4++)[0],o=X.useState(mg)[0],c=X.useRef(t);X.useEffect(function(){c.current=t},[t]),X.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var C=x_([t.lockRef.current],(t.shards||[]).map(a0),!0).filter(Boolean);return C.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=X.useCallback(function(C,T){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var N=qo(C),x=i.current,_="deltaX"in C?C.deltaX:x[0]-N[0],E="deltaY"in C?C.deltaY:x[1]-N[1],R,k=C.target,G=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in C&&G==="h"&&k.type==="range")return!1;var M=t0(G,k);if(!M)return!0;if(M?R=G:(R=G==="v"?"h":"v",M=t0(G,k)),!M)return!1;if(!r.current&&"changedTouches"in C&&(_||E)&&(r.current=R),!R)return!0;var D=r.current||R;return J_(D,T,C,D==="h"?_:E)},[]),h=X.useCallback(function(C){var T=C;if(!(!Bi.length||Bi[Bi.length-1]!==o)){var N="deltaY"in T?n0(T):qo(T),x=e.current.filter(function(R){return R.name===T.type&&(R.target===T.target||T.target===R.shadowParent)&&$_(R.delta,N)})[0];if(x&&x.should){T.cancelable&&T.preventDefault();return}if(!x){var _=(c.current.shards||[]).map(a0).filter(Boolean).filter(function(R){return R.contains(T.target)}),E=_.length>0?u(T,_[0]):!c.current.noIsolation;E&&T.cancelable&&T.preventDefault()}}},[]),f=X.useCallback(function(C,T,N,x){var _={name:C,delta:T,target:N,should:x,shadowParent:a4(N)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),m=X.useCallback(function(C){i.current=qo(C),r.current=void 0},[]),v=X.useCallback(function(C){f(C.type,n0(C),C.target,u(C,t.lockRef.current))},[]),g=X.useCallback(function(C){f(C.type,qo(C),C.target,u(C,t.lockRef.current))},[]);X.useEffect(function(){return Bi.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:g}),document.addEventListener("wheel",h,Li),document.addEventListener("touchmove",h,Li),document.addEventListener("touchstart",m,Li),function(){Bi=Bi.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,Li),document.removeEventListener("touchmove",h,Li),document.removeEventListener("touchstart",m,Li)}},[]);var y=t.removeScrollBar,b=t.inert;return X.createElement(X.Fragment,null,b?X.createElement(o,{styles:e4(s)}):null,y?X.createElement(q_,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function a4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i4=k_(pg,n4);var _g=X.forwardRef(function(t,e){return X.createElement(Ol,kn({},t,{ref:e,sideCar:i4}))});_g.classNames=Ol.classNames;var r4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fi=new WeakMap,Yo=new WeakMap,Ko={},Nu=0,bg=function(t){return t&&(t.host||bg(t.parentNode))},s4=function(t,e){return e.map(function(i){if(t.contains(i))return i;var r=bg(i);return r&&t.contains(r)?r:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return!!i})},o4=function(t,e,i,r){var s=s4(e,Array.isArray(t)?t:[t]);Ko[i]||(Ko[i]=new WeakMap);var o=Ko[i],c=[],u=new Set,h=new Set(s),f=function(v){!v||u.has(v)||(u.add(v),f(v.parentNode))};s.forEach(f);var m=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(g){if(u.has(g))m(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",C=(Fi.get(g)||0)+1,T=(o.get(g)||0)+1;Fi.set(g,C),o.set(g,T),c.push(g),C===1&&b&&Yo.set(g,!0),T===1&&g.setAttribute(i,"true"),b||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return m(e),u.clear(),Nu++,function(){c.forEach(function(v){var g=Fi.get(v)-1,y=o.get(v)-1;Fi.set(v,g),o.set(v,y),g||(Yo.has(v)||v.removeAttribute(r),Yo.delete(v)),y||v.removeAttribute(i)}),Nu--,Nu||(Fi=new WeakMap,Fi=new WeakMap,Yo=new WeakMap,Ko={})}},l4=function(t,e,i){i===void 0&&(i="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=r4(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o4(r,s,i,"aria-hidden")):function(){return null}},Dl="Dialog",[Sg,Cg]=ag(Dl),[c4,Rn]=Sg(Dl),xg=t=>{const{__scopeDialog:e,children:i,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,u=X.useRef(null),h=X.useRef(null),[f,m]=Yv({prop:r,defaultProp:s??!1,onChange:o,caller:Dl});return ne.jsx(c4,{scope:e,triggerRef:u,contentRef:h,contentId:Cu(),titleId:Cu(),descriptionId:Cu(),open:f,onOpenChange:m,onOpenToggle:X.useCallback(()=>m(v=>!v),[m]),modal:c,children:i})};xg.displayName=Dl;var Eg="DialogTrigger",Tg=X.forwardRef((t,e)=>{const{__scopeDialog:i,...r}=t,s=Rn(Eg,i),o=na(e,s.triggerRef);return ne.jsx(Un.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gd(s.open),...r,ref:o,onClick:ea(t.onClick,s.onOpenToggle)})});Tg.displayName=Eg;var zd="DialogPortal",[u4,Rg]=Sg(zd,{forceMount:void 0}),Mg=t=>{const{__scopeDialog:e,forceMount:i,children:r,container:s}=t,o=Rn(zd,e);return ne.jsx(u4,{scope:e,forceMount:i,children:X.Children.map(r,c=>ne.jsx(Nl,{present:i||o.open,children:ne.jsx(dg,{asChild:!0,container:s,children:c})}))})};Mg.displayName=zd;var hl="DialogOverlay",Ag=X.forwardRef((t,e)=>{const i=Rg(hl,t.__scopeDialog),{forceMount:r=i.forceMount,...s}=t,o=Rn(hl,t.__scopeDialog);return o.modal?ne.jsx(Nl,{present:r||o.open,children:ne.jsx(h4,{...s,ref:e})}):null});Ag.displayName=hl;var d4=wd("DialogOverlay.RemoveScroll"),h4=X.forwardRef((t,e)=>{const{__scopeDialog:i,...r}=t,s=Rn(hl,i);return ne.jsx(_g,{as:d4,allowPinchZoom:!0,shards:[s.contentRef],children:ne.jsx(Un.div,{"data-state":Gd(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$a="DialogContent",Ng=X.forwardRef((t,e)=>{const i=Rg($a,t.__scopeDialog),{forceMount:r=i.forceMount,...s}=t,o=Rn($a,t.__scopeDialog);return ne.jsx(Nl,{present:r||o.open,children:o.modal?ne.jsx(f4,{...s,ref:e}):ne.jsx(p4,{...s,ref:e})})});Ng.displayName=$a;var f4=X.forwardRef((t,e)=>{const i=Rn($a,t.__scopeDialog),r=X.useRef(null),s=na(e,i.contentRef,r);return X.useEffect(()=>{const o=r.current;if(o)return l4(o)},[]),ne.jsx(Og,{...t,ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ea(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=i.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ea(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:ea(t.onFocusOutside,o=>o.preventDefault())})}),p4=X.forwardRef((t,e)=>{const i=Rn($a,t.__scopeDialog),r=X.useRef(!1),s=X.useRef(!1);return ne.jsx(Og,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(u=i.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((f=i.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Og=X.forwardRef((t,e)=>{const{__scopeDialog:i,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,u=Rn($a,i),h=X.useRef(null),f=na(e,h);return C_(),ne.jsxs(ne.Fragment,{children:[ne.jsx(cg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:ne.jsx(og,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Gd(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),ne.jsxs(ne.Fragment,{children:[ne.jsx(g4,{titleId:u.titleId}),ne.jsx(v4,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Ud="DialogTitle",Dg=X.forwardRef((t,e)=>{const{__scopeDialog:i,...r}=t,s=Rn(Ud,i);return ne.jsx(Un.h2,{id:s.titleId,...r,ref:e})});Dg.displayName=Ud;var kg="DialogDescription",Pg=X.forwardRef((t,e)=>{const{__scopeDialog:i,...r}=t,s=Rn(kg,i);return ne.jsx(Un.p,{id:s.descriptionId,...r,ref:e})});Pg.displayName=kg;var wg="DialogClose",zg=X.forwardRef((t,e)=>{const{__scopeDialog:i,...r}=t,s=Rn(wg,i);return ne.jsx(Un.button,{type:"button",...r,ref:e,onClick:ea(t.onClick,()=>s.onOpenChange(!1))})});zg.displayName=wg;function Gd(t){return t?"open":"closed"}var Ug="DialogTitleWarning",[m4,Gg]=Vv(Ug,{contentName:$a,titleName:Ud,docsSlug:"dialog"}),g4=({titleId:t})=>{const e=Gg(Ug),i=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return X.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},y4="DialogDescriptionWarning",v4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gg(y4).contentName}}.`;return X.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},_4=xg,b4=Tg,S4=Mg,C4=Ag,x4=Ng,E4=Dg,T4=Pg,Lg=zg,Bg="AlertDialog",[R4,ES]=ag(Bg,[Cg]),aa=Cg(),Fg=t=>{const{__scopeAlertDialog:e,...i}=t,r=aa(e);return ne.jsx(_4,{...r,...i,modal:!0})};Fg.displayName=Bg;var M4="AlertDialogTrigger",A4=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,s=aa(i);return ne.jsx(b4,{...s,...r,ref:e})});A4.displayName=M4;var N4="AlertDialogPortal",Vg=t=>{const{__scopeAlertDialog:e,...i}=t,r=aa(e);return ne.jsx(S4,{...r,...i})};Vg.displayName=N4;var O4="AlertDialogOverlay",jg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,s=aa(i);return ne.jsx(C4,{...s,...r,ref:e})});jg.displayName=O4;var Qi="AlertDialogContent",[D4,k4]=R4(Qi),P4=Wv("AlertDialogContent"),Hg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,children:r,...s}=t,o=aa(i),c=X.useRef(null),u=na(e,c),h=X.useRef(null);return ne.jsx(m4,{contentName:Qi,titleName:Ig,docsSlug:"alert-dialog",children:ne.jsx(D4,{scope:i,cancelRef:h,children:ne.jsxs(x4,{role:"alertdialog",...o,...s,ref:u,onOpenAutoFocus:ea(s.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=h.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[ne.jsx(P4,{children:r}),ne.jsx(z4,{contentRef:c})]})})})});Hg.displayName=Qi;var Ig="AlertDialogTitle",qg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,s=aa(i);return ne.jsx(E4,{...s,...r,ref:e})});qg.displayName=Ig;var Yg="AlertDialogDescription",Kg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,s=aa(i);return ne.jsx(T4,{...s,...r,ref:e})});Kg.displayName=Yg;var w4="AlertDialogAction",Xg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,s=aa(i);return ne.jsx(Lg,{...s,...r,ref:e})});Xg.displayName=w4;var Zg="AlertDialogCancel",Qg=X.forwardRef((t,e)=>{const{__scopeAlertDialog:i,...r}=t,{cancelRef:s}=k4(Zg,i),o=aa(i),c=na(e,s);return ne.jsx(Lg,{...o,...r,ref:c})});Qg.displayName=Zg;var z4=({contentRef:t})=>{const e=`\`${Qi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qi}\` by passing a \`${Yg}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return X.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},U4=Fg,G4=Vg,L4=jg,B4=Hg,F4=Xg,V4=Qg,j4=qg,H4=Kg;const Ld="-",I4=t=>{const e=Y4(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const u=c.split(Ld);return u[0]===""&&u.length!==1&&u.shift(),Wg(u,e)||q4(c)},getConflictingClassGroupIds:(c,u)=>{const h=i[c]||[];return u&&r[c]?[...h,...r[c]]:h}}},Wg=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const i=t[0],r=e.nextPart.get(i),s=r?Wg(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Ld);return(c=e.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},i0=/^\[(.+)\]$/,q4=t=>{if(i0.test(t)){const e=i0.exec(t)[1],i=e==null?void 0:e.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},Y4=t=>{const{theme:e,classGroups:i}=t,r={nextPart:new Map,validators:[]};for(const s in i)td(i[s],r,s,e);return r},td=(t,e,i,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:r0(e,s);o.classGroupId=i;return}if(typeof s=="function"){if(K4(s)){td(s(r),e,i,r);return}e.validators.push({validator:s,classGroupId:i});return}Object.entries(s).forEach(([o,c])=>{td(c,r0(e,o),i,r)})})},r0=(t,e)=>{let i=t;return e.split(Ld).forEach(r=>{i.nextPart.has(r)||i.nextPart.set(r,{nextPart:new Map,validators:[]}),i=i.nextPart.get(r)}),i},K4=t=>t.isThemeGetter,X4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,i=new Map,r=new Map;const s=(o,c)=>{i.set(o,c),e++,e>t&&(e=0,r=i,i=new Map)};return{get(o){let c=i.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return s(o,c),c},set(o,c){i.has(o)?i.set(o,c):s(o,c)}}},nd="!",ad=":",Z4=ad.length,Q4=t=>{const{prefix:e,experimentalParseClassName:i}=t;let r=s=>{const o=[];let c=0,u=0,h=0,f;for(let b=0;b<s.length;b++){let C=s[b];if(c===0&&u===0){if(C===ad){o.push(s.slice(h,b)),h=b+Z4;continue}if(C==="/"){f=b;continue}}C==="["?c++:C==="]"?c--:C==="("?u++:C===")"&&u--}const m=o.length===0?s:s.substring(h),v=W4(m),g=v!==m,y=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};if(e){const s=e+ad,o=r;r=c=>c.startsWith(s)?o(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(i){const s=r;r=o=>i({className:o,parseClassName:s})}return r},W4=t=>t.endsWith(nd)?t.substring(0,t.length-1):t.startsWith(nd)?t.substring(1):t,J4=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(s.push(...o.sort(),c),o=[]):o.push(c)}),s.push(...o.sort()),s}},$4=t=>({cache:X4(t.cacheSize),parseClassName:Q4(t),sortModifiers:J4(t),...I4(t)}),e5=/\s+/,t5=(t,e)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=t.trim().split(e5);let h="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:v,modifiers:g,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:C}=i(m);if(v){h=m+(h.length>0?" "+h:h);continue}let T=!!C,N=r(T?b.substring(0,C):b);if(!N){if(!T){h=m+(h.length>0?" "+h:h);continue}if(N=r(b),!N){h=m+(h.length>0?" "+h:h);continue}T=!1}const x=o(g).join(":"),_=y?x+nd:x,E=_+N;if(c.includes(E))continue;c.push(E);const R=s(N,T);for(let k=0;k<R.length;++k){const G=R[k];c.push(_+G)}h=m+(h.length>0?" "+h:h)}return h};function n5(){let t=0,e,i,r="";for(;t<arguments.length;)(e=arguments[t++])&&(i=Jg(e))&&(r&&(r+=" "),r+=i);return r}const Jg=t=>{if(typeof t=="string")return t;let e,i="";for(let r=0;r<t.length;r++)t[r]&&(e=Jg(t[r]))&&(i&&(i+=" "),i+=e);return i};function a5(t,...e){let i,r,s,o=c;function c(h){const f=e.reduce((m,v)=>v(m),t());return i=$4(f),r=i.cache.get,s=i.cache.set,o=u,u(h)}function u(h){const f=r(h);if(f)return f;const m=t5(h,i);return s(h,m),m}return function(){return o(n5.apply(null,arguments))}}const vt=t=>{const e=i=>i[t]||[];return e.isThemeGetter=!0,e},$g=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,i5=/^\d+\/\d+$/,r5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=t=>i5.test(t),Pe=t=>!!t&&!Number.isNaN(Number(t)),Ea=t=>!!t&&Number.isInteger(Number(t)),Ou=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),Xn=t=>r5.test(t),u5=()=>!0,d5=t=>s5.test(t)&&!o5.test(t),t1=()=>!1,h5=t=>l5.test(t),f5=t=>c5.test(t),p5=t=>!ge(t)&&!ye(t),m5=t=>rr(t,i1,t1),ge=t=>$g.test(t),Ka=t=>rr(t,r1,d5),Du=t=>rr(t,b5,Pe),s0=t=>rr(t,n1,t1),g5=t=>rr(t,a1,f5),Xo=t=>rr(t,s1,h5),ye=t=>e1.test(t),Gr=t=>sr(t,r1),y5=t=>sr(t,S5),o0=t=>sr(t,n1),v5=t=>sr(t,i1),_5=t=>sr(t,a1),Zo=t=>sr(t,s1,!0),rr=(t,e,i)=>{const r=$g.exec(t);return r?r[1]?e(r[1]):i(r[2]):!1},sr=(t,e,i=!1)=>{const r=e1.exec(t);return r?r[1]?e(r[1]):i:!1},n1=t=>t==="position"||t==="percentage",a1=t=>t==="image"||t==="url",i1=t=>t==="length"||t==="size"||t==="bg-size",r1=t=>t==="length",b5=t=>t==="number",S5=t=>t==="family-name",s1=t=>t==="shadow",C5=()=>{const t=vt("color"),e=vt("font"),i=vt("text"),r=vt("font-weight"),s=vt("tracking"),o=vt("leading"),c=vt("breakpoint"),u=vt("container"),h=vt("spacing"),f=vt("radius"),m=vt("shadow"),v=vt("inset-shadow"),g=vt("text-shadow"),y=vt("drop-shadow"),b=vt("blur"),C=vt("perspective"),T=vt("aspect"),N=vt("ease"),x=vt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...E(),ye,ge],k=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],M=()=>[ye,ge,h],D=()=>[Vi,"full","auto",...M()],P=()=>[Ea,"none","subgrid",ye,ge],B=()=>["auto",{span:["full",Ea,ye,ge]},Ea,ye,ge],j=()=>[Ea,"auto",ye,ge],q=()=>["auto","min","max","fr",ye,ge],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...M()],A=()=>[Vi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],O=()=>[t,ye,ge],U=()=>[...E(),o0,s0,{position:[ye,ge]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",v5,m5,{size:[ye,ge]}],ee=()=>[Ou,Gr,Ka],I=()=>["","none","full",f,ye,ge],te=()=>["",Pe,Gr,Ka],ce=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[Pe,Ou,o0,s0],Z=()=>["","none",b,ye,ge],se=()=>["none",Pe,ye,ge],ue=()=>["none",Pe,ye,ge],me=()=>[Pe,ye,ge],Se=()=>[Vi,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[u5],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[p5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",Pe],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vi,ge,ye,T]}],container:["container"],columns:[{columns:[Pe,ge,ye,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Ea,"auto",ye,ge]}],basis:[{basis:[Vi,"full","auto",u,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Vi,"auto","initial","none",ge]}],grow:[{grow:["",Pe,ye,ge]}],shrink:[{shrink:["",Pe,ye,ge]}],order:[{order:[Ea,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[u,"screen",...A()]}],"min-w":[{"min-w":[u,"screen","none",...A()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",i,Gr,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,Du]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ou,ge]}],"font-family":[{font:[y5,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ye,ge]}],"line-clamp":[{"line-clamp":[Pe,"none",ye,Du]}],leading:[{leading:[o,...M()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ye,Ka]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Pe,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ea,ye,ge],radial:["",ye,ge],conic:[Ea,ye,ge]},_5,g5]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ye,ge]}],"outline-w":[{outline:["",Pe,Gr,Ka]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,Zo,Xo]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,Zo,Xo]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Pe,Ka]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",g,Zo,Xo]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Pe,ye,ge]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Z()}],brightness:[{brightness:[Pe,ye,ge]}],contrast:[{contrast:[Pe,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",y,Zo,Xo]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Pe,ye,ge]}],"hue-rotate":[{"hue-rotate":[Pe,ye,ge]}],invert:[{invert:["",Pe,ye,ge]}],saturate:[{saturate:[Pe,ye,ge]}],sepia:[{sepia:["",Pe,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ye,ge]}],ease:[{ease:["linear","initial",N,ye,ge]}],delay:[{delay:[Pe,ye,ge]}],animate:[{animate:["none",x,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ye,ge]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Pe,Gr,Ka,Du]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},x5=a5(C5);function gn(...t){return x5(tg(t))}const l0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c0=tg,E5=(t,e)=>i=>{var r;if((e==null?void 0:e.variants)==null)return c0(t,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(f=>{const m=i==null?void 0:i[f],v=o==null?void 0:o[f];if(m===null)return null;const g=l0(m)||l0(v);return s[f][g]}),u=i&&Object.entries(i).reduce((f,m)=>{let[v,g]=m;return g===void 0||(f[v]=g),f},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:v,className:g,...y}=m;return Object.entries(y).every(b=>{let[C,T]=b;return Array.isArray(T)?T.includes({...o,...u}[C]):{...o,...u}[C]===T})?[...f,v,g]:f},[]);return c0(t,c,h,i==null?void 0:i.class,i==null?void 0:i.className)},Bd=E5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Qo({className:t,variant:e,size:i,asChild:r=!1,...s}){const o=r?Zv:"button";return ne.jsx(o,{"data-slot":"button",className:gn(Bd({variant:e,size:i,className:t})),...s})}function T5({...t}){return ne.jsx(U4,{"data-slot":"alert-dialog",...t})}function R5({...t}){return ne.jsx(G4,{"data-slot":"alert-dialog-portal",...t})}function M5({className:t,...e}){return ne.jsx(L4,{"data-slot":"alert-dialog-overlay",className:gn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function A5({className:t,...e}){return ne.jsxs(R5,{children:[ne.jsx(M5,{}),ne.jsx(B4,{"data-slot":"alert-dialog-content",className:gn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function N5({className:t,...e}){return ne.jsx("div",{"data-slot":"alert-dialog-header",className:gn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function O5({className:t,...e}){return ne.jsx("div",{"data-slot":"alert-dialog-footer",className:gn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function D5({className:t,...e}){return ne.jsx(j4,{"data-slot":"alert-dialog-title",className:gn("text-lg font-semibold",t),...e})}function k5({className:t,...e}){return ne.jsx(H4,{"data-slot":"alert-dialog-description",className:gn("text-muted-foreground text-sm",t),...e})}function P5({className:t,...e}){return ne.jsx(F4,{className:gn(Bd(),t),...e})}function w5({className:t,...e}){return ne.jsx(V4,{className:gn(Bd({variant:"outline"}),t),...e})}class z5{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const i of this._parts)e.push(i);return U5(e).buffer}}function U5(t){let e=0;for(const s of t)e+=s.byteLength;const i=new Uint8Array(e);let r=0;for(const s of t){const o=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);i.set(o,r),r+=s.byteLength}return i}function o1(t){return new G5(t).unpack()}function l1(t){const e=new L5,i=e.pack(t);return i instanceof Promise?i.then(()=>e.getBuffer()):e.getBuffer()}class G5{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let i;if((i=e^160)<=15)return this.unpack_raw(i);if((i=e^176)<=15)return this.unpack_string(i);if((i=e^144)<=15)return this.unpack_array(i);if((i=e^128)<=15)return this.unpack_map(i);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return i=this.unpack_uint16(),this.unpack_string(i);case 217:return i=this.unpack_uint32(),this.unpack_string(i);case 218:return i=this.unpack_uint16(),this.unpack_raw(i);case 219:return i=this.unpack_uint32(),this.unpack_raw(i);case 220:return i=this.unpack_uint16(),this.unpack_array(i);case 221:return i=this.unpack_uint32(),this.unpack_array(i);case 222:return i=this.unpack_uint16(),this.unpack_map(i);case 223:return i=this.unpack_uint32(),this.unpack_map(i)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),i=(e[0]&255)*256+(e[1]&255);return this.index+=2,i}unpack_uint32(){const e=this.read(4),i=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,i}unpack_uint64(){const e=this.read(8),i=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,i}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const i=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,i}unpack_string(e){const i=this.read(e);let r=0,s="",o,c;for(;r<e;)o=i[r],o<160?(c=o,r++):(o^192)<32?(c=(o&31)<<6|i[r+1]&63,r+=2):(o^224)<16?(c=(o&15)<<12|(i[r+1]&63)<<6|i[r+2]&63,r+=3):(c=(o&7)<<18|(i[r+1]&63)<<12|(i[r+2]&63)<<6|i[r+3]&63,r+=4),s+=String.fromCodePoint(c);return this.index+=e,s}unpack_array(e){const i=new Array(e);for(let r=0;r<e;r++)i[r]=this.unpack();return i}unpack_map(e){const i={};for(let r=0;r<e;r++){const s=this.unpack();i[s]=this.unpack()}return i}unpack_float(){const e=this.unpack_uint32(),i=e>>31,r=(e>>23&255)-127,s=e&8388607|8388608;return(i===0?1:-1)*s*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),i=this.unpack_uint32(),r=e>>31,s=(e>>20&2047)-1023,c=(e&1048575|1048576)*2**(s-20)+i*2**(s-52);return(r===0?1:-1)*c}read(e){const i=this.index;if(i+e<=this.length)return this.dataView.subarray(i,i+e);throw new Error("BinaryPackFailure: read index out of range")}}class L5{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const i=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(i==Object||i.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${i.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const i=e.length;if(i<=15)this.pack_uint8(160+i);else if(i<=65535)this._bufferBuilder.append(218),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(i);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const i=this._textEncoder.encode(e),r=i.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(i)}pack_array(e){const i=e.length;if(i<=15)this.pack_uint8(144+i);else if(i<=65535)this._bufferBuilder.append(220),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(i);else throw new Error("Invalid length");const r=s=>{if(s<i){const o=this.pack(e[s]);return o instanceof Promise?o.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let i=0;e<0&&(i=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=e/2**r-1,o=Math.floor(s*2**52),c=2**32,u=i<<31|r+1023<<20|o/c&1048575,h=o%c;this._bufferBuilder.append(203),this.pack_int32(u),this.pack_int32(h)}pack_object(e){const i=Object.keys(e),r=i.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=o=>{if(o<i.length){const c=i[o];if(e.hasOwnProperty(c)){this.pack(c);const u=this.pack(e[c]);if(u instanceof Promise)return u.then(()=>s(o+1))}return s(o+1)}};return s(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const i=e&4294967295;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}pack_uint64(e){const i=e/4294967296,r=e%2**32;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const i=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new z5,this._textEncoder=new TextEncoder}}let c1=!0,u1=!0;function Ms(t,e,i){const r=t.match(e);return r&&r.length>=i&&parseFloat(r[i],10)}function ri(t,e,i){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(c,u){if(c!==e)return s.apply(this,arguments);const h=f=>{const m=i(f);m&&(u.handleEvent?u.handleEvent(m):u(m))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(u,h),s.apply(this,[c,h])};const o=r.removeEventListener;r.removeEventListener=function(c,u){if(c!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(u))return o.apply(this,arguments);const h=this._eventMap[e].get(u);return this._eventMap[e].delete(u),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[c,h])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(c){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),c&&this.addEventListener(e,this["_on"+e]=c)},enumerable:!0,configurable:!0})}function B5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(c1=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function F5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(u1=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function d1(){if(typeof window=="object"){if(c1)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Fd(t,e){u1&&console.warn(t+" is deprecated, please use "+e+" instead.")}function V5(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:i}=t;if(i.userAgentData&&i.userAgentData.brands){const r=i.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(i.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Ms(i.userAgent,/Firefox\/(\d+)\./,1));else if(i.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Ms(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Ms(i.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Ms(i.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function u0(t){return Object.prototype.toString.call(t)==="[object Object]"}function h1(t){return u0(t)?Object.keys(t).reduce(function(e,i){const r=u0(t[i]),s=r?h1(t[i]):t[i],o=r&&!Object.keys(s).length;return s===void 0||o?e:Object.assign(e,{[i]:s})},{}):t}function id(t,e,i){!e||i.has(e.id)||(i.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?id(t,t.get(e[r]),i):r.endsWith("Ids")&&e[r].forEach(s=>{id(t,t.get(s),i)})}))}function d0(t,e,i){const r=i?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const o=[];return t.forEach(c=>{c.type==="track"&&c.trackIdentifier===e.id&&o.push(c)}),o.forEach(c=>{t.forEach(u=>{u.type===r&&u.trackId===c.id&&id(t,u,s)})}),s}const h0=d1;function f1(t,e){const i=t&&t.navigator;if(!i.mediaDevices)return;const r=function(u){if(typeof u!="object"||u.mandatory||u.optional)return u;const h={};return Object.keys(u).forEach(f=>{if(f==="require"||f==="advanced"||f==="mediaSource")return;const m=typeof u[f]=="object"?u[f]:{ideal:u[f]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);const v=function(g,y){return g?g+y.charAt(0).toUpperCase()+y.slice(1):y==="deviceId"?"sourceId":y};if(m.ideal!==void 0){h.optional=h.optional||[];let g={};typeof m.ideal=="number"?(g[v("min",f)]=m.ideal,h.optional.push(g),g={},g[v("max",f)]=m.ideal,h.optional.push(g)):(g[v("",f)]=m.ideal,h.optional.push(g))}m.exact!==void 0&&typeof m.exact!="number"?(h.mandatory=h.mandatory||{},h.mandatory[v("",f)]=m.exact):["min","max"].forEach(g=>{m[g]!==void 0&&(h.mandatory=h.mandatory||{},h.mandatory[v(g,f)]=m[g])})}),u.advanced&&(h.optional=(h.optional||[]).concat(u.advanced)),h},s=function(u,h){if(e.version>=61)return h(u);if(u=JSON.parse(JSON.stringify(u)),u&&typeof u.audio=="object"){const f=function(m,v,g){v in m&&!(g in m)&&(m[g]=m[v],delete m[v])};u=JSON.parse(JSON.stringify(u)),f(u.audio,"autoGainControl","googAutoGainControl"),f(u.audio,"noiseSuppression","googNoiseSuppression"),u.audio=r(u.audio)}if(u&&typeof u.video=="object"){let f=u.video.facingMode;f=f&&(typeof f=="object"?f:{ideal:f});const m=e.version<66;if(f&&(f.exact==="user"||f.exact==="environment"||f.ideal==="user"||f.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!m)){delete u.video.facingMode;let v;if(f.exact==="environment"||f.ideal==="environment"?v=["back","rear"]:(f.exact==="user"||f.ideal==="user")&&(v=["front"]),v)return i.mediaDevices.enumerateDevices().then(g=>{g=g.filter(b=>b.kind==="videoinput");let y=g.find(b=>v.some(C=>b.label.toLowerCase().includes(C)));return!y&&g.length&&v.includes("back")&&(y=g[g.length-1]),y&&(u.video.deviceId=f.exact?{exact:y.deviceId}:{ideal:y.deviceId}),u.video=r(u.video),h0("chrome: "+JSON.stringify(u)),h(u)})}u.video=r(u.video)}return h0("chrome: "+JSON.stringify(u)),h(u)},o=function(u){return e.version>=64?u:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[u.name]||u.name,message:u.message,constraint:u.constraint||u.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(u,h,f){s(u,m=>{i.webkitGetUserMedia(m,h,v=>{f&&f(o(v))})})};if(i.getUserMedia=c.bind(i),i.mediaDevices.getUserMedia){const u=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(h){return s(h,f=>u(f).then(m=>{if(f.audio&&!m.getAudioTracks().length||f.video&&!m.getVideoTracks().length)throw m.getTracks().forEach(v=>{v.stop()}),new DOMException("","NotFoundError");return m},m=>Promise.reject(o(m))))}}}function p1(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function m1(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(i){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=i)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(u=>u.track&&u.track.id===s.track.id):o={track:s.track};const c=new Event("track");c.track=s.track,c.receiver=o,c.transceiver={receiver:o},c.streams=[r.stream],this.dispatchEvent(c)}),r.stream.getTracks().forEach(s=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(u=>u.track&&u.track.id===s.id):o={track:s};const c=new Event("track");c.track=s,c.receiver=o,c.transceiver={receiver:o},c.streams=[r.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ri(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function g1(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=s.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,h){let f=s.apply(this,arguments);return f||(f=e(this,u),this._senders.push(f)),f};const o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){o.apply(this,arguments);const h=this._senders.indexOf(u);h!==-1&&this._senders.splice(h,1)}}const i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],i.apply(this,[o]),o.getTracks().forEach(c=>{this._senders.push(e(this,c))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(c=>{const u=this._senders.find(h=>h.track===c);u&&this._senders.splice(this._senders.indexOf(u),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function y1(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const i=t.RTCPeerConnection.prototype.getSenders;i&&(t.RTCPeerConnection.prototype.getSenders=function(){const o=i.apply(this,[]);return o.forEach(c=>c._pc=this),o});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(c=>d0(c,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=i.apply(this,[]);return s.forEach(o=>o._pc=this),s}),ri(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>d0(o,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,o,c;return this.getSenders().forEach(u=>{u.track===r&&(s?c=!0:s=u)}),this.getReceivers().forEach(u=>(u.track===r&&(o?c=!0:o=u),u.track===r)),c||s&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function v1(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(c,u){if(!u)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const h=e.apply(this,arguments);return this._shimmedLocalStreams[u.id]?this._shimmedLocalStreams[u.id].indexOf(h)===-1&&this._shimmedLocalStreams[u.id].push(h):this._shimmedLocalStreams[u.id]=[u,h],h};const i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(f=>{if(this.getSenders().find(v=>v.track===f))throw new DOMException("Track already exists.","InvalidAccessError")});const u=this.getSenders();i.apply(this,arguments);const h=this.getSenders().filter(f=>u.indexOf(f)===-1);this._shimmedLocalStreams[c.id]=[c].concat(h)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(u=>{const h=this._shimmedLocalStreams[u].indexOf(c);h!==-1&&this._shimmedLocalStreams[u].splice(h,1),this._shimmedLocalStreams[u].length===1&&delete this._shimmedLocalStreams[u]}),s.apply(this,arguments)}}function _1(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return v1(t);const i=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const m=i.apply(this);return this._reverseStreams=this._reverseStreams||{},m.map(v=>this._reverseStreams[v.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(m){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.getTracks().forEach(v=>{if(this.getSenders().find(y=>y.track===v))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[m.id]){const v=new t.MediaStream(m.getTracks());this._streams[m.id]=v,this._reverseStreams[v.id]=m,m=v}r.apply(this,[m])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(m){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[m.id]||m]),delete this._reverseStreams[this._streams[m.id]?this._streams[m.id].id:m.id],delete this._streams[m.id]},t.RTCPeerConnection.prototype.addTrack=function(m,v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(C=>C===m))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===m))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const b=this._streams[v.id];if(b)b.addTrack(m),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new t.MediaStream([m]);this._streams[v.id]=C,this._reverseStreams[C.id]=v,this.addStream(C)}return this.getSenders().find(C=>C.track===m)};function o(f,m){let v=m.sdp;return Object.keys(f._reverseStreams||[]).forEach(g=>{const y=f._reverseStreams[g],b=f._streams[y.id];v=v.replace(new RegExp(b.id,"g"),y.id)}),new RTCSessionDescription({type:m.type,sdp:v})}function c(f,m){let v=m.sdp;return Object.keys(f._reverseStreams||[]).forEach(g=>{const y=f._reverseStreams[g],b=f._streams[y.id];v=v.replace(new RegExp(y.id,"g"),b.id)}),new RTCSessionDescription({type:m.type,sdp:v})}["createOffer","createAnswer"].forEach(function(f){const m=t.RTCPeerConnection.prototype[f],v={[f](){const g=arguments;return arguments.length&&typeof arguments[0]=="function"?m.apply(this,[b=>{const C=o(this,b);g[0].apply(null,[C])},b=>{g[1]&&g[1].apply(null,b)},arguments[2]]):m.apply(this,arguments).then(b=>o(this,b))}};t.RTCPeerConnection.prototype[f]=v[f]});const u=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?u.apply(this,arguments):(arguments[0]=c(this,arguments[0]),u.apply(this,arguments))};const h=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const f=h.get.apply(this);return f.type===""?f:o(this,f)}}),t.RTCPeerConnection.prototype.removeTrack=function(m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!m._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(m._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let g;Object.keys(this._streams).forEach(y=>{this._streams[y].getTracks().find(C=>m.track===C)&&(g=this._streams[y])}),g&&(g.getTracks().length===1?this.removeStream(this._reverseStreams[g.id]):g.removeTrack(m.track),this.dispatchEvent(new Event("negotiationneeded")))}}function rd(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const r=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]})}function b1(t,e){ri(t,"negotiationneeded",i=>{const r=i.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return i})}const f0=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:b1,shimAddTrackRemoveTrack:_1,shimAddTrackRemoveTrackWithNative:v1,shimGetSendersWithDtmf:g1,shimGetUserMedia:f1,shimMediaStream:p1,shimOnTrack:m1,shimPeerConnection:rd,shimSenderReceiverGetStats:y1},Symbol.toStringTag,{value:"Module"}));function S1(t,e){const i=t&&t.navigator,r=t&&t.MediaStreamTrack;if(i.getUserMedia=function(s,o,c){Fd("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(s).then(o,c)},!(e.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){const s=function(c,u,h){u in c&&!(h in c)&&(c[h]=c[u],delete c[u])},o=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),s(c.audio,"autoGainControl","mozAutoGainControl"),s(c.audio,"noiseSuppression","mozNoiseSuppression")),o(c)},r&&r.prototype.getSettings){const c=r.prototype.getSettings;r.prototype.getSettings=function(){const u=c.apply(this,arguments);return s(u,"mozAutoGainControl","autoGainControl"),s(u,"mozNoiseSuppression","noiseSuppression"),u}}if(r&&r.prototype.applyConstraints){const c=r.prototype.applyConstraints;r.prototype.applyConstraints=function(u){return this.kind==="audio"&&typeof u=="object"&&(u=JSON.parse(JSON.stringify(u)),s(u,"autoGainControl","mozAutoGainControl"),s(u,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[u])}}}}function j5(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function C1(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sd(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const o=t.RTCPeerConnection.prototype[s],c={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=c[s]});const i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,c,u]=arguments;return r.apply(this,[o||null]).then(h=>{if(e.version<53&&!c)try{h.forEach(f=>{f.type=i[f.type]||f.type})}catch(f){if(f.name!=="TypeError")throw f;h.forEach((m,v)=>{h.set(v,Object.assign({},m,{type:i[m.type]||m.type}))})}return h}).then(c,u)}}function x1(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(o=>o._pc=this),s});const i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=i.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function E1(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),ri(t,"track",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function T1(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(i){Fd("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&i.getTracks().includes(r.track)&&this.removeTrack(r)})})}function R1(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function M1(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=e.apply(this,arguments);if(s){const{sender:c}=o,u=c.getParameters();(!("encodings"in u)||u.encodings.length===1&&Object.keys(u.encodings[0]).length===0)&&(u.encodings=r,c.sendEncodings=r,this.setParametersPromises.push(c.setParameters(u).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return o})}function A1(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function N1(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function O1(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const p0=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:M1,shimCreateAnswer:O1,shimCreateOffer:N1,shimGetDisplayMedia:j5,shimGetParameters:A1,shimGetUserMedia:S1,shimOnTrack:C1,shimPeerConnection:sd,shimRTCDataChannel:R1,shimReceiverGetStats:E1,shimRemoveStream:T1,shimSenderGetStats:x1},Symbol.toStringTag,{value:"Module"}));function D1(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(i);if(r===-1)return;this._localStreams.splice(r,1);const s=i.getTracks();this.getSenders().forEach(o=>{s.includes(o.track)&&this.removeTrack(o)})})}}function k1(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(i){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,this.dispatchEvent(o)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const c=new Event("addstream");c.stream=o,r.dispatchEvent(c)})}),e.apply(r,arguments)}}}function P1(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,i=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,o=e.setRemoteDescription,c=e.addIceCandidate;e.createOffer=function(f,m){const v=arguments.length>=2?arguments[2]:arguments[0],g=i.apply(this,[v]);return m?(g.then(f,m),Promise.resolve()):g},e.createAnswer=function(f,m){const v=arguments.length>=2?arguments[2]:arguments[0],g=r.apply(this,[v]);return m?(g.then(f,m),Promise.resolve()):g};let u=function(h,f,m){const v=s.apply(this,[h]);return m?(v.then(f,m),Promise.resolve()):v};e.setLocalDescription=u,u=function(h,f,m){const v=o.apply(this,[h]);return m?(v.then(f,m),Promise.resolve()):v},e.setRemoteDescription=u,u=function(h,f,m){const v=c.apply(this,[h]);return m?(v.then(f,m),Promise.resolve()):v},e.addIceCandidate=u}function w1(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const i=e.mediaDevices,r=i.getUserMedia.bind(i);e.mediaDevices.getUserMedia=s=>r(z1(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,o){e.mediaDevices.getUserMedia(r).then(s,o)}).bind(e))}function z1(t){return t&&t.video!==void 0?Object.assign({},t,{video:h1(t.video)}):t}function U1(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const o=[];for(let c=0;c<r.iceServers.length;c++){let u=r.iceServers[c];u.urls===void 0&&u.url?(Fd("RTCIceServer.url","RTCIceServer.urls"),u=JSON.parse(JSON.stringify(u)),u.urls=u.url,delete u.url,o.push(u)):o.push(r.iceServers[c])}r.iceServers=o}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function G1(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function L1(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(c=>c.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function B1(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const m0=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:B1,shimCallbacksAPI:P1,shimConstraints:z1,shimCreateOfferLegacy:L1,shimGetUserMedia:w1,shimLocalStreamsAPI:D1,shimRTCIceServerUrls:U1,shimRemoteStreamsAPI:k1,shimTrackEventTransceiver:G1},Symbol.toStringTag,{value:"Module"}));var ku={exports:{}},g0;function H5(){return g0||(g0=1,function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(i){return i.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(i){return i.split(`
m=`).map((s,o)=>(o>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(i){const r=e.splitSections(i);return r&&r[0]},e.getMediaSections=function(i){const r=e.splitSections(i);return r.shift(),r},e.matchPrefix=function(i,r){return e.splitLines(i).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(i){let r;i.indexOf("a=candidate:")===0?r=i.substring(12).split(" "):r=i.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":s.relatedAddress=r[o+1];break;case"rport":s.relatedPort=parseInt(r[o+1],10);break;case"tcptype":s.tcpType=r[o+1];break;case"ufrag":s.ufrag=r[o+1],s.usernameFragment=r[o+1];break;default:s[r[o]]===void 0&&(s[r[o]]=r[o+1]);break}return s},e.writeCandidate=function(i){const r=[];r.push(i.foundation);const s=i.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(i.protocol.toUpperCase()),r.push(i.priority),r.push(i.address||i.ip),r.push(i.port);const o=i.type;return r.push("typ"),r.push(o),o!=="host"&&i.relatedAddress&&i.relatedPort&&(r.push("raddr"),r.push(i.relatedAddress),r.push("rport"),r.push(i.relatedPort)),i.tcpType&&i.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(i.tcpType)),(i.usernameFragment||i.ufrag)&&(r.push("ufrag"),r.push(i.usernameFragment||i.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(i){return i.substring(14).split(" ")},e.parseRtpMap=function(i){let r=i.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(i){let r=i.payloadType;i.preferredPayloadType!==void 0&&(r=i.preferredPayloadType);const s=i.channels||i.numChannels||1;return"a=rtpmap:"+r+" "+i.name+"/"+i.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(i){const r=i.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(i){return"a=extmap:"+(i.id||i.preferredId)+(i.direction&&i.direction!=="sendrecv"?"/"+i.direction:"")+" "+i.uri+(i.attributes?" "+i.attributes:"")+`\r
`},e.parseFmtp=function(i){const r={};let s;const o=i.substring(i.indexOf(" ")+1).split(";");for(let c=0;c<o.length;c++)s=o[c].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(i){let r="",s=i.payloadType;if(i.preferredPayloadType!==void 0&&(s=i.preferredPayloadType),i.parameters&&Object.keys(i.parameters).length){const o=[];Object.keys(i.parameters).forEach(c=>{i.parameters[c]!==void 0?o.push(c+"="+i.parameters[c]):o.push(c)}),r+="a=fmtp:"+s+" "+o.join(";")+`\r
`}return r},e.parseRtcpFb=function(i){const r=i.substring(i.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(i){let r="",s=i.payloadType;return i.preferredPayloadType!==void 0&&(s=i.preferredPayloadType),i.rtcpFeedback&&i.rtcpFeedback.length&&i.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+s+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(i){const r=i.indexOf(" "),s={ssrc:parseInt(i.substring(7,r),10)},o=i.indexOf(":",r);return o>-1?(s.attribute=i.substring(r+1,o),s.value=i.substring(o+1)):s.attribute=i.substring(r+1),s},e.parseSsrcGroup=function(i){const r=i.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(i){const r=e.matchPrefix(i,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(i){const r=i.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(i,r){return{role:"auto",fingerprints:e.matchPrefix(i+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(i,r){let s="a=setup:"+r+`\r
`;return i.fingerprints.forEach(o=>{s+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),s},e.parseCryptoLine=function(i){const r=i.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(i){return"a=crypto:"+i.tag+" "+i.cryptoSuite+" "+(typeof i.keyParams=="object"?e.writeCryptoKeyParams(i.keyParams):i.keyParams)+(i.sessionParams?" "+i.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(i){if(i.indexOf("inline:")!==0)return null;const r=i.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(i){return i.keyMethod+":"+i.keySalt+(i.lifeTime?"|"+i.lifeTime:"")+(i.mkiValue&&i.mkiLength?"|"+i.mkiValue+":"+i.mkiLength:"")},e.getCryptoParameters=function(i,r){return e.matchPrefix(i+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(i,r){const s=e.matchPrefix(i+r,"a=ice-ufrag:")[0],o=e.matchPrefix(i+r,"a=ice-pwd:")[0];return s&&o?{usernameFragment:s.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(i){let r="a=ice-ufrag:"+i.usernameFragment+`\r
a=ice-pwd:`+i.password+`\r
`;return i.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(i){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=e.splitLines(i)[0].split(" ");r.profile=o[2];for(let u=3;u<o.length;u++){const h=o[u],f=e.matchPrefix(i,"a=rtpmap:"+h+" ")[0];if(f){const m=e.parseRtpMap(f),v=e.matchPrefix(i,"a=fmtp:"+h+" ");switch(m.parameters=v.length?e.parseFmtp(v[0]):{},m.rtcpFeedback=e.matchPrefix(i,"a=rtcp-fb:"+h+" ").map(e.parseRtcpFb),r.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(m.name.toUpperCase());break}}}e.matchPrefix(i,"a=extmap:").forEach(u=>{r.headerExtensions.push(e.parseExtmap(u))});const c=e.matchPrefix(i,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(u=>{c.forEach(h=>{u.rtcpFeedback.find(m=>m.type===h.type&&m.parameter===h.parameter)||u.rtcpFeedback.push(h)})}),r},e.writeRtpDescription=function(i,r){let s="";s+="m="+i+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(c=>c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(c=>{s+=e.writeRtpMap(c),s+=e.writeFmtp(c),s+=e.writeRtcpFb(c)});let o=0;return r.codecs.forEach(c=>{c.maxptime>o&&(o=c.maxptime)}),o>0&&(s+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(c=>{s+=e.writeExtmap(c)}),s},e.parseRtpEncodingParameters=function(i){const r=[],s=e.parseRtpParameters(i),o=s.fecMechanisms.indexOf("RED")!==-1,c=s.fecMechanisms.indexOf("ULPFEC")!==-1,u=e.matchPrefix(i,"a=ssrc:").map(g=>e.parseSsrcMedia(g)).filter(g=>g.attribute==="cname"),h=u.length>0&&u[0].ssrc;let f;const m=e.matchPrefix(i,"a=ssrc-group:FID").map(g=>g.substring(17).split(" ").map(b=>parseInt(b,10)));m.length>0&&m[0].length>1&&m[0][0]===h&&(f=m[0][1]),s.codecs.forEach(g=>{if(g.name.toUpperCase()==="RTX"&&g.parameters.apt){let y={ssrc:h,codecPayloadType:parseInt(g.parameters.apt,10)};h&&f&&(y.rtx={ssrc:f}),r.push(y),o&&(y=JSON.parse(JSON.stringify(y)),y.fec={ssrc:h,mechanism:c?"red+ulpfec":"red"},r.push(y))}}),r.length===0&&h&&r.push({ssrc:h});let v=e.matchPrefix(i,"b=");return v.length&&(v[0].indexOf("b=TIAS:")===0?v=parseInt(v[0].substring(7),10):v[0].indexOf("b=AS:")===0?v=parseInt(v[0].substring(5),10)*1e3*.95-2e3*8:v=void 0,r.forEach(g=>{g.maxBitrate=v})),r},e.parseRtcpParameters=function(i){const r={},s=e.matchPrefix(i,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const o=e.matchPrefix(i,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const c=e.matchPrefix(i,"a=rtcp-mux");return r.mux=c.length>0,r},e.writeRtcpParameters=function(i){let r="";return i.reducedSize&&(r+=`a=rtcp-rsize\r
`),i.mux&&(r+=`a=rtcp-mux\r
`),i.ssrc!==void 0&&i.cname&&(r+="a=ssrc:"+i.ssrc+" cname:"+i.cname+`\r
`),r},e.parseMsid=function(i){let r;const s=e.matchPrefix(i,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=e.matchPrefix(i,"a=ssrc:").map(c=>e.parseSsrcMedia(c)).filter(c=>c.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(i){const r=e.parseMLine(i),s=e.matchPrefix(i,"a=max-message-size:");let o;s.length>0&&(o=parseInt(s[0].substring(19),10)),isNaN(o)&&(o=65536);const c=e.matchPrefix(i,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const u=e.matchPrefix(i,"a=sctpmap:");if(u.length>0){const h=u[0].substring(10).split(" ");return{port:parseInt(h[0],10),protocol:h[1],maxMessageSize:o}}},e.writeSctpDescription=function(i,r){let s=[];return i.protocol!=="DTLS/SCTP"?s=["m="+i.kind+" 9 "+i.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+i.kind+" 9 "+i.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(i,r,s){let o;const c=r!==void 0?r:2;return i?o=i:o=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+o+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(i,r){const s=e.splitLines(i);for(let o=0;o<s.length;o++)switch(s[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[o].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(i){return e.splitLines(i)[0].split(" ")[0].substring(2)},e.isRejected=function(i){return i.split(" ",2)[1]==="0"},e.parseMLine=function(i){const s=e.splitLines(i)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(i){const s=e.matchPrefix(i,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(i){if(typeof i!="string"||i.length===0)return!1;const r=e.splitLines(i);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e}(ku)),ku.exports}var F1=H5();const Wi=Pd(F1),I5=Lv({__proto__:null,default:Wi},[F1]);function il(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),o=Wi.parseCandidate(r.candidate);for(const c in o)c in s||Object.defineProperty(s,c,{value:o[c]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,ri(t,"icecandidate",i=>(i.candidate&&Object.defineProperty(i,"candidate",{value:new t.RTCIceCandidate(i.candidate),writable:"false"}),i))}function od(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ri(t,"icecandidate",e=>{if(e.candidate){const i=Wi.parseCandidate(e.candidate.candidate);i.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[i.priority>>24])}return e})}function rl(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const i=function(u){if(!u||!u.sdp)return!1;const h=Wi.splitSections(u.sdp);return h.shift(),h.some(f=>{const m=Wi.parseMLine(f);return m&&m.kind==="application"&&m.protocol.indexOf("SCTP")!==-1})},r=function(u){const h=u.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(h===null||h.length<2)return-1;const f=parseInt(h[1],10);return f!==f?-1:f},s=function(u){let h=65536;return e.browser==="firefox"&&(e.version<57?u===-1?h=16384:h=2147483637:e.version<60?h=e.version===57?65535:65536:h=2147483637),h},o=function(u,h){let f=65536;e.browser==="firefox"&&e.version===57&&(f=65535);const m=Wi.matchPrefix(u.sdp,"a=max-message-size:");return m.length>0?f=parseInt(m[0].substring(19),10):e.browser==="firefox"&&h!==-1&&(f=2147483637),f},c=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:h}=this.getConfiguration();h==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const h=r(arguments[0]),f=s(h),m=o(arguments[0],h);let v;f===0&&m===0?v=Number.POSITIVE_INFINITY:f===0||m===0?v=Math.max(f,m):v=Math.min(f,m);const g={};Object.defineProperty(g,"maxMessageSize",{get(){return v}}),this._sctp=g}return c.apply(this,arguments)}}function sl(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const o=r.send;r.send=function(){const u=arguments[0],h=u.length||u.size||u.byteLength;if(r.readyState==="open"&&s.sctp&&h>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const i=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=i.apply(this,arguments);return e(s,this),s},ri(t,"datachannel",r=>(e(r.channel,r.target),r))}function ld(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(i){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),i&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=i)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(i=>{const r=e[i];e[i]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const o=s.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const c=new Event("connectionstatechange",s);o.dispatchEvent(c)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function cd(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const i=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=s.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:o}):s.sdp=o}return i.apply(this,arguments)}}function ol(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const i=t.RTCPeerConnection.prototype.addIceCandidate;!i||i.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ll(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const i=t.RTCPeerConnection.prototype.setLocalDescription;!i||i.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return i.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?i.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>i.apply(this,[c]))})}const q5=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:cd,shimAddIceCandidateNullOrEmpty:ol,shimConnectionState:ld,shimMaxMessageSize:rl,shimParameterlessSetLocalDescription:ll,shimRTCIceCandidate:il,shimRTCIceCandidateRelayProtocol:od,shimSendThrowTypeError:sl},Symbol.toStringTag,{value:"Module"}));function Y5({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const i=d1,r=V5(t),s={browserDetails:r,commonShim:q5,extractVersion:Ms,disableLog:B5,disableWarnings:F5,sdp:I5};switch(r.browser){case"chrome":if(!f0||!rd||!e.shimChrome)return i("Chrome shim is not included in this adapter release."),s;if(r.version===null)return i("Chrome shim can not determine version, not shimming."),s;i("adapter.js shimming chrome."),s.browserShim=f0,ol(t,r),ll(t),f1(t,r),p1(t),rd(t,r),m1(t),_1(t,r),g1(t),y1(t),b1(t,r),il(t),od(t),ld(t),rl(t,r),sl(t),cd(t,r);break;case"firefox":if(!p0||!sd||!e.shimFirefox)return i("Firefox shim is not included in this adapter release."),s;i("adapter.js shimming firefox."),s.browserShim=p0,ol(t,r),ll(t),S1(t,r),sd(t,r),C1(t),T1(t),x1(t),E1(t),R1(t),M1(t),A1(t),N1(t),O1(t),il(t),ld(t),rl(t,r),sl(t);break;case"safari":if(!m0||!e.shimSafari)return i("Safari shim is not included in this adapter release."),s;i("adapter.js shimming safari."),s.browserShim=m0,ol(t,r),ll(t),U1(t),L1(t),P1(t),D1(t),k1(t),G1(t),w1(t),B1(t),il(t),od(t),rl(t,r),sl(t),cd(t,r);break;default:i("Unsupported browser!");break}return s}const y0=Y5({window:typeof window>"u"?void 0:window});function si(t,e,i,r){Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0})}class V1{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const i=[],r=e.byteLength,s=Math.ceil(r/this.chunkedMTU);let o=0,c=0;for(;c<r;){const u=Math.min(r,c+this.chunkedMTU),h=e.slice(c,u),f={__peerData:this._dataCount,n:o,data:h,total:s};i.push(f),c=u,o++}return this._dataCount++,i}}}function K5(t){let e=0;for(const s of t)e+=s.byteLength;const i=new Uint8Array(e);let r=0;for(const s of t)i.set(s,r),r+=s.byteLength;return i}const Pu=y0.default||y0,Lr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Pu.browserDetails.browser}getVersion(){return Pu.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Pu.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let i,r=!1;try{i=new RTCPeerConnection,i.addTransceiver("audio"),r=!0}catch{}finally{i&&i.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},X5=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),j1=()=>Math.random().toString(36).slice(2),v0={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Z5 extends V1{noop(){}blobToArrayBuffer(e,i){const r=new FileReader;return r.onload=function(s){s.target&&i(s.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r)&255;return i.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=v0,this.browser=Lr.getBrowser(),this.browserVersion=Lr.getVersion(),this.pack=l1,this.unpack=o1,this.supports=function(){const i={browser:Lr.isBrowserSupported(),webRTC:Lr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;let r;try{r=new RTCPeerConnection(v0),i.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!s.ordered;try{s.binaryType="blob",i.binaryBlob=!Lr.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return i}(),this.validateId=X5,this.randomToken=j1}}const Yt=new Z5,Q5="PeerJS: ";class W5{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...i){const r=[Q5,...i];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ve=new W5,Vd={},J5=Object.prototype.hasOwnProperty,Lt="~";function Ps(){}Object.create&&(Ps.prototype=Object.create(null),new Ps().__proto__||(Lt=!1));function $5(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function H1(t,e,i,r,s){if(typeof i!="function")throw new TypeError("The listener must be a function");var o=new $5(i,r||t,s),c=Lt?Lt+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],o]:t._events[c].push(o):(t._events[c]=o,t._eventsCount++),t}function cl(t,e){--t._eventsCount===0?t._events=new Ps:delete t._events[e]}function wt(){this._events=new Ps,this._eventsCount=0}wt.prototype.eventNames=function(){var e=[],i,r;if(this._eventsCount===0)return e;for(r in i=this._events)J5.call(i,r)&&e.push(Lt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(i)):e};wt.prototype.listeners=function(e){var i=Lt?Lt+e:e,r=this._events[i];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,c=new Array(o);s<o;s++)c[s]=r[s].fn;return c};wt.prototype.listenerCount=function(e){var i=Lt?Lt+e:e,r=this._events[i];return r?r.fn?1:r.length:0};wt.prototype.emit=function(e,i,r,s,o,c){var u=Lt?Lt+e:e;if(!this._events[u])return!1;var h=this._events[u],f=arguments.length,m,v;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,i),!0;case 3:return h.fn.call(h.context,i,r),!0;case 4:return h.fn.call(h.context,i,r,s),!0;case 5:return h.fn.call(h.context,i,r,s,o),!0;case 6:return h.fn.call(h.context,i,r,s,o,c),!0}for(v=1,m=new Array(f-1);v<f;v++)m[v-1]=arguments[v];h.fn.apply(h.context,m)}else{var g=h.length,y;for(v=0;v<g;v++)switch(h[v].once&&this.removeListener(e,h[v].fn,void 0,!0),f){case 1:h[v].fn.call(h[v].context);break;case 2:h[v].fn.call(h[v].context,i);break;case 3:h[v].fn.call(h[v].context,i,r);break;case 4:h[v].fn.call(h[v].context,i,r,s);break;default:if(!m)for(y=1,m=new Array(f-1);y<f;y++)m[y-1]=arguments[y];h[v].fn.apply(h[v].context,m)}}return!0};wt.prototype.on=function(e,i,r){return H1(this,e,i,r,!1)};wt.prototype.once=function(e,i,r){return H1(this,e,i,r,!0)};wt.prototype.removeListener=function(e,i,r,s){var o=Lt?Lt+e:e;if(!this._events[o])return this;if(!i)return cl(this,o),this;var c=this._events[o];if(c.fn)c.fn===i&&(!s||c.once)&&(!r||c.context===r)&&cl(this,o);else{for(var u=0,h=[],f=c.length;u<f;u++)(c[u].fn!==i||s&&!c[u].once||r&&c[u].context!==r)&&h.push(c[u]);h.length?this._events[o]=h.length===1?h[0]:h:cl(this,o)}return this};wt.prototype.removeAllListeners=function(e){var i;return e?(i=Lt?Lt+e:e,this._events[i]&&cl(this,i)):(this._events=new Ps,this._eventsCount=0),this};wt.prototype.off=wt.prototype.removeListener;wt.prototype.addListener=wt.prototype.on;wt.prefixed=Lt;wt.EventEmitter=wt;Vd=wt;var oi={};si(oi,"ConnectionType",()=>Aa);si(oi,"PeerErrorType",()=>ft);si(oi,"BaseConnectionErrorType",()=>ud);si(oi,"DataConnectionErrorType",()=>jd);si(oi,"SerializationType",()=>kl);si(oi,"SocketEventType",()=>Ma);si(oi,"ServerMessageType",()=>Pt);var Aa=function(t){return t.Data="data",t.Media="media",t}({}),ft=function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t}({}),ud=function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t}({}),jd=function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t}({}),kl=function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t}({}),Ma=function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t}({}),Pt=function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t}({});const I1="1.5.5";class e3 extends Vd.EventEmitter{constructor(e,i,r,s,o,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[];const u=e?"wss://":"ws://";this._baseUrl=u+i+":"+r+s+"peerjs?key="+o}start(e,i){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${i}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+I1),this._disconnected=!1,this._socket.onmessage=s=>{let o;try{o=JSON.parse(s.data),ve.log("Server message received:",o)}catch{ve.log("Invalid server message",s.data);return}this.emit(Ma.Message,o)},this._socket.onclose=s=>{this._disconnected||(ve.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(Ma.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ve.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ve.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Pt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const i of e)this.send(i)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Ma.Error,"Invalid message");return}if(!this._wsOpen())return;const i=JSON.stringify(e);this._socket.send(i)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class q1{constructor(e){this.connection=e}startConnection(e){const i=this._startPeerConnection();if(this.connection.peerConnection=i,this.connection.type===Aa.Media&&e._stream&&this._addTracksToConnection(e._stream,i),e.originator){const r=this.connection,s={ordered:!!e.reliable},o=i.createDataChannel(r.label,s);r._initializeDataChannel(o),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ve.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const i=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,o=this.connection.provider;ve.log("Listening for ICE candidates."),e.onicecandidate=c=>{!c.candidate||!c.candidate.candidate||(ve.log(`Received ICE candidates for ${i}:`,c.candidate),o.socket.send({type:Pt.Candidate,payload:{candidate:c.candidate,type:s,connectionId:r},dst:i}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ve.log("iceConnectionState is failed, closing connections to "+i),this.connection.emitError(ud.NegotiationFailed,"Negotiation of connection to "+i+" failed."),this.connection.close();break;case"closed":ve.log("iceConnectionState is closed, closing connections to "+i),this.connection.emitError(ud.ConnectionClosed,"Connection to "+i+" closed."),this.connection.close();break;case"disconnected":ve.log("iceConnectionState changed to disconnected on the connection with "+i);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ve.log("Listening for data channel"),e.ondatachannel=c=>{ve.log("Received data channel");const u=c.channel;o.getConnection(i,r)._initializeDataChannel(u)},ve.log("Listening for remote stream"),e.ontrack=c=>{ve.log("Received remote stream");const u=c.streams[0],h=o.getConnection(i,r);if(h.type===Aa.Media){const f=h;this._addStreamToMediaConnection(u,f)}}}cleanup(){ve.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const i=e.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(i||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,i=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ve.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ve.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Aa.Data){const o=this.connection;s={...s,label:o.label,reliable:o.reliable,serialization:o.serialization}}i.socket.send({type:Pt.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(i.emitError(ft.WebRTC,s),ve.log("Failed to setLocalDescription, ",s))}}catch(r){i.emitError(ft.WebRTC,r),ve.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,i=this.connection.provider;try{const r=await e.createAnswer();ve.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ve.log("Set localDescription:",r,`for:${this.connection.peer}`),i.socket.send({type:Pt.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){i.emitError(ft.WebRTC,s),ve.log("Failed to setLocalDescription, ",s)}}catch(r){i.emitError(ft.WebRTC,r),ve.log("Failed to create answer, ",r)}}async handleSDP(e,i){i=new RTCSessionDescription(i);const r=this.connection.peerConnection,s=this.connection.provider;ve.log("Setting remote description",i);const o=this;try{await r.setRemoteDescription(i),ve.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await o._makeAnswer()}catch(c){s.emitError(ft.WebRTC,c),ve.log("Failed to setRemoteDescription, ",c)}}async handleCandidate(e){ve.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ve.log(`Added ICE candidate for:${this.connection.peer}`)}catch(i){this.connection.provider.emitError(ft.WebRTC,i),ve.log("Failed to handleCandidate, ",i)}}_addTracksToConnection(e,i){if(ve.log(`add tracks from stream ${e.id} to peer connection`),!i.addTrack)return ve.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{i.addTrack(r,e)})}_addStreamToMediaConnection(e,i){ve.log(`add stream ${e.id} to media connection ${i.connectionId}`),i.addStream(e)}}class Y1 extends Vd.EventEmitter{emitError(e,i){ve.error("Error:",i),this.emit("error",new t3(`${e}`,i))}}class t3 extends Error{constructor(e,i){typeof i=="string"?super(i):(super(),Object.assign(this,i)),this.type=e}}class K1 extends Y1{get open(){return this._open}constructor(e,i,r){super(),this.peer=e,this.provider=i,this.options=r,this._open=!1,this.metadata=r.metadata}}var Nd;const Ns=class Ns extends K1{get type(){return Aa.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,i,r){super(e,i,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ns.ID_PREFIX+Yt.randomToken(),this._negotiator=new q1(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ve.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const i=e.type,r=e.payload;switch(e.type){case Pt.Answer:this._negotiator.handleSDP(i,r.sdp),this._open=!0;break;case Pt.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ve.warn(`Unrecognized message type:${i} from peer:${this.peer}`);break}}answer(e,i={}){if(this._localStream){ve.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,i&&i.sdpTransform&&(this.options.sdpTransform=i.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Nd=new WeakMap,Ur(Ns,Nd,Ns.ID_PREFIX="mc_");let fl=Ns;class n3{constructor(e){this._options=e}_buildRequest(e){const i=this._options.secure?"https":"http",{host:r,port:s,path:o,key:c}=this._options,u=new URL(`${i}://${r}:${s}${o}${c}/${e}`);return u.searchParams.set("ts",`${Date.now()}${Math.random()}`),u.searchParams.set("version",I1),fetch(u.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ve.error("Error retrieving ID",e);let i="";throw this._options.path==="/"&&this._options.host!==Yt.CLOUD_HOST&&(i=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+i)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let i="";throw this._options.host===Yt.CLOUD_HOST?i="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":i="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+i)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ve.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Od,Dd;const Qa=class Qa extends K1{get type(){return Aa.Data}constructor(e,i,r){super(e,i,r),this.connectionId=this.options.connectionId||Qa.ID_PREFIX+j1(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new q1(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=i=>{ve.log(`DC#${this.connectionId} dc onmessage:`,i.data)},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,i=!1){if(!this.open){this.emitError(jd.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,i)}async handleMessage(e){const i=e.payload;switch(e.type){case Pt.Answer:await this._negotiator.handleSDP(e.type,i.sdp);break;case Pt.Candidate:await this._negotiator.handleCandidate(i.candidate);break;default:ve.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Od=new WeakMap,Dd=new WeakMap,Ur(Qa,Od,Qa.ID_PREFIX="dc_"),Ur(Qa,Dd,Qa.MAX_BUFFERED_AMOUNT=8388608);let pl=Qa;class Hd extends pl{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",i=>this._handleDataMessage(i))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>pl.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(i){return ve.error(`DC#:${this.connectionId} Error when sending:`,i),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class wu extends Hd{close(e){super.close(e),this._chunkedData={}}constructor(e,i,r){super(e,i,r),this.chunker=new V1,this.serialization=kl.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const i=o1(e),r=i.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(i);return}this.emit("data",i)}_handleChunk(e){const i=e.__peerData,r=this._chunkedData[i]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[i]=r,r.total===r.count){delete this._chunkedData[i];const s=K5(r.data);this._handleDataMessage({data:s})}}_send(e,i){const r=l1(e);if(r instanceof Promise)return this._send_blob(r);if(!i&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const i=await e;if(i.byteLength>this.chunker.chunkedMTU){this._sendChunks(i);return}this._bufferedSend(i)}_sendChunks(e){const i=this.chunker.chunk(e);ve.log(`DC#${this.connectionId} Try to send ${i.length} chunks...`);for(const r of i)this.send(r,!0)}}class a3 extends Hd{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,i){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=kl.None}}class i3 extends Hd{_handleDataMessage({data:e}){const i=this.parse(this.decoder.decode(e)),r=i.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",i)}_send(e,i){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Yt.chunkedMTU){this.emitError(jd.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=kl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var kd;const Os=class Os extends Y1{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[i,r]of this._connections)e[i]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,i){super(),this._serializers={raw:a3,json:i3,binary:wu,"binary-utf8":wu,default:wu},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?i=e:e&&(r=e.toString()),i={debug:0,host:Yt.CLOUD_HOST,port:Yt.CLOUD_PORT,path:"/",key:Os.DEFAULT_KEY,token:Yt.randomToken(),config:Yt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...i},this._options=i,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Yt.CLOUD_HOST?this._options.secure=Yt.isSecure():this._options.host==Yt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ve.setLogFunction(this._options.logFunction),ve.logLevel=this._options.debug||0,this._api=new n3(i),this._socket=this._createServerConnection(),!Yt.supports.audioVideo&&!Yt.supports.data){this._delayedAbort(ft.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Yt.validateId(r)){this._delayedAbort(ft.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(ft.ServerError,s))}_createServerConnection(){const e=new e3(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Ma.Message,i=>{this._handleMessage(i)}),e.on(Ma.Error,i=>{this._abort(ft.SocketError,i)}),e.on(Ma.Disconnected,()=>{this.disconnected||(this.emitError(ft.Network,"Lost connection to server."),this.disconnect())}),e.on(Ma.Close,()=>{this.disconnected||this._abort(ft.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const i=e.type,r=e.payload,s=e.src;switch(i){case Pt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Pt.Error:this._abort(ft.ServerError,r.msg);break;case Pt.IdTaken:this._abort(ft.UnavailableID,`ID "${this.id}" is taken`);break;case Pt.InvalidKey:this._abort(ft.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Pt.Leave:ve.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Pt.Expire:this.emitError(ft.PeerUnavailable,`Could not connect to peer ${s}`);break;case Pt.Offer:{const o=r.connectionId;let c=this.getConnection(s,o);if(c&&(c.close(),ve.warn(`Offer received for existing Connection ID:${o}`)),r.type===Aa.Media){const h=new fl(s,this,{connectionId:o,_payload:r,metadata:r.metadata});c=h,this._addConnection(s,c),this.emit("call",h)}else if(r.type===Aa.Data){const h=new this._serializers[r.serialization](s,this,{connectionId:o,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});c=h,this._addConnection(s,c),this.emit("connection",h)}else{ve.warn(`Received malformed connection type:${r.type}`);return}const u=this._getMessages(o);for(const h of u)c.handleMessage(h);break}default:{if(!r){ve.warn(`You received a malformed message from ${s} of type ${i}`);return}const o=r.connectionId,c=this.getConnection(s,o);c&&c.peerConnection?c.handleMessage(e):o?this._storeMessage(o,e):ve.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,i){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(i)}_getMessages(e){const i=this._lostMessages.get(e);return i?(this._lostMessages.delete(e),i):[]}connect(e,i={}){if(i={serialization:"default",...i},this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ft.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[i.serialization](e,this,i);return this._addConnection(e,r),r}call(e,i,r={}){if(this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ft.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!i){ve.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new fl(e,this,{...r,_stream:i});return this._addConnection(e,s),s}_addConnection(e,i){ve.log(`add connection ${i.type}:${i.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(i)}_removeConnection(e){const i=this._connections.get(e.peer);if(i){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,i){const r=this._connections.get(e);if(!r)return null;for(const s of r)if(s.connectionId===i)return s;return null}_delayedAbort(e,i){setTimeout(()=>{this._abort(e,i)},0)}_abort(e,i){ve.error("Aborting!"),this.emitError(e,i),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ve.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const i=this._connections.get(e);if(i)for(const r of i)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ve.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ve.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ve.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=i=>{}){this._api.listAllPeers().then(i=>e(i)).catch(i=>this._abort(ft.ServerError,i))}};kd=new WeakMap,Ur(Os,kd,Os.DEFAULT_KEY="peerjs");let dd=Os;const _0=t=>{let e;const i=new Set,r=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const g=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),i.forEach(y=>y(e,g))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>h,subscribe:f=>(i.add(f),()=>i.delete(f))},h=e=t(r,s,u);return u},r3=t=>t?_0(t):_0,s3=t=>t;function o3(t,e=s3){const i=et.useSyncExternalStore(t.subscribe,et.useCallback(()=>e(t.getState()),[t,e]),et.useCallback(()=>e(t.getInitialState()),[t,e]));return et.useDebugValue(i),i}const b0=t=>{const e=r3(t),i=r=>o3(e,r);return Object.assign(i,e),i},l3=t=>t?b0(t):b0;var X1=Symbol.for("immer-nothing"),S0=Symbol.for("immer-draftable"),sn=Symbol.for("immer-state");function Cn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object.getPrototypeOf;function tr(t){return!!t&&!!t[sn]}function ei(t){var e;return t?Z1(t)||Array.isArray(t)||!!t[S0]||!!((e=t.constructor)!=null&&e[S0])||wl(t)||zl(t):!1}var c3=Object.prototype.constructor.toString();function Z1(t){if(!t||typeof t!="object")return!1;const e=er(t);if(e===null)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===c3}function ml(t,e){Pl(t)===0?Reflect.ownKeys(t).forEach(i=>{e(i,t[i],t)}):t.forEach((i,r)=>e(r,i,t))}function Pl(t){const e=t[sn];return e?e.type_:Array.isArray(t)?1:wl(t)?2:zl(t)?3:0}function hd(t,e){return Pl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Q1(t,e,i){const r=Pl(t);r===2?t.set(e,i):r===3?t.add(i):t[e]=i}function u3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wl(t){return t instanceof Map}function zl(t){return t instanceof Set}function Za(t){return t.copy_||t.base_}function fd(t,e){if(wl(t))return new Map(t);if(zl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const i=Z1(t);if(e===!0||e==="class_only"&&!i){const r=Object.getOwnPropertyDescriptors(t);delete r[sn];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const c=s[o],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(er(t),r)}else{const r=er(t);if(r!==null&&i)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Id(t,e=!1){return Ul(t)||tr(t)||!ei(t)||(Pl(t)>1&&(t.set=t.add=t.clear=t.delete=d3),Object.freeze(t),e&&Object.entries(t).forEach(([i,r])=>Id(r,!0))),t}function d3(){Cn(2)}function Ul(t){return Object.isFrozen(t)}var h3={};function ti(t){const e=h3[t];return e||Cn(0,t),e}var ws;function W1(){return ws}function f3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function C0(t,e){e&&(ti("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pd(t){md(t),t.drafts_.forEach(p3),t.drafts_=null}function md(t){t===ws&&(ws=t.parent_)}function x0(t){return ws=f3(ws,t)}function p3(t){const e=t[sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return t!==void 0&&t!==i?(i[sn].modified_&&(pd(e),Cn(4)),ei(t)&&(t=gl(e,t),e.parent_||yl(e,t)),e.patches_&&ti("Patches").generateReplacementPatches_(i[sn].base_,t,e.patches_,e.inversePatches_)):t=gl(e,i,[]),pd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X1?t:void 0}function gl(t,e,i){if(Ul(e))return e;const r=e[sn];if(!r)return ml(e,(s,o)=>T0(t,r,e,s,o,i)),e;if(r.scope_!==t)return e;if(!r.modified_)return yl(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,c=!1;r.type_===3&&(o=new Set(s),s.clear(),c=!0),ml(o,(u,h)=>T0(t,r,s,u,h,i,c)),yl(t,s,!1),i&&t.patches_&&ti("Patches").generatePatches_(r,i,t.patches_,t.inversePatches_)}return r.copy_}function T0(t,e,i,r,s,o,c){if(tr(s)){const u=o&&e&&e.type_!==3&&!hd(e.assigned_,r)?o.concat(r):void 0,h=gl(t,s,u);if(Q1(i,r,h),tr(h))t.canAutoFreeze_=!1;else return}else c&&i.add(s);if(ei(s)&&!Ul(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;gl(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,r)&&yl(t,s)}}function yl(t,e,i=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Id(e,i)}function m3(t,e){const i=Array.isArray(t),r={type_:i?1:0,scope_:e?e.scope_:W1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=qd;i&&(s=[r],o=zs);const{revoke:c,proxy:u}=Proxy.revocable(s,o);return r.draft_=u,r.revoke_=c,u}var qd={get(t,e){if(e===sn)return t;const i=Za(t);if(!hd(i,e))return g3(t,i,e);const r=i[e];return t.finalized_||!ei(r)?r:r===zu(t.base_,e)?(Uu(t),t.copy_[e]=yd(r,t)):r},has(t,e){return e in Za(t)},ownKeys(t){return Reflect.ownKeys(Za(t))},set(t,e,i){const r=J1(Za(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,i),!0;if(!t.modified_){const s=zu(Za(t),e),o=s==null?void 0:s[sn];if(o&&o.base_===i)return t.copy_[e]=i,t.assigned_[e]=!1,!0;if(u3(i,s)&&(i!==void 0||hd(t.base_,e)))return!0;Uu(t),gd(t)}return t.copy_[e]===i&&(i!==void 0||e in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=i,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zu(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Uu(t),gd(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const i=Za(t),r=Reflect.getOwnPropertyDescriptor(i,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:i[e]}},defineProperty(){Cn(11)},getPrototypeOf(t){return er(t.base_)},setPrototypeOf(){Cn(12)}},zs={};ml(qd,(t,e)=>{zs[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zs.deleteProperty=function(t,e){return zs.set.call(this,t,e,void 0)};zs.set=function(t,e,i){return qd.set.call(this,t[0],e,i,t[0])};function zu(t,e){const i=t[sn];return(i?Za(i):t)[e]}function g3(t,e,i){var s;const r=J1(e,i);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function J1(t,e){if(!(e in t))return;let i=er(t);for(;i;){const r=Object.getOwnPropertyDescriptor(i,e);if(r)return r;i=er(i)}}function gd(t){t.modified_||(t.modified_=!0,t.parent_&&gd(t.parent_))}function Uu(t){t.copy_||(t.copy_=fd(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var y3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,i,r)=>{if(typeof e=="function"&&typeof i!="function"){const o=i;i=e;const c=this;return function(h=o,...f){return c.produce(h,m=>i.call(this,m,...f))}}typeof i!="function"&&Cn(6),r!==void 0&&typeof r!="function"&&Cn(7);let s;if(ei(e)){const o=x0(this),c=yd(e,void 0);let u=!0;try{s=i(c),u=!1}finally{u?pd(o):md(o)}return C0(o,r),E0(s,o)}else if(!e||typeof e!="object"){if(s=i(e),s===void 0&&(s=e),s===X1&&(s=void 0),this.autoFreeze_&&Id(s,!0),r){const o=[],c=[];ti("Patches").generateReplacementPatches_(e,s,o,c),r(o,c)}return s}else Cn(1,e)},this.produceWithPatches=(e,i)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,h=>e(h,...u));let r,s;return[this.produce(e,i,(c,u)=>{r=c,s=u}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ei(t)||Cn(8),tr(t)&&(t=v3(t));const e=x0(this),i=yd(t,void 0);return i[sn].isManual_=!0,md(e),i}finishDraft(t,e){const i=t&&t[sn];(!i||!i.isManual_)&&Cn(9);const{scope_:r}=i;return C0(r,e),E0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const s=e[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(e=e.slice(i+1));const r=ti("Patches").applyPatches_;return tr(t)?r(t,e):this.produce(t,s=>r(s,e))}};function yd(t,e){const i=wl(t)?ti("MapSet").proxyMap_(t,e):zl(t)?ti("MapSet").proxySet_(t,e):m3(t,e);return(e?e.scope_:W1()).drafts_.push(i),i}function v3(t){return tr(t)||Cn(10,t),$1(t)}function $1(t){if(!ei(t)||Ul(t))return t;const e=t[sn];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=fd(t,e.scope_.immer_.useStrictShallowCopy_)}else i=fd(t,!0);return ml(i,(r,s)=>{Q1(i,r,$1(s))}),e&&(e.finalized_=!1),i}var on=new y3,_3=on.produce;on.produceWithPatches.bind(on);on.setAutoFreeze.bind(on);on.setUseStrictShallowCopy.bind(on);on.applyPatches.bind(on);on.createDraft.bind(on);on.finishDraft.bind(on);const b3=t=>(e,i,r)=>(r.setState=(s,o,...c)=>{const u=typeof s=="function"?_3(s):s;return e(u,o,...c)},t(r.setState,i,r)),S3=b3;function C3(t,e,i,r){const s=[{x:0,y:1},{x:1,y:0},{x:1,y:1},{x:-1,y:1}];let o=!1;for(const c of s){let u=1,h=1;for(;t+c.x>=0&&t+c.x<r.length&&e+c.y>=0&&e+c.y<r[0].length;)if(u>=5){o=!0;break}else if(r[t+h*c.x][e+h*c.y]===i)u+=1,h++;else break;for(h=1;t-c.x>=0&&t-c.x<r.length-1&&e-c.y>=0&&e-c.y<r[0].length-1;)if(u>=5){o=!0;break}else if(r[t-h*c.x][e-h*c.y]===i)u+=1,h++;else break}return{isWon:o,winner:i}}const x3=t=>t.length===225,R0={isWon:!1,isDraw:!1,isMyTurn:!1,board:new Array(15).fill(null).map(()=>new Array(15).fill("")),piecePos:[],player:{me:"white",opponent:"black"},winner:""},Wa=l3()(S3((t,e)=>({...R0,setIsWin:()=>t(i=>{i.isWon=!0}),setIsDraw:()=>t(i=>{i.isDraw=!0}),setIsMyTurn:i=>t(r=>{r.isMyTurn=i}),placePiece:(i,r,s)=>t(o=>{o.piecePos.push({x:i,y:r,player:o.player[s]}),o.board[i][r]=o.player[s];const{isWon:c,winner:u}=C3(i,r,e().player[s],e().board);c&&(o.isWon=!0,o.winner=u,o.isMyTurn=!1),x3(e().board)&&(o.isDraw=!0,o.isMyTurn=!1)}),setPlayer:i=>t(r=>{i==="white"?r.player={me:"white",opponent:"black"}:r.player={me:"black",opponent:"white"}}),reset:()=>t(R0)})));var e2=(t=>(t.Initial="INITIAL",t.Place="PLACE",t.Restart="RESTART",t))(e2||{});function E3(){const t=Wa(h=>h.setPlayer),e=Wa(h=>h.placePiece),i=Wa(h=>h.setIsMyTurn),r=Wa(h=>h.reset);function s(h){typeof h.x=="number"&&typeof h.y=="number"&&(i(!0),e(h.x,h.y,"opponent"))}function o(h){const f=(Math.floor(Math.random()*10)+1)%2;f===0?t("white"):(t("black"),i(!0)),h.send({action:"INITIAL",player:f})}function c(h){h.send({action:"RESTART"})}function u(h,f){switch(h.action){case"INITIAL":r(),h.player===0?(t("black"),i(!0)):h.player===1&&t("white");break;case"PLACE":s(h);break;case"RESTART":confirm("Do you want to restart?")?(r(),o(f)):f.close()}}return{initialGame:o,handleAction:u,placeOppoPiece:s,restart:c}}function T3(){const t=X.useRef(null),e=X.useRef(null),[i,r]=X.useState(""),[s,o]=X.useState(!1),c=E3(),u=Wa(v=>v.setIsMyTurn);X.useEffect(()=>(t.current=new dd("",{}),t.current.on("open",v=>{r(v)}),t.current.on("connection",v=>{e.current=v,v.on("open",()=>{o(!0)}),v.on("data",g=>{c.handleAction(g,v)}),v.on("close",()=>{console.log("close")}),v.on("error",g=>{console.log(g)})}),()=>{var v;(v=t.current)==null||v.destroy()}),[]);function h(v){if(t.current){e.current=t.current.connect(v);const g=e.current;g.on("open",()=>{o(!0),c.initialGame(g)}),g.on("data",y=>{c.handleAction(y,g)}),g.on("close",()=>{console.log("close")}),g.on("error",y=>{console.log(y)})}}function f(v,g){const y=e.current;u(!1),y&&y.send({action:e2.Place,x:v,y:g})}function m(){e.current&&c.restart(e.current)}return{id:i,connect:h,isConnected:s,sendPiece:f,restart:m}}var R3=function(t,e,i){if(i||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function M3(t,e,i,r,s,o,c,u,h){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return i(e(t));case 4:return r(i(e(t)));case 5:return s(r(i(e(t))));case 6:return o(s(r(i(e(t)))));case 7:return c(o(s(r(i(e(t))))));case 8:return u(c(o(s(r(i(e(t)))))));case 9:return h(u(c(o(s(r(i(e(t))))))));default:{for(var f=arguments[0],m=1;m<arguments.length;m++)f=arguments[m](f);return f}}}var A3=function(t,e){var i=function(r){return r.length>=t};return function(){var r=Array.from(arguments);return i(arguments)?e.apply(this,r):function(s){return e.apply(void 0,R3([s],r,!1))}}},N3={_tag:"None"},O3=function(t){return{_tag:"Some",value:t}},vl=N3,vd=O3,D3=A3(2,function(t,e){return t2(t)?vl:e(t.value)}),t2=function(t){return t._tag==="None"},k3=function(t,e){return function(i){return t2(i)?t():e(i.value)}},P3=k3,w3=function(t){return t==null?vl:vd(t)},M0=D3,ul={exports:{}},Br={},Gu={},Lu={},A0;function we(){return A0||(A0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Vp<"u"?Vp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:i(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var s;return(s=t.Konva.Transformer)===null||s===void 0?void 0:s.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const r=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=r,t.Konva._injectGlobal(t.Konva)}(Lu)),Lu}var Bu={},N0;function rt(){return N0||(N0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=we();class i{constructor(E=[1,0,0,1,0,0]){this.dirty=!1,this.m=E&&E.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(E){E.m[0]=this.m[0],E.m[1]=this.m[1],E.m[2]=this.m[2],E.m[3]=this.m[3],E.m[4]=this.m[4],E.m[5]=this.m[5]}point(E){const R=this.m;return{x:R[0]*E.x+R[2]*E.y+R[4],y:R[1]*E.x+R[3]*E.y+R[5]}}translate(E,R){return this.m[4]+=this.m[0]*E+this.m[2]*R,this.m[5]+=this.m[1]*E+this.m[3]*R,this}scale(E,R){return this.m[0]*=E,this.m[1]*=E,this.m[2]*=R,this.m[3]*=R,this}rotate(E){const R=Math.cos(E),k=Math.sin(E),G=this.m[0]*R+this.m[2]*k,M=this.m[1]*R+this.m[3]*k,D=this.m[0]*-k+this.m[2]*R,P=this.m[1]*-k+this.m[3]*R;return this.m[0]=G,this.m[1]=M,this.m[2]=D,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(E,R){const k=this.m[0]+this.m[2]*R,G=this.m[1]+this.m[3]*R,M=this.m[2]+this.m[0]*E,D=this.m[3]+this.m[1]*E;return this.m[0]=k,this.m[1]=G,this.m[2]=M,this.m[3]=D,this}multiply(E){const R=this.m[0]*E.m[0]+this.m[2]*E.m[1],k=this.m[1]*E.m[0]+this.m[3]*E.m[1],G=this.m[0]*E.m[2]+this.m[2]*E.m[3],M=this.m[1]*E.m[2]+this.m[3]*E.m[3],D=this.m[0]*E.m[4]+this.m[2]*E.m[5]+this.m[4],P=this.m[1]*E.m[4]+this.m[3]*E.m[5]+this.m[5];return this.m[0]=R,this.m[1]=k,this.m[2]=G,this.m[3]=M,this.m[4]=D,this.m[5]=P,this}invert(){const E=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),R=this.m[3]*E,k=-this.m[1]*E,G=-this.m[2]*E,M=this.m[0]*E,D=E*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=E*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=R,this.m[1]=k,this.m[2]=G,this.m[3]=M,this.m[4]=D,this.m[5]=P,this}getMatrix(){return this.m}decompose(){const E=this.m[0],R=this.m[1],k=this.m[2],G=this.m[3],M=this.m[4],D=this.m[5],P=E*G-R*k,B={x:M,y:D,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(E!=0||R!=0){const j=Math.sqrt(E*E+R*R);B.rotation=R>0?Math.acos(E/j):-Math.acos(E/j),B.scaleX=j,B.scaleY=P/j,B.skewX=(E*k+R*G)/P,B.skewY=0}else if(k!=0||G!=0){const j=Math.sqrt(k*k+G*G);B.rotation=Math.PI/2-(G>0?Math.acos(-k/j):-Math.acos(k/j)),B.scaleX=P/j,B.scaleY=j,B.skewX=0,B.skewY=(E*k+R*G)/P}return B.rotation=t.Util._getRotation(B.rotation),B}}t.Transform=i;const r="[object Array]",s="[object Number]",o="[object String]",c="[object Boolean]",u=Math.PI/180,h=180/Math.PI,f="#",m="",v="0",g="Konva warning: ",y="Konva error: ",b="rgb(",C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let N=[];const x=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_){setTimeout(_,60)};t.Util={_isElement(_){return!!(_&&_.nodeType==1)},_isFunction(_){return!!(_&&_.constructor&&_.call&&_.apply)},_isPlainObject(_){return!!_&&_.constructor===Object},_isArray(_){return Object.prototype.toString.call(_)===r},_isNumber(_){return Object.prototype.toString.call(_)===s&&!isNaN(_)&&isFinite(_)},_isString(_){return Object.prototype.toString.call(_)===o},_isBoolean(_){return Object.prototype.toString.call(_)===c},isObject(_){return _ instanceof Object},isValidSelector(_){if(typeof _!="string")return!1;const E=_[0];return E==="#"||E==="."||E===E.toUpperCase()},_sign(_){return _===0||_>0?1:-1},requestAnimFrame(_){N.push(_),N.length===1&&x(function(){const E=N;N=[],E.forEach(function(R){R()})})},createCanvasElement(){const _=document.createElement("canvas");try{_.style=_.style||{}}catch{}return _},createImageElement(){return document.createElement("img")},_isInDocument(_){for(;_=_.parentNode;)if(_==document)return!0;return!1},_urlToImage(_,E){const R=t.Util.createImageElement();R.onload=function(){E(R)},R.src=_},_rgbToHex(_,E,R){return((1<<24)+(_<<16)+(E<<8)+R).toString(16).slice(1)},_hexToRgb(_){_=_.replace(f,m);const E=parseInt(_,16);return{r:E>>16&255,g:E>>8&255,b:E&255}},getRandomColor(){let _=(Math.random()*16777215<<0).toString(16);for(;_.length<6;)_=v+_;return f+_},getRGB(_){let E;return _ in C?(E=C[_],{r:E[0],g:E[1],b:E[2]}):_[0]===f?this._hexToRgb(_.substring(1)):_.substr(0,4)===b?(E=T.exec(_.replace(/ /g,"")),{r:parseInt(E[1],10),g:parseInt(E[2],10),b:parseInt(E[3],10)}):{r:0,g:0,b:0}},colorToRGBA(_){return _=_||"black",t.Util._namedColorToRBA(_)||t.Util._hex3ColorToRGBA(_)||t.Util._hex4ColorToRGBA(_)||t.Util._hex6ColorToRGBA(_)||t.Util._hex8ColorToRGBA(_)||t.Util._rgbColorToRGBA(_)||t.Util._rgbaColorToRGBA(_)||t.Util._hslColorToRGBA(_)},_namedColorToRBA(_){const E=C[_.toLowerCase()];return E?{r:E[0],g:E[1],b:E[2],a:1}:null},_rgbColorToRGBA(_){if(_.indexOf("rgb(")===0){_=_.match(/rgb\(([^)]+)\)/)[1];const E=_.split(/ *, */).map(Number);return{r:E[0],g:E[1],b:E[2],a:1}}},_rgbaColorToRGBA(_){if(_.indexOf("rgba(")===0){_=_.match(/rgba\(([^)]+)\)/)[1];const E=_.split(/ *, */).map((R,k)=>R.slice(-1)==="%"?k===3?parseInt(R)/100:parseInt(R)/100*255:Number(R));return{r:E[0],g:E[1],b:E[2],a:E[3]}}},_hex8ColorToRGBA(_){if(_[0]==="#"&&_.length===9)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:parseInt(_.slice(7,9),16)/255}},_hex6ColorToRGBA(_){if(_[0]==="#"&&_.length===7)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:1}},_hex4ColorToRGBA(_){if(_[0]==="#"&&_.length===5)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:parseInt(_[4]+_[4],16)/255}},_hex3ColorToRGBA(_){if(_[0]==="#"&&_.length===4)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:1}},_hslColorToRGBA(_){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_)){const[E,...R]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_),k=Number(R[0])/360,G=Number(R[1])/100,M=Number(R[2])/100;let D,P,B;if(G===0)return B=M*255,{r:Math.round(B),g:Math.round(B),b:Math.round(B),a:1};M<.5?D=M*(1+G):D=M+G-M*G;const j=2*M-D,q=[0,0,0];for(let Y=0;Y<3;Y++)P=k+1/3*-(Y-1),P<0&&P++,P>1&&P--,6*P<1?B=j+(D-j)*6*P:2*P<1?B=D:3*P<2?B=j+(D-j)*(2/3-P)*6:B=j,q[Y]=B*255;return{r:Math.round(q[0]),g:Math.round(q[1]),b:Math.round(q[2]),a:1}}},haveIntersection(_,E){return!(E.x>_.x+_.width||E.x+E.width<_.x||E.y>_.y+_.height||E.y+E.height<_.y)},cloneObject(_){const E={};for(const R in _)this._isPlainObject(_[R])?E[R]=this.cloneObject(_[R]):this._isArray(_[R])?E[R]=this.cloneArray(_[R]):E[R]=_[R];return E},cloneArray(_){return _.slice(0)},degToRad(_){return _*u},radToDeg(_){return _*h},_degToRad(_){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(_)},_radToDeg(_){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(_)},_getRotation(_){return e.Konva.angleDeg?t.Util.radToDeg(_):_},_capitalize(_){return _.charAt(0).toUpperCase()+_.slice(1)},throw(_){throw new Error(y+_)},error(_){console.error(y+_)},warn(_){e.Konva.showWarnings&&console.warn(g+_)},each(_,E){for(const R in _)E(R,_[R])},_inRange(_,E,R){return E<=_&&_<R},_getProjectionToSegment(_,E,R,k,G,M){let D,P,B;const j=(_-R)*(_-R)+(E-k)*(E-k);if(j==0)D=_,P=E,B=(G-R)*(G-R)+(M-k)*(M-k);else{const q=((G-_)*(R-_)+(M-E)*(k-E))/j;q<0?(D=_,P=E,B=(_-G)*(_-G)+(E-M)*(E-M)):q>1?(D=R,P=k,B=(R-G)*(R-G)+(k-M)*(k-M)):(D=_+q*(R-_),P=E+q*(k-E),B=(D-G)*(D-G)+(P-M)*(P-M))}return[D,P,B]},_getProjectionToLine(_,E,R){const k=t.Util.cloneObject(_);let G=Number.MAX_VALUE;return E.forEach(function(M,D){if(!R&&D===E.length-1)return;const P=E[(D+1)%E.length],B=t.Util._getProjectionToSegment(M.x,M.y,P.x,P.y,_.x,_.y),j=B[0],q=B[1],Y=B[2];Y<G&&(k.x=j,k.y=q,G=Y)}),k},_prepareArrayForTween(_,E,R){const k=[],G=[];if(_.length>E.length){const D=E;E=_,_=D}for(let D=0;D<_.length;D+=2)k.push({x:_[D],y:_[D+1]});for(let D=0;D<E.length;D+=2)G.push({x:E[D],y:E[D+1]});const M=[];return G.forEach(function(D){const P=t.Util._getProjectionToLine(D,k,R);M.push(P.x),M.push(P.y)}),M},_prepareToStringify(_){let E;_.visitedByCircularReferenceRemoval=!0;for(const R in _)if(_.hasOwnProperty(R)&&_[R]&&typeof _[R]=="object"){if(E=Object.getOwnPropertyDescriptor(_,R),_[R].visitedByCircularReferenceRemoval||t.Util._isElement(_[R]))if(E.configurable)delete _[R];else return null;else if(t.Util._prepareToStringify(_[R])===null)if(E.configurable)delete _[R];else return null}return delete _.visitedByCircularReferenceRemoval,_},_assign(_,E){for(const R in E)_[R]=E[R];return _},_getFirstPointerId(_){return _.touches?_.changedTouches[0].identifier:_.pointerId||999},releaseCanvas(..._){e.Konva.releaseCanvasOnDestroy&&_.forEach(E=>{E.width=0,E.height=0})},drawRoundedRectPath(_,E,R,k){let G=0,M=0,D=0,P=0;typeof k=="number"?G=M=D=P=Math.min(k,E/2,R/2):(G=Math.min(k[0]||0,E/2,R/2),M=Math.min(k[1]||0,E/2,R/2),P=Math.min(k[2]||0,E/2,R/2),D=Math.min(k[3]||0,E/2,R/2)),_.moveTo(G,0),_.lineTo(E-M,0),_.arc(E-M,M,M,Math.PI*3/2,0,!1),_.lineTo(E,R-P),_.arc(E-P,R-P,P,0,Math.PI/2,!1),_.lineTo(D,R),_.arc(D,R-D,D,Math.PI/2,Math.PI,!1),_.lineTo(0,G),_.arc(G,G,G,Math.PI,Math.PI*3/2,!1)}}}(Bu)),Bu}var Fr={},Zn={},Qn={},O0;function n2(){if(O0)return Qn;O0=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.HitContext=Qn.SceneContext=Qn.Context=void 0;const t=rt(),e=we();function i(N){const x=[],_=N.length,E=t.Util;for(let R=0;R<_;R++){let k=N[R];E._isNumber(k)?k=Math.round(k*1e3)/1e3:E._isString(k)||(k=k+""),x.push(k)}return x}const r=",",s="(",o=")",c="([",u="])",h=";",f="()",m="=",v=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],g=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100;let b=class{constructor(x){this.canvas=x,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(x){x.fillEnabled()&&this._fill(x)}_fill(x){}strokeShape(x){x.hasStroke()&&this._stroke(x)}_stroke(x){}fillStrokeShape(x){x.attrs.fillAfterStrokeEnabled?(this.strokeShape(x),this.fillShape(x)):(this.fillShape(x),this.strokeShape(x))}getTrace(x,_){let E=this.traceArr,R=E.length,k="",G,M,D,P;for(G=0;G<R;G++)M=E[G],D=M.method,D?(P=M.args,k+=D,x?k+=f:t.Util._isArray(P[0])?k+=c+P.join(r)+u:(_&&(P=P.map(B=>typeof B=="number"?Math.floor(B):B)),k+=s+P.join(r)+o)):(k+=M.property,x||(k+=m+M.val)),k+=h;return k}clearTrace(){this.traceArr=[]}_trace(x){let _=this.traceArr,E;_.push(x),E=_.length,E>=y&&_.shift()}reset(){const x=this.getCanvas().getPixelRatio();this.setTransform(1*x,0,0,1*x,0,0)}getCanvas(){return this.canvas}clear(x){const _=this.getCanvas();x?this.clearRect(x.x||0,x.y||0,x.width||0,x.height||0):this.clearRect(0,0,_.getWidth()/_.pixelRatio,_.getHeight()/_.pixelRatio)}_applyLineCap(x){const _=x.attrs.lineCap;_&&this.setAttr("lineCap",_)}_applyOpacity(x){const _=x.getAbsoluteOpacity();_!==1&&this.setAttr("globalAlpha",_)}_applyLineJoin(x){const _=x.attrs.lineJoin;_&&this.setAttr("lineJoin",_)}setAttr(x,_){this._context[x]=_}arc(x,_,E,R,k,G){this._context.arc(x,_,E,R,k,G)}arcTo(x,_,E,R,k){this._context.arcTo(x,_,E,R,k)}beginPath(){this._context.beginPath()}bezierCurveTo(x,_,E,R,k,G){this._context.bezierCurveTo(x,_,E,R,k,G)}clearRect(x,_,E,R){this._context.clearRect(x,_,E,R)}clip(...x){this._context.clip.apply(this._context,x)}closePath(){this._context.closePath()}createImageData(x,_){const E=arguments;if(E.length===2)return this._context.createImageData(x,_);if(E.length===1)return this._context.createImageData(x)}createLinearGradient(x,_,E,R){return this._context.createLinearGradient(x,_,E,R)}createPattern(x,_){return this._context.createPattern(x,_)}createRadialGradient(x,_,E,R,k,G){return this._context.createRadialGradient(x,_,E,R,k,G)}drawImage(x,_,E,R,k,G,M,D,P){const B=arguments,j=this._context;B.length===3?j.drawImage(x,_,E):B.length===5?j.drawImage(x,_,E,R,k):B.length===9&&j.drawImage(x,_,E,R,k,G,M,D,P)}ellipse(x,_,E,R,k,G,M,D){this._context.ellipse(x,_,E,R,k,G,M,D)}isPointInPath(x,_,E,R){return E?this._context.isPointInPath(E,x,_,R):this._context.isPointInPath(x,_,R)}fill(...x){this._context.fill.apply(this._context,x)}fillRect(x,_,E,R){this._context.fillRect(x,_,E,R)}strokeRect(x,_,E,R){this._context.strokeRect(x,_,E,R)}fillText(x,_,E,R){R?this._context.fillText(x,_,E,R):this._context.fillText(x,_,E)}measureText(x){return this._context.measureText(x)}getImageData(x,_,E,R){return this._context.getImageData(x,_,E,R)}lineTo(x,_){this._context.lineTo(x,_)}moveTo(x,_){this._context.moveTo(x,_)}rect(x,_,E,R){this._context.rect(x,_,E,R)}roundRect(x,_,E,R,k){this._context.roundRect(x,_,E,R,k)}putImageData(x,_,E){this._context.putImageData(x,_,E)}quadraticCurveTo(x,_,E,R){this._context.quadraticCurveTo(x,_,E,R)}restore(){this._context.restore()}rotate(x){this._context.rotate(x)}save(){this._context.save()}scale(x,_){this._context.scale(x,_)}setLineDash(x){this._context.setLineDash?this._context.setLineDash(x):"mozDash"in this._context?this._context.mozDash=x:"webkitLineDash"in this._context&&(this._context.webkitLineDash=x)}getLineDash(){return this._context.getLineDash()}setTransform(x,_,E,R,k,G){this._context.setTransform(x,_,E,R,k,G)}stroke(x){x?this._context.stroke(x):this._context.stroke()}strokeText(x,_,E,R){this._context.strokeText(x,_,E,R)}transform(x,_,E,R,k,G){this._context.transform(x,_,E,R,k,G)}translate(x,_){this._context.translate(x,_)}_enableTrace(){let x=this,_=v.length,E=this.setAttr,R,k;const G=function(M){let D=x[M],P;x[M]=function(){return k=i(Array.prototype.slice.call(arguments,0)),P=D.apply(x,arguments),x._trace({method:M,args:k}),P}};for(R=0;R<_;R++)G(v[R]);x.setAttr=function(){E.apply(x,arguments);const M=arguments[0];let D=arguments[1];(M==="shadowOffsetX"||M==="shadowOffsetY"||M==="shadowBlur")&&(D=D/this.canvas.getPixelRatio()),x._trace({property:M,val:D})}}_applyGlobalCompositeOperation(x){const _=x.attrs.globalCompositeOperation;!_||_==="source-over"||this.setAttr("globalCompositeOperation",_)}};Qn.Context=b,g.forEach(function(N){Object.defineProperty(b.prototype,N,{get(){return this._context[N]},set(x){this._context[N]=x}})});class C extends b{constructor(x,{willReadFrequently:_=!1}={}){super(x),this._context=x._canvas.getContext("2d",{willReadFrequently:_})}_fillColor(x){const _=x.fill();this.setAttr("fillStyle",_),x._fillFunc(this)}_fillPattern(x){this.setAttr("fillStyle",x._getFillPattern()),x._fillFunc(this)}_fillLinearGradient(x){const _=x._getLinearGradient();_&&(this.setAttr("fillStyle",_),x._fillFunc(this))}_fillRadialGradient(x){const _=x._getRadialGradient();_&&(this.setAttr("fillStyle",_),x._fillFunc(this))}_fill(x){const _=x.fill(),E=x.getFillPriority();if(_&&E==="color"){this._fillColor(x);return}const R=x.getFillPatternImage();if(R&&E==="pattern"){this._fillPattern(x);return}const k=x.getFillLinearGradientColorStops();if(k&&E==="linear-gradient"){this._fillLinearGradient(x);return}const G=x.getFillRadialGradientColorStops();if(G&&E==="radial-gradient"){this._fillRadialGradient(x);return}_?this._fillColor(x):R?this._fillPattern(x):k?this._fillLinearGradient(x):G&&this._fillRadialGradient(x)}_strokeLinearGradient(x){const _=x.getStrokeLinearGradientStartPoint(),E=x.getStrokeLinearGradientEndPoint(),R=x.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(_.x,_.y,E.x,E.y);if(R){for(let G=0;G<R.length;G+=2)k.addColorStop(R[G],R[G+1]);this.setAttr("strokeStyle",k)}}_stroke(x){const _=x.dash(),E=x.getStrokeScaleEnabled();if(x.hasStroke()){if(!E){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(x),_&&x.dashEnabled()&&(this.setLineDash(_),this.setAttr("lineDashOffset",x.dashOffset())),this.setAttr("lineWidth",x.strokeWidth()),x.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),x.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(x):this.setAttr("strokeStyle",x.stroke()),x._strokeFunc(this),E||this.restore()}}_applyShadow(x){var _,E,R;const k=(_=x.getShadowRGBA())!==null&&_!==void 0?_:"black",G=(E=x.getShadowBlur())!==null&&E!==void 0?E:5,M=(R=x.getShadowOffset())!==null&&R!==void 0?R:{x:0,y:0},D=x.getAbsoluteScale(),P=this.canvas.getPixelRatio(),B=D.x*P,j=D.y*P;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",G*Math.min(Math.abs(B),Math.abs(j))),this.setAttr("shadowOffsetX",M.x*B),this.setAttr("shadowOffsetY",M.y*j)}}Qn.SceneContext=C;class T extends b{constructor(x){super(x),this._context=x._canvas.getContext("2d",{willReadFrequently:!0})}_fill(x){this.save(),this.setAttr("fillStyle",x.colorKey),x._fillFuncHit(this),this.restore()}strokeShape(x){x.hasHitStroke()&&this._stroke(x)}_stroke(x){if(x.hasHitStroke()){const _=x.getStrokeScaleEnabled();if(!_){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(x);const E=x.hitStrokeWidth(),R=E==="auto"?x.strokeWidth():E;this.setAttr("lineWidth",R),this.setAttr("strokeStyle",x.colorKey),x._strokeFuncHit(this),_||this.restore()}}}return Qn.HitContext=T,Qn}var D0;function Gl(){if(D0)return Zn;D0=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.HitCanvas=Zn.SceneCanvas=Zn.Canvas=void 0;const t=rt(),e=n2(),i=we();let r;function s(){if(r)return r;const h=t.Util.createCanvasElement(),f=h.getContext("2d");return r=function(){const m=i.Konva._global.devicePixelRatio||1,v=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return m/v}(),t.Util.releaseCanvas(h),r}let o=class{constructor(f){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const v=(f||{}).pixelRatio||i.Konva.pixelRatio||s();this.pixelRatio=v,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(f){const m=this.pixelRatio;this.pixelRatio=f,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(f){this.width=this._canvas.width=f*this.pixelRatio,this._canvas.style.width=f+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}setHeight(f){this.height=this._canvas.height=f*this.pixelRatio,this._canvas.style.height=f+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(f,m){this.setWidth(f||0),this.setHeight(m||0)}toDataURL(f,m){try{return this._canvas.toDataURL(f,m)}catch{try{return this._canvas.toDataURL()}catch(g){return t.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Zn.Canvas=o;class c extends o{constructor(f={width:0,height:0,willReadFrequently:!1}){super(f),this.context=new e.SceneContext(this,{willReadFrequently:f.willReadFrequently}),this.setSize(f.width,f.height)}}Zn.SceneCanvas=c;class u extends o{constructor(f={width:0,height:0}){super(f),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(f.width,f.height)}}return Zn.HitCanvas=u,Zn}var Fu={},k0;function Yd(){return k0||(k0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=we(),i=rt();t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(s=>{r=s.node}),r},_dragElements:new Map,_drag(r){const s=[];t.DD._dragElements.forEach((o,c)=>{const{node:u}=o,h=u.getStage();h.setPointersPositions(r),o.pointerId===void 0&&(o.pointerId=i.Util._getFirstPointerId(r));const f=h._changedPointerPositions.find(m=>m.id===o.pointerId);if(f){if(o.dragStatus!=="dragging"){const m=u.dragDistance();if(Math.max(Math.abs(f.x-o.startPointerPos.x),Math.abs(f.y-o.startPointerPos.y))<m||(u.startDrag({evt:r}),!u.isDragging()))return}u._setDragPosition(r,o),s.push(u)}}),s.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:r},!0)})},_endDragBefore(r){const s=[];t.DD._dragElements.forEach(o=>{const{node:c}=o,u=c.getStage();if(r&&u.setPointersPositions(r),!u._changedPointerPositions.find(m=>m.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const f=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;f&&s.indexOf(f)===-1&&s.push(f)}),s.forEach(o=>{o.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((s,o)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:r},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(Fu)),Fu}var Vu={},It={},P0;function Le(){if(P0)return It;P0=1,Object.defineProperty(It,"__esModule",{value:!0}),It.RGBComponent=r,It.alphaComponent=s,It.getNumberValidator=o,It.getNumberOrArrayOfNumbersValidator=c,It.getNumberOrAutoValidator=u,It.getStringValidator=h,It.getStringOrGradientValidator=f,It.getFunctionValidator=m,It.getNumberArrayValidator=v,It.getBooleanValidator=g,It.getComponentValidator=y;const t=we(),e=rt();function i(b){return e.Util._isString(b)?'"'+b+'"':Object.prototype.toString.call(b)==="[object Number]"||e.Util._isBoolean(b)?b:Object.prototype.toString.call(b)}function r(b){return b>255?255:b<0?0:Math.round(b)}function s(b){return b>1?1:b<1e-4?1e-4:b}function o(){if(t.Konva.isUnminified)return function(b,C){return e.Util._isNumber(b)||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a number.'),b}}function c(b){if(t.Konva.isUnminified)return function(C,T){let N=e.Util._isNumber(C),x=e.Util._isArray(C)&&C.length==b;return!N&&!x&&e.Util.warn(i(C)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+b+")"),C}}function u(){if(t.Konva.isUnminified)return function(b,C){return e.Util._isNumber(b)||b==="auto"||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a number or "auto".'),b}}function h(){if(t.Konva.isUnminified)return function(b,C){return e.Util._isString(b)||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a string.'),b}}function f(){if(t.Konva.isUnminified)return function(b,C){const T=e.Util._isString(b),N=Object.prototype.toString.call(b)==="[object CanvasGradient]"||b&&b.addColorStop;return T||N||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a string or a native gradient.'),b}}function m(){if(t.Konva.isUnminified)return function(b,C){return e.Util._isFunction(b)||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a function.'),b}}function v(){if(t.Konva.isUnminified)return function(b,C){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&b instanceof T||(e.Util._isArray(b)?b.forEach(function(N){e.Util._isNumber(N)||e.Util.warn('"'+C+'" attribute has non numeric element '+N+". Make sure that all elements are numbers.")}):e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a array of numbers.')),b}}function g(){if(t.Konva.isUnminified)return function(b,C){return b===!0||b===!1||e.Util.warn(i(b)+' is a not valid value for "'+C+'" attribute. The value should be a boolean.'),b}}function y(b){if(t.Konva.isUnminified)return function(C,T){return C==null||e.Util.isObject(C)||e.Util.warn(i(C)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+b),C}}return It}var w0;function Ge(){return w0||(w0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=rt(),i=Le(),r="get",s="set";t.Factory={addGetterSetter(o,c,u,h,f){t.Factory.addGetter(o,c,u),t.Factory.addSetter(o,c,h,f),t.Factory.addOverloadedGetterSetter(o,c)},addGetter(o,c,u){const h=r+e.Util._capitalize(c);o.prototype[h]=o.prototype[h]||function(){const f=this.attrs[c];return f===void 0?u:f}},addSetter(o,c,u,h){const f=s+e.Util._capitalize(c);o.prototype[f]||t.Factory.overWriteSetter(o,c,u,h)},overWriteSetter(o,c,u,h){const f=s+e.Util._capitalize(c);o.prototype[f]=function(m){return u&&m!==void 0&&m!==null&&(m=u.call(this,m,c)),this._setAttr(c,m),h&&h.call(this),this}},addComponentsGetterSetter(o,c,u,h,f){const m=u.length,v=e.Util._capitalize,g=r+v(c),y=s+v(c);o.prototype[g]=function(){const C={};for(let T=0;T<m;T++){const N=u[T];C[N]=this.getAttr(c+v(N))}return C};const b=(0,i.getComponentValidator)(u);o.prototype[y]=function(C){const T=this.attrs[c];h&&(C=h.call(this,C,c)),b&&b.call(this,C,c);for(const N in C)C.hasOwnProperty(N)&&this._setAttr(c+v(N),C[N]);return C||u.forEach(N=>{this._setAttr(c+v(N),void 0)}),this._fireChangeEvent(c,T,C),f&&f.call(this),this},t.Factory.addOverloadedGetterSetter(o,c)},addOverloadedGetterSetter(o,c){const u=e.Util._capitalize(c),h=s+u,f=r+u;o.prototype[c]=function(){return arguments.length?(this[h](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(o,c,u,h){e.Util.error("Adding deprecated "+c);const f=r+e.Util._capitalize(c),m=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[f]=function(){e.Util.error(m);const v=this.attrs[c];return v===void 0?u:v},t.Factory.addSetter(o,c,h,function(){e.Util.error(m)}),t.Factory.addOverloadedGetterSetter(o,c)},backCompat(o,c){e.Util.each(c,function(u,h){const f=o.prototype[h],m=r+e.Util._capitalize(u),v=s+e.Util._capitalize(u);function g(){f.apply(this,arguments),e.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}o.prototype[u]=g,o.prototype[m]=g,o.prototype[v]=g})},afterSetFilter(){this._filterUpToDate=!1}}}(Vu)),Vu}var z0;function lt(){if(z0)return Fr;z0=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Node=void 0;const t=Gl(),e=Yd(),i=Ge(),r=we(),s=rt(),o=Le(),c="absoluteOpacity",u="allEventListeners",h="absoluteTransform",f="absoluteScale",m="canvas",v="Change",g="children",y="konva",b="listening",C="mouseenter",T="mouseleave",N="pointerenter",x="pointerleave",_="touchenter",E="touchleave",R="set",k="Shape",G=" ",M="stage",D="transform",P="Stage",B="visible",j=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(G);let q=1;class Y{constructor(A){this._id=q++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(A),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(A){(A===D||A===h)&&this._cache.get(A)?this._cache.get(A).dirty=!0:A?this._cache.delete(A):this._cache.clear()}_getCache(A,O){let U=this._cache.get(A);return(U===void 0||(A===D||A===h)&&U.dirty===!0)&&(U=O.call(this),this._cache.set(A,U)),U}_calculate(A,O,U){if(!this._attachedDepsListeners.get(A)){const L=O.map(V=>V+"Change.konva").join(G);this.on(L,()=>{this._clearCache(A)}),this._attachedDepsListeners.set(A,!0)}return this._getCache(A,U)}_getCanvasCache(){return this._cache.get(m)}_clearSelfAndDescendantCache(A){this._clearCache(A),A===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(m)){const{scene:A,filter:O,hit:U,buffer:L}=this._cache.get(m);s.Util.releaseCanvas(A,O,U,L),this._cache.delete(m)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(A){const O=A||{};let U={};(O.x===void 0||O.y===void 0||O.width===void 0||O.height===void 0)&&(U=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let L=Math.ceil(O.width||U.width),V=Math.ceil(O.height||U.height),ee=O.pixelRatio,I=O.x===void 0?Math.floor(U.x):O.x,te=O.y===void 0?Math.floor(U.y):O.y,ce=O.offset||0,J=O.drawBorder||!1,z=O.hitCanvasPixelRatio||1;if(!L||!V){s.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Z=Math.abs(Math.round(U.x)-I)>.5?1:0,se=Math.abs(Math.round(U.y)-te)>.5?1:0;L+=ce*2+Z,V+=ce*2+se,I-=ce,te-=ce;const ue=new t.SceneCanvas({pixelRatio:ee,width:L,height:V}),me=new t.SceneCanvas({pixelRatio:ee,width:0,height:0,willReadFrequently:!0}),Se=new t.HitCanvas({pixelRatio:z,width:L,height:V}),Me=ue.getContext(),Ie=Se.getContext(),Ce=new t.SceneCanvas({width:ue.width/ue.pixelRatio+Math.abs(I),height:ue.height/ue.pixelRatio+Math.abs(te),pixelRatio:ue.pixelRatio}),Qe=Ce.getContext();return Se.isCache=!0,ue.isCache=!0,this._cache.delete(m),this._filterUpToDate=!1,O.imageSmoothingEnabled===!1&&(ue.getContext()._context.imageSmoothingEnabled=!1,me.getContext()._context.imageSmoothingEnabled=!1),Me.save(),Ie.save(),Qe.save(),Me.translate(-I,-te),Ie.translate(-I,-te),Qe.translate(-I,-te),Ce.x=I,Ce.y=te,this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this.drawScene(ue,this,Ce),this.drawHit(Se,this),this._isUnderCache=!1,Me.restore(),Ie.restore(),J&&(Me.save(),Me.beginPath(),Me.rect(0,0,L,V),Me.closePath(),Me.setAttr("strokeStyle","red"),Me.setAttr("lineWidth",5),Me.stroke(),Me.restore()),this._cache.set(m,{scene:ue,filter:me,hit:Se,buffer:Ce,x:I,y:te}),this._requestDraw(),this}isCached(){return this._cache.has(m)}getClientRect(A){throw new Error('abstract "getClientRect" method call')}_transformedRect(A,O){const U=[{x:A.x,y:A.y},{x:A.x+A.width,y:A.y},{x:A.x+A.width,y:A.y+A.height},{x:A.x,y:A.y+A.height}];let L=1/0,V=1/0,ee=-1/0,I=-1/0;const te=this.getAbsoluteTransform(O);return U.forEach(function(ce){const J=te.point(ce);L===void 0&&(L=ee=J.x,V=I=J.y),L=Math.min(L,J.x),V=Math.min(V,J.y),ee=Math.max(ee,J.x),I=Math.max(I,J.y)}),{x:L,y:V,width:ee-L,height:I-V}}_drawCachedSceneCanvas(A){A.save(),A._applyOpacity(this),A._applyGlobalCompositeOperation(this);const O=this._getCanvasCache();A.translate(O.x,O.y);const U=this._getCachedSceneCanvas(),L=U.pixelRatio;A.drawImage(U._canvas,0,0,U.width/L,U.height/L),A.restore()}_drawCachedHitCanvas(A){const O=this._getCanvasCache(),U=O.hit;A.save(),A.translate(O.x,O.y),A.drawImage(U._canvas,0,0,U.width/U.pixelRatio,U.height/U.pixelRatio),A.restore()}_getCachedSceneCanvas(){let A=this.filters(),O=this._getCanvasCache(),U=O.scene,L=O.filter,V=L.getContext(),ee,I,te,ce;if(A){if(!this._filterUpToDate){const J=U.pixelRatio;L.setSize(U.width/U.pixelRatio,U.height/U.pixelRatio);try{for(ee=A.length,V.clear(),V.drawImage(U._canvas,0,0,U.getWidth()/J,U.getHeight()/J),I=V.getImageData(0,0,L.getWidth(),L.getHeight()),te=0;te<ee;te++){if(ce=A[te],typeof ce!="function"){s.Util.error("Filter should be type of function, but got "+typeof ce+" instead. Please check correct filters");continue}ce.call(this,I),V.putImageData(I,0,0)}}catch(z){s.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return L}return U}on(A,O){if(this._cache&&this._cache.delete(u),arguments.length===3)return this._delegate.apply(this,arguments);const U=A.split(G);for(let L=0;L<U.length;L++){const ee=U[L].split("."),I=ee[0],te=ee[1]||"";this.eventListeners[I]||(this.eventListeners[I]=[]),this.eventListeners[I].push({name:te,handler:O})}return this}off(A,O){let U=(A||"").split(G),L=U.length,V,ee,I,te,ce,J;if(this._cache&&this._cache.delete(u),!A)for(ee in this.eventListeners)this._off(ee);for(V=0;V<L;V++)if(I=U[V],te=I.split("."),ce=te[0],J=te[1],ce)this.eventListeners[ce]&&this._off(ce,J,O);else for(ee in this.eventListeners)this._off(ee,J,O);return this}dispatchEvent(A){const O={target:this,type:A.type,evt:A};return this.fire(A.type,O),this}addEventListener(A,O){return this.on(A,function(U){O.call(this,U.evt)}),this}removeEventListener(A){return this.off(A),this}_delegate(A,O,U){const L=this;this.on(A,function(V){const ee=V.target.findAncestors(O,!0,L);for(let I=0;I<ee.length;I++)V=s.Util.cloneObject(V),V.currentTarget=ee[I],U.call(ee[I],V)})}remove(){return this.isDragging()&&this.stopDrag(),e.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(B),this._clearSelfAndDescendantCache(b)}_remove(){this._clearCaches();const A=this.getParent();A&&A.children&&(A.children.splice(this.index,1),A._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(A){const O="get"+s.Util._capitalize(A);return s.Util._isFunction(this[O])?this[O]():this.attrs[A]}getAncestors(){let A=this.getParent(),O=[];for(;A;)O.push(A),A=A.getParent();return O}getAttrs(){return this.attrs||{}}setAttrs(A){return this._batchTransformChanges(()=>{let O,U;if(!A)return this;for(O in A)O!==g&&(U=R+s.Util._capitalize(O),s.Util._isFunction(this[U])?this[U](A[O]):this._setAttr(O,A[O]))}),this}isListening(){return this._getCache(b,this._isListening)}_isListening(A){if(!this.listening())return!1;const U=this.getParent();return U&&U!==A&&this!==A?U._isListening(A):!0}isVisible(){return this._getCache(B,this._isVisible)}_isVisible(A){if(!this.visible())return!1;const U=this.getParent();return U&&U!==A&&this!==A?U._isVisible(A):!0}shouldDrawHit(A,O=!1){if(A)return this._isVisible(A)&&this._isListening(A);const U=this.getLayer();let L=!1;e.DD._dragElements.forEach(ee=>{ee.dragStatus==="dragging"&&(ee.node.nodeType==="Stage"||ee.node.getLayer()===U)&&(L=!0)});const V=!O&&!r.Konva.hitOnDragEnabled&&(L||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!V}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let A=this.getDepth(),O=this,U=0,L,V,ee,I;function te(J){for(L=[],V=J.length,ee=0;ee<V;ee++)I=J[ee],U++,I.nodeType!==k&&(L=L.concat(I.getChildren().slice())),I._id===O._id&&(ee=V);L.length>0&&L[0].getDepth()<=A&&te(L)}const ce=this.getStage();return O.nodeType!==P&&ce&&te(ce.getChildren()),U}getDepth(){let A=0,O=this.parent;for(;O;)A++,O=O.parent;return A}_batchTransformChanges(A){this._batchingTransformChange=!0,A(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(D),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(A){return this._batchTransformChanges(()=>{this.x(A.x),this.y(A.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const A=this.getStage();if(!A)return null;const O=A.getPointerPosition();if(!O)return null;const U=this.getAbsoluteTransform().copy();return U.invert(),U.point(O)}getAbsolutePosition(A){let O=!1,U=this.parent;for(;U;){if(U.isCached()){O=!0;break}U=U.parent}O&&!A&&(A=!0);const L=this.getAbsoluteTransform(A).getMatrix(),V=new s.Transform,ee=this.offset();return V.m=L.slice(),V.translate(ee.x,ee.y),V.getTranslation()}setAbsolutePosition(A){const{x:O,y:U,...L}=this._clearTransform();this.attrs.x=O,this.attrs.y=U,this._clearCache(D);const V=this._getAbsoluteTransform().copy();return V.invert(),V.translate(A.x,A.y),A={x:this.attrs.x+V.getTranslation().x,y:this.attrs.y+V.getTranslation().y},this._setTransform(L),this.setPosition({x:A.x,y:A.y}),this._clearCache(D),this._clearSelfAndDescendantCache(h),this}_setTransform(A){let O;for(O in A)this.attrs[O]=A[O]}_clearTransform(){const A={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,A}move(A){let O=A.x,U=A.y,L=this.x(),V=this.y();return O!==void 0&&(L+=O),U!==void 0&&(V+=U),this.setPosition({x:L,y:V}),this}_eachAncestorReverse(A,O){let U=[],L=this.getParent(),V,ee;if(!(O&&O._id===this._id)){for(U.unshift(this);L&&(!O||L._id!==O._id);)U.unshift(L),L=L.parent;for(V=U.length,ee=0;ee<V;ee++)A(U[ee])}}rotate(A){return this.rotation(this.rotation()+A),this}moveToTop(){if(!this.parent)return s.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const A=this.index,O=this.parent.getChildren().length;return A<O-1?(this.parent.children.splice(A,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return s.Util.warn("Node has no parent. moveUp function is ignored."),!1;const A=this.index,O=this.parent.getChildren().length;return A<O-1?(this.parent.children.splice(A,1),this.parent.children.splice(A+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return s.Util.warn("Node has no parent. moveDown function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.splice(A-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return s.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(A){if(!this.parent)return s.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(A<0||A>=this.parent.children.length)&&s.Util.warn("Unexpected value "+A+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const O=this.index;return this.parent.children.splice(O,1),this.parent.children.splice(A,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let A=this.opacity();const O=this.getParent();return O&&!O._isUnderCache&&(A*=O.getAbsoluteOpacity()),A}moveTo(A){return this.getParent()!==A&&(this._remove(),A.add(this)),this}toObject(){let A=this.getAttrs(),O,U,L,V,ee;const I={attrs:{},className:this.getClassName()};for(O in A)U=A[O],ee=s.Util.isObject(U)&&!s.Util._isPlainObject(U)&&!s.Util._isArray(U),!ee&&(L=typeof this[O]=="function"&&this[O],delete A[O],V=L?L.call(this):null,A[O]=U,V!==U&&(I.attrs[O]=U));return s.Util._prepareToStringify(I)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(A,O,U){const L=[];O&&this._isMatch(A)&&L.push(this);let V=this.parent;for(;V;){if(V===U)return L;V._isMatch(A)&&L.push(V),V=V.parent}return L}isAncestorOf(A){return!1}findAncestor(A,O,U){return this.findAncestors(A,O,U)[0]}_isMatch(A){if(!A)return!1;if(typeof A=="function")return A(this);let O=A.replace(/ /g,"").split(","),U=O.length,L,V;for(L=0;L<U;L++)if(V=O[L],s.Util.isValidSelector(V)||(s.Util.warn('Selector "'+V+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),s.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),s.Util.warn("Konva is awesome, right?")),V.charAt(0)==="#"){if(this.id()===V.slice(1))return!0}else if(V.charAt(0)==="."){if(this.hasName(V.slice(1)))return!0}else if(this.className===V||this.nodeType===V)return!0;return!1}getLayer(){const A=this.getParent();return A?A.getLayer():null}getStage(){return this._getCache(M,this._getStage)}_getStage(){const A=this.getParent();return A?A.getStage():null}fire(A,O={},U){return O.target=O.target||this,U?this._fireAndBubble(A,O):this._fire(A,O),this}getAbsoluteTransform(A){return A?this._getAbsoluteTransform(A):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(A){let O;if(A)return O=new s.Transform,this._eachAncestorReverse(function(U){const L=U.transformsEnabled();L==="all"?O.multiply(U.getTransform()):L==="position"&&O.translate(U.x()-U.offsetX(),U.y()-U.offsetY())},A),O;{O=this._cache.get(h)||new s.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(O):O.reset();const U=this.transformsEnabled();if(U==="all")O.multiply(this.getTransform());else if(U==="position"){const L=this.attrs.x||0,V=this.attrs.y||0,ee=this.attrs.offsetX||0,I=this.attrs.offsetY||0;O.translate(L-ee,V-I)}return O.dirty=!1,O}}getAbsoluteScale(A){let O=this;for(;O;)O._isUnderCache&&(A=O),O=O.getParent();const L=this.getAbsoluteTransform(A).decompose();return{x:L.scaleX,y:L.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(D,this._getTransform)}_getTransform(){var A,O;const U=this._cache.get(D)||new s.Transform;U.reset();const L=this.x(),V=this.y(),ee=r.Konva.getAngle(this.rotation()),I=(A=this.attrs.scaleX)!==null&&A!==void 0?A:1,te=(O=this.attrs.scaleY)!==null&&O!==void 0?O:1,ce=this.attrs.skewX||0,J=this.attrs.skewY||0,z=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;return(L!==0||V!==0)&&U.translate(L,V),ee!==0&&U.rotate(ee),(ce!==0||J!==0)&&U.skew(ce,J),(I!==1||te!==1)&&U.scale(I,te),(z!==0||Z!==0)&&U.translate(-1*z,-1*Z),U.dirty=!1,U}clone(A){let O=s.Util.cloneObject(this.attrs),U,L,V,ee,I;for(U in A)O[U]=A[U];const te=new this.constructor(O);for(U in this.eventListeners)for(L=this.eventListeners[U],V=L.length,ee=0;ee<V;ee++)I=L[ee],I.name.indexOf(y)<0&&(te.eventListeners[U]||(te.eventListeners[U]=[]),te.eventListeners[U].push(I));return te}_toKonvaCanvas(A){A=A||{};const O=this.getClientRect(),U=this.getStage(),L=A.x!==void 0?A.x:Math.floor(O.x),V=A.y!==void 0?A.y:Math.floor(O.y),ee=A.pixelRatio||1,I=new t.SceneCanvas({width:A.width||Math.ceil(O.width)||(U?U.width():0),height:A.height||Math.ceil(O.height)||(U?U.height():0),pixelRatio:ee}),te=I.getContext(),ce=new t.SceneCanvas({width:I.width/I.pixelRatio+Math.abs(L),height:I.height/I.pixelRatio+Math.abs(V),pixelRatio:I.pixelRatio});return A.imageSmoothingEnabled===!1&&(te._context.imageSmoothingEnabled=!1),te.save(),(L||V)&&te.translate(-1*L,-1*V),this.drawScene(I,void 0,ce),te.restore(),I}toCanvas(A){return this._toKonvaCanvas(A)._canvas}toDataURL(A){A=A||{};const O=A.mimeType||null,U=A.quality||null,L=this._toKonvaCanvas(A).toDataURL(O,U);return A.callback&&A.callback(L),L}toImage(A){return new Promise((O,U)=>{try{const L=A==null?void 0:A.callback;L&&delete A.callback,s.Util._urlToImage(this.toDataURL(A),function(V){O(V),L==null||L(V)})}catch(L){U(L)}})}toBlob(A){return new Promise((O,U)=>{try{const L=A==null?void 0:A.callback;L&&delete A.callback,this.toCanvas(A).toBlob(V=>{O(V),L==null||L(V)},A==null?void 0:A.mimeType,A==null?void 0:A.quality)}catch(L){U(L)}})}setSize(A){return this.width(A.width),this.height(A.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(A,O,U){let L=this.eventListeners[A],V,ee,I;for(V=0;V<L.length;V++)if(ee=L[V].name,I=L[V].handler,(ee!=="konva"||O==="konva")&&(!O||ee===O)&&(!U||U===I)){if(L.splice(V,1),L.length===0){delete this.eventListeners[A];break}V--}}_fireChangeEvent(A,O,U){this._fire(A+v,{oldVal:O,newVal:U})}addName(A){if(!this.hasName(A)){const O=this.name(),U=O?O+" "+A:A;this.name(U)}return this}hasName(A){if(!A)return!1;const O=this.name();return O?(O||"").split(/\s/g).indexOf(A)!==-1:!1}removeName(A){const O=(this.name()||"").split(/\s/g),U=O.indexOf(A);return U!==-1&&(O.splice(U,1),this.name(O.join(" "))),this}setAttr(A,O){const U=this[R+s.Util._capitalize(A)];return s.Util._isFunction(U)?U.call(this,O):this._setAttr(A,O),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const A=this.getLayer()||this.getStage();A==null||A.batchDraw()}}_setAttr(A,O){const U=this.attrs[A];U===O&&!s.Util.isObject(O)||(O==null?delete this.attrs[A]:this.attrs[A]=O,this._shouldFireChangeEvents&&this._fireChangeEvent(A,U,O),this._requestDraw())}_setComponentAttr(A,O,U){let L;U!==void 0&&(L=this.attrs[A],L||(this.attrs[A]=this.getAttr(A)),this.attrs[A][O]=U,this._fireChangeEvent(A,L,U))}_fireAndBubble(A,O,U){O&&this.nodeType===k&&(O.target=this);const L=[C,T,N,x,_,E];if(!(L.indexOf(A)!==-1&&(U&&(this===U||this.isAncestorOf&&this.isAncestorOf(U))||this.nodeType==="Stage"&&!U))){this._fire(A,O);const ee=L.indexOf(A)!==-1&&U&&U.isAncestorOf&&U.isAncestorOf(this)&&!U.isAncestorOf(this.parent);(O&&!O.cancelBubble||!O)&&this.parent&&this.parent.isListening()&&!ee&&(U&&U.parent?this._fireAndBubble.call(this.parent,A,O,U):this._fireAndBubble.call(this.parent,A,O))}}_getProtoListeners(A){var O,U,L;const V=(O=this._cache.get(u))!==null&&O!==void 0?O:{};let ee=V==null?void 0:V[A];if(ee===void 0){ee=[];let I=Object.getPrototypeOf(this);for(;I;){const te=(L=(U=I.eventListeners)===null||U===void 0?void 0:U[A])!==null&&L!==void 0?L:[];ee.push(...te),I=Object.getPrototypeOf(I)}V[A]=ee,this._cache.set(u,V)}return ee}_fire(A,O){O=O||{},O.currentTarget=this,O.type=A;const U=this._getProtoListeners(A);if(U)for(let V=0;V<U.length;V++)U[V].handler.call(this,O);const L=this.eventListeners[A];if(L)for(let V=0;V<L.length;V++)L[V].handler.call(this,O)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(A){const O=A?A.pointerId:void 0,U=this.getStage(),L=this.getAbsolutePosition();if(!U)return;const V=U._getPointerById(O)||U._changedPointerPositions[0]||L;e.DD._dragElements.set(this._id,{node:this,startPointerPos:V,offset:{x:V.x-L.x,y:V.y-L.y},dragStatus:"ready",pointerId:O})}startDrag(A,O=!0){e.DD._dragElements.has(this._id)||this._createDragElement(A);const U=e.DD._dragElements.get(this._id);U.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:A&&A.evt},O)}_setDragPosition(A,O){const U=this.getStage()._getPointerById(O.pointerId);if(!U)return;let L={x:U.x-O.offset.x,y:U.y-O.offset.y};const V=this.dragBoundFunc();if(V!==void 0){const ee=V.call(this,L,A);ee?L=ee:s.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==L.x||this._lastPos.y!==L.y)&&(this.setAbsolutePosition(L),this._requestDraw()),this._lastPos=L}stopDrag(A){const O=e.DD._dragElements.get(this._id);O&&(O.dragStatus="stopped"),e.DD._endDragBefore(A),e.DD._endDragAfter(A)}setDraggable(A){this._setAttr("draggable",A),this._dragChange()}isDragging(){const A=e.DD._dragElements.get(this._id);return A?A.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(A){if(!(!(A.evt.button!==void 0)||r.Konva.dragButtons.indexOf(A.evt.button)>=0)||this.isDragging())return;let L=!1;e.DD._dragElements.forEach(V=>{this.isAncestorOf(V.node)&&(L=!0)}),L||this._createDragElement(A)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const O=e.DD._dragElements.get(this._id),U=O&&O.dragStatus==="dragging",L=O&&O.dragStatus==="ready";U?this.stopDrag():L&&e.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(A={x:0,y:0}){const O=this.getStage();if(!O)return!1;const U={x:-A.x,y:-A.y,width:O.width()+2*A.x,height:O.height()+2*A.y};return s.Util.haveIntersection(U,this.getClientRect())}static create(A,O){return s.Util._isString(A)&&(A=JSON.parse(A)),this._createNode(A,O)}static _createNode(A,O){let U=Y.prototype.getClassName.call(A),L=A.children,V,ee,I;O&&(A.attrs.container=O),r.Konva[U]||(s.Util.warn('Can not find a node with class name "'+U+'". Fallback to "Shape".'),U="Shape");const te=r.Konva[U];if(V=new te(A.attrs),L)for(ee=L.length,I=0;I<ee;I++)V.add(Y._createNode(L[I]));return V}}Fr.Node=Y,Y.prototype.nodeType="Node",Y.prototype._attrsAffectingSize=[],Y.prototype.eventListeners={},Y.prototype.on.call(Y.prototype,j,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(D),this._clearSelfAndDescendantCache(h)}),Y.prototype.on.call(Y.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(B)}),Y.prototype.on.call(Y.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(b)}),Y.prototype.on.call(Y.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const H=i.Factory.addGetterSetter;return H(Y,"zIndex"),H(Y,"absolutePosition"),H(Y,"position"),H(Y,"x",0,(0,o.getNumberValidator)()),H(Y,"y",0,(0,o.getNumberValidator)()),H(Y,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),H(Y,"opacity",1,(0,o.getNumberValidator)()),H(Y,"name","",(0,o.getStringValidator)()),H(Y,"id","",(0,o.getStringValidator)()),H(Y,"rotation",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(Y,"scale",["x","y"]),H(Y,"scaleX",1,(0,o.getNumberValidator)()),H(Y,"scaleY",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(Y,"skew",["x","y"]),H(Y,"skewX",0,(0,o.getNumberValidator)()),H(Y,"skewY",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(Y,"offset",["x","y"]),H(Y,"offsetX",0,(0,o.getNumberValidator)()),H(Y,"offsetY",0,(0,o.getNumberValidator)()),H(Y,"dragDistance",void 0,(0,o.getNumberValidator)()),H(Y,"width",0,(0,o.getNumberValidator)()),H(Y,"height",0,(0,o.getNumberValidator)()),H(Y,"listening",!0,(0,o.getBooleanValidator)()),H(Y,"preventDefault",!0,(0,o.getBooleanValidator)()),H(Y,"filters",void 0,function(ae){return this._filterUpToDate=!1,ae}),H(Y,"visible",!0,(0,o.getBooleanValidator)()),H(Y,"transformsEnabled","all",(0,o.getStringValidator)()),H(Y,"size"),H(Y,"dragBoundFunc"),H(Y,"draggable",!1,(0,o.getBooleanValidator)()),i.Factory.backCompat(Y,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Fr}var Vr={},U0;function Ll(){if(U0)return Vr;U0=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Container=void 0;const t=Ge(),e=lt(),i=Le();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){const c=this.children||[];return o?c.filter(o):c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let u=0;u<o.length;u++)this.add(o[u]);return this}const c=o[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const c=this._generalFind(o,!0);return c.length>0?c[0]:void 0}_generalFind(o,c){const u=[];return this._descendants(h=>{const f=h._isMatch(o);return f&&u.push(h),!!(f&&c)}),u}_descendants(o){let c=!1;const u=this.getChildren();for(const h of u){if(c=o(h),c)return!0;if(h.hasChildren()&&(c=h._descendants(o),c))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(c=>{o.children.push(c.toObject())}),o}isAncestorOf(o){let c=o.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(o){const c=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(u){c.add(u.clone())}),c}getAllIntersections(o){const c=[];return this.find("Shape").forEach(u=>{u.isVisible()&&u.intersects(o)&&c.push(u)}),c}_clearSelfAndDescendantCache(o){var c;super._clearSelfAndDescendantCache(o),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(u){u._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(c,u){c.index=u}),this._requestDraw()}drawScene(o,c,u){const h=this.getLayer(),f=o||h&&h.getCanvas(),m=f&&f.getContext(),v=this._getCanvasCache(),g=v&&v.scene,y=f&&f.isCache;if(!this.isVisible()&&!y)return this;if(g){m.save();const b=this.getAbsoluteTransform(c).getMatrix();m.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(m),m.restore()}else this._drawChildren("drawScene",f,c,u);return this}drawHit(o,c){if(!this.shouldDrawHit(c))return this;const u=this.getLayer(),h=o||u&&u.hitCanvas,f=h&&h.getContext(),m=this._getCanvasCache();if(m&&m.hit){f.save();const g=this.getAbsoluteTransform(c).getMatrix();f.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",h,c);return this}_drawChildren(o,c,u,h){var f;const m=c&&c.getContext(),v=this.clipWidth(),g=this.clipHeight(),y=this.clipFunc(),b=typeof v=="number"&&typeof g=="number"||y,C=u===this;if(b){m.save();const N=this.getAbsoluteTransform(u);let x=N.getMatrix();m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),m.beginPath();let _;if(y)_=y.call(this,m,this);else{const E=this.clipX(),R=this.clipY();m.rect(E||0,R||0,v,g)}m.clip.apply(m,_),x=N.copy().invert().getMatrix(),m.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const T=!C&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";T&&(m.save(),m._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(N){N[o](c,u,h)}),T&&m.restore(),b&&m.restore()}getClientRect(o={}){var c;const u=o.skipTransform,h=o.relativeTo;let f,m,v,g,y={x:1/0,y:1/0,width:0,height:0};const b=this;(c=this.children)===null||c===void 0||c.forEach(function(N){if(!N.visible())return;const x=N.getClientRect({relativeTo:b,skipShadow:o.skipShadow,skipStroke:o.skipStroke});x.width===0&&x.height===0||(f===void 0?(f=x.x,m=x.y,v=x.x+x.width,g=x.y+x.height):(f=Math.min(f,x.x),m=Math.min(m,x.y),v=Math.max(v,x.x+x.width),g=Math.max(g,x.y+x.height)))});const C=this.find("Shape");let T=!1;for(let N=0;N<C.length;N++)if(C[N]._isVisible(this)){T=!0;break}return T&&f!==void 0?y={x:f,y:m,width:v-f,height:g-m}:y={x:0,y:0,width:0,height:0},u?y:this._transformedRect(y,h)}};return Vr.Container=r,t.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(r,"clipX",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipY",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipWidth",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipHeight",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipFunc"),Vr}var ju={},Ta={},G0;function a2(){if(G0)return Ta;G0=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.getCapturedShape=r,Ta.createEvent=s,Ta.hasPointerCapture=o,Ta.setPointerCapture=c,Ta.releaseCapture=u;const t=we(),e=new Map,i=t.Konva._global.PointerEvent!==void 0;function r(h){return e.get(h)}function s(h){return{evt:h,pointerId:h.pointerId}}function o(h,f){return e.get(h)===f}function c(h,f){u(h),f.getStage()&&(e.set(h,f),i&&f._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function u(h,f){const m=e.get(h);if(!m)return;const v=m.getStage();v&&v.content,e.delete(h),i&&m._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return Ta}var L0;function z3(){return L0||(L0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=rt(),i=Ge(),r=Ll(),s=we(),o=Gl(),c=Yd(),u=we(),h=a2(),f="Stage",m="string",v="px",g="mouseout",y="mouseleave",b="mouseover",C="mouseenter",T="mousemove",N="mousedown",x="mouseup",_="pointermove",E="pointerdown",R="pointerup",k="pointercancel",G="lostpointercapture",M="pointerout",D="pointerleave",P="pointerover",B="pointerenter",j="contextmenu",q="touchstart",Y="touchend",H="touchmove",ae="touchcancel",A="wheel",O=5,U=[[C,"_pointerenter"],[N,"_pointerdown"],[T,"_pointermove"],[x,"_pointerup"],[y,"_pointerleave"],[q,"_pointerdown"],[H,"_pointermove"],[Y,"_pointerup"],[ae,"_pointercancel"],[b,"_pointerover"],[A,"_wheel"],[j,"_contextmenu"],[E,"_pointerdown"],[_,"_pointermove"],[R,"_pointerup"],[k,"_pointercancel"],[D,"_pointerleave"],[G,"_lostpointercapture"]],L={mouse:{[M]:g,[D]:y,[P]:b,[B]:C,[_]:T,[E]:N,[R]:x,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[M]:"touchout",[D]:"touchleave",[P]:"touchover",[B]:"touchenter",[_]:H,[E]:q,[R]:Y,[k]:ae,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[M]:M,[D]:D,[P]:P,[B]:B,[_]:_,[E]:E,[R]:R,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},V=J=>J.indexOf("pointer")>=0?"pointer":J.indexOf("touch")>=0?"touch":"mouse",ee=J=>{const z=V(J);if(z==="pointer")return s.Konva.pointerEventsEnabled&&L.pointer;if(z==="touch")return L.touch;if(z==="mouse")return L.mouse};function I(J={}){return(J.clipFunc||J.clipWidth||J.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),J}const te="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class ce extends r.Container{constructor(z){super(I(z)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{I(this.attrs)}),this._checkVisibility()}_validateAdd(z){const Z=z.getType()==="Layer",se=z.getType()==="FastLayer";Z||se||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const z=this.visible()?"":"none";this.content.style.display=z}setContainer(z){if(typeof z===m){let Z;if(z.charAt(0)==="."){const se=z.slice(1);z=document.getElementsByClassName(se)[0]}else z.charAt(0)!=="#"?Z=z:Z=z.slice(1),z=document.getElementById(Z);if(!z)throw"Can not find container in document with id "+Z}return this._setAttr("container",z),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),z.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const z=this.children,Z=z.length;for(let se=0;se<Z;se++)z[se].clear();return this}clone(z){return z||(z={}),z.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,z)}destroy(){super.destroy();const z=this.content;z&&e.Util._isInDocument(z)&&this.container().removeChild(z);const Z=t.stages.indexOf(this);return Z>-1&&t.stages.splice(Z,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const z=this._pointerPositions[0]||this._changedPointerPositions[0];return z?{x:z.x,y:z.y}:(e.Util.warn(te),null)}_getPointerById(z){return this._pointerPositions.find(Z=>Z.id===z)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(z){z=z||{},z.x=z.x||0,z.y=z.y||0,z.width=z.width||this.width(),z.height=z.height||this.height();const Z=new o.SceneCanvas({width:z.width,height:z.height,pixelRatio:z.pixelRatio||1}),se=Z.getContext()._context,ue=this.children;return(z.x||z.y)&&se.translate(-1*z.x,-1*z.y),ue.forEach(function(me){if(!me.isVisible())return;const Se=me._toKonvaCanvas(z);se.drawImage(Se._canvas,z.x,z.y,Se.getWidth()/Se.getPixelRatio(),Se.getHeight()/Se.getPixelRatio())}),Z}getIntersection(z){if(!z)return null;const Z=this.children,se=Z.length,ue=se-1;for(let me=ue;me>=0;me--){const Se=Z[me].getIntersection(z);if(Se)return Se}return null}_resizeDOM(){const z=this.width(),Z=this.height();this.content&&(this.content.style.width=z+v,this.content.style.height=Z+v),this.bufferCanvas.setSize(z,Z),this.bufferHitCanvas.setSize(z,Z),this.children.forEach(se=>{se.setSize({width:z,height:Z}),se.draw()})}add(z,...Z){if(arguments.length>1){for(let ue=0;ue<arguments.length;ue++)this.add(arguments[ue]);return this}super.add(z);const se=this.children.length;return se>O&&e.Util.warn("The stage has "+se+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),z.setSize({width:this.width(),height:this.height()}),z.draw(),s.Konva.isBrowser&&this.content.appendChild(z.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(z){return h.hasPointerCapture(z,this)}setPointerCapture(z){h.setPointerCapture(z,this)}releaseCapture(z){h.releaseCapture(z,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&U.forEach(([z,Z])=>{this.content.addEventListener(z,se=>{this[Z](se)},{passive:!1})})}_pointerenter(z){this.setPointersPositions(z);const Z=ee(z.type);Z&&this._fire(Z.pointerenter,{evt:z,target:this,currentTarget:this})}_pointerover(z){this.setPointersPositions(z);const Z=ee(z.type);Z&&this._fire(Z.pointerover,{evt:z,target:this,currentTarget:this})}_getTargetShape(z){let Z=this[z+"targetShape"];return Z&&!Z.getStage()&&(Z=null),Z}_pointerleave(z){const Z=ee(z.type),se=V(z.type);if(!Z)return;this.setPointersPositions(z);const ue=this._getTargetShape(se),me=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;ue&&me?(ue._fireAndBubble(Z.pointerout,{evt:z}),ue._fireAndBubble(Z.pointerleave,{evt:z}),this._fire(Z.pointerleave,{evt:z,target:this,currentTarget:this}),this[se+"targetShape"]=null):me&&(this._fire(Z.pointerleave,{evt:z,target:this,currentTarget:this}),this._fire(Z.pointerout,{evt:z,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(z){const Z=ee(z.type),se=V(z.type);if(!Z)return;this.setPointersPositions(z);let ue=!1;this._changedPointerPositions.forEach(me=>{const Se=this.getIntersection(me);if(c.DD.justDragged=!1,s.Konva["_"+se+"ListenClick"]=!0,!Se||!Se.isListening()){this[se+"ClickStartShape"]=void 0;return}s.Konva.capturePointerEventsEnabled&&Se.setPointerCapture(me.id),this[se+"ClickStartShape"]=Se,Se._fireAndBubble(Z.pointerdown,{evt:z,pointerId:me.id}),ue=!0;const Me=z.type.indexOf("touch")>=0;Se.preventDefault()&&z.cancelable&&Me&&z.preventDefault()}),ue||this._fire(Z.pointerdown,{evt:z,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(z){const Z=ee(z.type),se=V(z.type);if(!Z||(s.Konva.isDragging()&&c.DD.node.preventDefault()&&z.cancelable&&z.preventDefault(),this.setPointersPositions(z),!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled)))return;const me={};let Se=!1;const Me=this._getTargetShape(se);this._changedPointerPositions.forEach(Ie=>{const Ce=h.getCapturedShape(Ie.id)||this.getIntersection(Ie),Qe=Ie.id,qe={evt:z,pointerId:Qe},Je=Me!==Ce;if(Je&&Me&&(Me._fireAndBubble(Z.pointerout,{...qe},Ce),Me._fireAndBubble(Z.pointerleave,{...qe},Ce)),Ce){if(me[Ce._id])return;me[Ce._id]=!0}Ce&&Ce.isListening()?(Se=!0,Je&&(Ce._fireAndBubble(Z.pointerover,{...qe},Me),Ce._fireAndBubble(Z.pointerenter,{...qe},Me),this[se+"targetShape"]=Ce),Ce._fireAndBubble(Z.pointermove,{...qe})):Me&&(this._fire(Z.pointerover,{evt:z,target:this,currentTarget:this,pointerId:Qe}),this[se+"targetShape"]=null)}),Se||this._fire(Z.pointermove,{evt:z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(z){const Z=ee(z.type),se=V(z.type);if(!Z)return;this.setPointersPositions(z);const ue=this[se+"ClickStartShape"],me=this[se+"ClickEndShape"],Se={};let Me=!1;this._changedPointerPositions.forEach(Ie=>{const Ce=h.getCapturedShape(Ie.id)||this.getIntersection(Ie);if(Ce){if(Ce.releaseCapture(Ie.id),Se[Ce._id])return;Se[Ce._id]=!0}const Qe=Ie.id,qe={evt:z,pointerId:Qe};let Je=!1;s.Konva["_"+se+"InDblClickWindow"]?(Je=!0,clearTimeout(this[se+"DblTimeout"])):c.DD.justDragged||(s.Konva["_"+se+"InDblClickWindow"]=!0,clearTimeout(this[se+"DblTimeout"])),this[se+"DblTimeout"]=setTimeout(function(){s.Konva["_"+se+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),Ce&&Ce.isListening()?(Me=!0,this[se+"ClickEndShape"]=Ce,Ce._fireAndBubble(Z.pointerup,{...qe}),s.Konva["_"+se+"ListenClick"]&&ue&&ue===Ce&&(Ce._fireAndBubble(Z.pointerclick,{...qe}),Je&&me&&me===Ce&&Ce._fireAndBubble(Z.pointerdblclick,{...qe}))):(this[se+"ClickEndShape"]=null,s.Konva["_"+se+"ListenClick"]&&this._fire(Z.pointerclick,{evt:z,target:this,currentTarget:this,pointerId:Qe}),Je&&this._fire(Z.pointerdblclick,{evt:z,target:this,currentTarget:this,pointerId:Qe}))}),Me||this._fire(Z.pointerup,{evt:z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+se+"ListenClick"]=!1,z.cancelable&&se!=="touch"&&se!=="pointer"&&z.preventDefault()}_contextmenu(z){this.setPointersPositions(z);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(j,{evt:z}):this._fire(j,{evt:z,target:this,currentTarget:this})}_wheel(z){this.setPointersPositions(z);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(A,{evt:z}):this._fire(A,{evt:z,target:this,currentTarget:this})}_pointercancel(z){this.setPointersPositions(z);const Z=h.getCapturedShape(z.pointerId)||this.getIntersection(this.getPointerPosition());Z&&Z._fireAndBubble(R,h.createEvent(z)),h.releaseCapture(z.pointerId)}_lostpointercapture(z){h.releaseCapture(z.pointerId)}setPointersPositions(z){const Z=this._getContentPosition();let se=null,ue=null;z=z||window.event,z.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(z.touches,me=>{this._pointerPositions.push({id:me.identifier,x:(me.clientX-Z.left)/Z.scaleX,y:(me.clientY-Z.top)/Z.scaleY})}),Array.prototype.forEach.call(z.changedTouches||z.touches,me=>{this._changedPointerPositions.push({id:me.identifier,x:(me.clientX-Z.left)/Z.scaleX,y:(me.clientY-Z.top)/Z.scaleY})})):(se=(z.clientX-Z.left)/Z.scaleX,ue=(z.clientY-Z.top)/Z.scaleY,this.pointerPos={x:se,y:ue},this._pointerPositions=[{x:se,y:ue,id:e.Util._getFirstPointerId(z)}],this._changedPointerPositions=[{x:se,y:ue,id:e.Util._getFirstPointerId(z)}])}_setPointerPosition(z){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(z)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const z=this.content.getBoundingClientRect();return{top:z.top,left:z.left,scaleX:z.width/this.content.clientWidth||1,scaleY:z.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const z=this.container();if(!z)throw"Stage has no container. A container is required.";z.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),z.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(z){z.batchDraw()}),this}}t.Stage=ce,ce.prototype.nodeType=f,(0,u._registerNode)(ce),i.Factory.addGetterSetter(ce,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(J=>{J.batchDraw()})})}(ju)),ju}var jr={},Hu={},B0;function Et(){return B0||(B0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=we(),i=rt(),r=Ge(),s=lt(),o=Le(),c=we(),u=a2(),h="hasShadow",f="shadowRGBA",m="patternImage",v="linearGradient",g="radialGradient";let y;function b(){return y||(y=i.Util.createCanvasElement().getContext("2d"),y)}t.shapes={};function C(D){const P=this.attrs.fillRule;P?D.fill(P):D.fill()}function T(D){D.stroke()}function N(D){const P=this.attrs.fillRule;P?D.fill(P):D.fill()}function x(D){D.stroke()}function _(){this._clearCache(h)}function E(){this._clearCache(f)}function R(){this._clearCache(m)}function k(){this._clearCache(v)}function G(){this._clearCache(g)}class M extends s.Node{constructor(P){super(P);let B;for(;B=i.Util.getRandomColor(),!(B&&!(B in t.shapes)););this.colorKey=B,t.shapes[B]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const B=b().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(B&&B.setTransform){const j=new i.Transform;j.translate(this.fillPatternX(),this.fillPatternY()),j.rotate(e.Konva.getAngle(this.fillPatternRotation())),j.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),j.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const q=j.getMatrix(),Y=typeof DOMMatrix>"u"?{a:q[0],b:q[1],c:q[2],d:q[3],e:q[4],f:q[5]}:new DOMMatrix(q);B.setTransform(Y)}return B}}_getLinearGradient(){return this._getCache(v,this.__getLinearGradient)}__getLinearGradient(){const P=this.fillLinearGradientColorStops();if(P){const B=b(),j=this.fillLinearGradientStartPoint(),q=this.fillLinearGradientEndPoint(),Y=B.createLinearGradient(j.x,j.y,q.x,q.y);for(let H=0;H<P.length;H+=2)Y.addColorStop(P[H],P[H+1]);return Y}}_getRadialGradient(){return this._getCache(g,this.__getRadialGradient)}__getRadialGradient(){const P=this.fillRadialGradientColorStops();if(P){const B=b(),j=this.fillRadialGradientStartPoint(),q=this.fillRadialGradientEndPoint(),Y=B.createRadialGradient(j.x,j.y,this.fillRadialGradientStartRadius(),q.x,q.y,this.fillRadialGradientEndRadius());for(let H=0;H<P.length;H+=2)Y.addColorStop(P[H],P[H+1]);return Y}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const P=i.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){const B=this.getStage();if(!B)return!1;const j=B.bufferHitCanvas;return j.getContext().clear(),this.drawHit(j,void 0,!0),j.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var B;if(!((B=this.attrs.perfectDrawEnabled)!==null&&B!==void 0?B:!0))return!1;const q=P||this.hasFill(),Y=this.hasStroke(),H=this.getAbsoluteOpacity()!==1;if(q&&Y&&H)return!0;const ae=this.hasShadow(),A=this.shadowForStrokeEnabled();return!!(q&&Y&&ae&&A)}setStrokeHitEnabled(P){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){let B=!1,j=this.getParent();for(;j;){if(j.isCached()){B=!0;break}j=j.getParent()}const q=P.skipTransform,Y=P.relativeTo||B&&this.getStage()||void 0,H=this.getSelfRect(),A=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,O=H.width+A,U=H.height+A,L=!P.skipShadow&&this.hasShadow(),V=L?this.shadowOffsetX():0,ee=L?this.shadowOffsetY():0,I=O+Math.abs(V),te=U+Math.abs(ee),ce=L&&this.shadowBlur()||0,J=I+ce*2,z=te+ce*2,Z={width:J,height:z,x:-(A/2+ce)+Math.min(V,0)+H.x,y:-(A/2+ce)+Math.min(ee,0)+H.y};return q?Z:this._transformedRect(Z,Y)}drawScene(P,B,j){const q=this.getLayer(),Y=P||q.getCanvas(),H=Y.getContext(),ae=this._getCanvasCache(),A=this.getSceneFunc(),O=this.hasShadow();let U;const L=B===this;if(!this.isVisible()&&!L)return this;if(ae){H.save();const V=this.getAbsoluteTransform(B).getMatrix();return H.transform(V[0],V[1],V[2],V[3],V[4],V[5]),this._drawCachedSceneCanvas(H),H.restore(),this}if(!A)return this;if(H.save(),this._useBufferCanvas()){U=this.getStage();const V=j||U.bufferCanvas,ee=V.getContext();ee.clear(),ee.save(),ee._applyLineJoin(this);const I=this.getAbsoluteTransform(B).getMatrix();ee.transform(I[0],I[1],I[2],I[3],I[4],I[5]),A.call(this,ee,this),ee.restore();const te=V.pixelRatio;O&&H._applyShadow(this),H._applyOpacity(this),H._applyGlobalCompositeOperation(this),H.drawImage(V._canvas,V.x||0,V.y||0,V.width/te,V.height/te)}else{if(H._applyLineJoin(this),!L){const V=this.getAbsoluteTransform(B).getMatrix();H.transform(V[0],V[1],V[2],V[3],V[4],V[5]),H._applyOpacity(this),H._applyGlobalCompositeOperation(this)}O&&H._applyShadow(this),A.call(this,H,this)}return H.restore(),this}drawHit(P,B,j=!1){if(!this.shouldDrawHit(B,j))return this;const q=this.getLayer(),Y=P||q.hitCanvas,H=Y&&Y.getContext(),ae=this.hitFunc()||this.sceneFunc(),A=this._getCanvasCache(),O=A&&A.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),O){H.save();const L=this.getAbsoluteTransform(B).getMatrix();return H.transform(L[0],L[1],L[2],L[3],L[4],L[5]),this._drawCachedHitCanvas(H),H.restore(),this}if(!ae)return this;if(H.save(),H._applyLineJoin(this),!(this===B)){const L=this.getAbsoluteTransform(B).getMatrix();H.transform(L[0],L[1],L[2],L[3],L[4],L[5])}return ae.call(this,H,this),H.restore(),this}drawHitFromCache(P=0){const B=this._getCanvasCache(),j=this._getCachedSceneCanvas(),q=B.hit,Y=q.getContext(),H=q.getWidth(),ae=q.getHeight();Y.clear(),Y.drawImage(j._canvas,0,0,H,ae);try{const A=Y.getImageData(0,0,H,ae),O=A.data,U=O.length,L=i.Util._hexToRgb(this.colorKey);for(let V=0;V<U;V+=4)O[V+3]>P?(O[V]=L.r,O[V+1]=L.g,O[V+2]=L.b,O[V+3]=255):O[V+3]=0;Y.putImageData(A,0,0)}catch(A){i.Util.error("Unable to draw hit graph from cached scene canvas. "+A.message)}return this}hasPointerCapture(P){return u.hasPointerCapture(P,this)}setPointerCapture(P){u.setPointerCapture(P,this)}releaseCapture(P){u.releaseCapture(P,this)}}t.Shape=M,M.prototype._fillFunc=C,M.prototype._strokeFunc=T,M.prototype._fillFuncHit=N,M.prototype._strokeFuncHit=x,M.prototype._centroid=!1,M.prototype.nodeType="Shape",(0,c._registerNode)(M),M.prototype.eventListeners={},M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",E),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",R),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",G),r.Factory.addGetterSetter(M,"stroke",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(M,"strokeWidth",2,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(M,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(M,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"lineJoin"),r.Factory.addGetterSetter(M,"lineCap"),r.Factory.addGetterSetter(M,"sceneFunc"),r.Factory.addGetterSetter(M,"hitFunc"),r.Factory.addGetterSetter(M,"dash"),r.Factory.addGetterSetter(M,"dashOffset",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowColor",void 0,(0,o.getStringValidator)()),r.Factory.addGetterSetter(M,"shadowBlur",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowOpacity",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(M,"shadowOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternImage"),r.Factory.addGetterSetter(M,"fill",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(M,"fillPatternX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(M,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(M,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(M,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(M,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(M,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(M,"fillEnabled",!0),r.Factory.addGetterSetter(M,"strokeEnabled",!0),r.Factory.addGetterSetter(M,"shadowEnabled",!0),r.Factory.addGetterSetter(M,"dashEnabled",!0),r.Factory.addGetterSetter(M,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(M,"fillPriority","color"),r.Factory.addComponentsGetterSetter(M,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(M,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(M,"fillPatternScaleX",1,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternScaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(M,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(M,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(M,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(M,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(M,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(M,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(M,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(M,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(M,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(M,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(M,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(M,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(M,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(M,"fillPatternRotation",0),r.Factory.addGetterSetter(M,"fillRule",void 0,(0,o.getStringValidator)()),r.Factory.backCompat(M,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Hu)),Hu}var F0;function i2(){if(F0)return jr;F0=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Layer=void 0;const t=rt(),e=Ll(),i=lt(),r=Ge(),s=Gl(),o=Le(),c=Et(),u=we(),h="#",f="beforeDraw",m="draw",v=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],g=v.length;class y extends e.Container{constructor(C){super(C),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(C){return this.getContext().clear(C),this.getHitCanvas().getContext().clear(C),this}setZIndex(C){super.setZIndex(C);const T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),C<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[C+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;const T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){const C=this.getStage();if(C){const T=C.children;C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){const C=this.getStage();if(C){const T=C.children;C.content&&(C.content.removeChild(this.getNativeCanvasElement()),C.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const C=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),C&&C.parentNode&&t.Util._isInDocument(C)&&C.parentNode.removeChild(C),this}getStage(){return this.parent}setSize({width:C,height:T}){return this.canvas.setSize(C,T),this.hitCanvas.setSize(C,T),this._setSmoothEnabled(),this}_validateAdd(C){const T=C.getType();T!=="Group"&&T!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(C){return C=C||{},C.width=C.width||this.getWidth(),C.height=C.height||this.getHeight(),C.x=C.x!==void 0?C.x:this.x(),C.y=C.y!==void 0?C.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,C)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(C){if(!this.isListening()||!this.isVisible())return null;let T=1,N=!1;for(;;){for(let x=0;x<g;x++){const _=v[x],E=this._getIntersection({x:C.x+_.x*T,y:C.y+_.y*T}),R=E.shape;if(R)return R;if(N=!!E.antialiased,!E.antialiased)break}if(N)T+=1;else return null}}_getIntersection(C){const T=this.hitCanvas.pixelRatio,N=this.hitCanvas.context.getImageData(Math.round(C.x*T),Math.round(C.y*T),1,1).data,x=N[3];if(x===255){const _=t.Util._rgbToHex(N[0],N[1],N[2]),E=c.shapes[h+_];return E?{shape:E}:{antialiased:!0}}else if(x>0)return{antialiased:!0};return{}}drawScene(C,T,N){const x=this.getLayer(),_=C||x&&x.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&_.getContext().clear(),e.Container.prototype.drawScene.call(this,_,T,N),this._fire(m,{node:this}),this}drawHit(C,T){const N=this.getLayer(),x=C||N&&N.hitCanvas;return N&&N.clearBeforeDraw()&&N.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,x,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(C){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(C)}getHitGraphEnabled(C){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const C=this.parent;!!this.hitCanvas._canvas.parentNode?C.content.removeChild(this.hitCanvas._canvas):C.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return jr.Layer=y,y.prototype.nodeType="Layer",(0,u._registerNode)(y),r.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(y,"clearBeforeDraw",!0),r.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),jr}var Hr={},V0;function U3(){if(V0)return Hr;V0=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.FastLayer=void 0;const t=rt(),e=i2(),i=we();let r=class extends e.Layer{constructor(o){super(o),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Hr.FastLayer=r,r.prototype.nodeType="FastLayer",(0,i._registerNode)(r),Hr}var Ir={},j0;function Kd(){if(j0)return Ir;j0=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Group=void 0;const t=rt(),e=Ll(),i=we();class r extends e.Container{_validateAdd(o){const c=o.getType();c!=="Group"&&c!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}}return Ir.Group=r,r.prototype.nodeType="Group",(0,i._registerNode)(r),Ir}var qr={},H0;function Xd(){if(H0)return qr;H0=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Animation=void 0;const t=we(),e=rt(),i=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class Hi{constructor(o,c){this.id=Hi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=o,this.setLayers(c)}setLayers(o){let c=[];return o&&(c=Array.isArray(o)?o:[o]),this.layers=c,this}getLayers(){return this.layers}addLayer(o){const c=this.layers,u=c.length;for(let h=0;h<u;h++)if(c[h]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const c=Hi.animations,u=c.length;for(let h=0;h<u;h++)if(c[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),Hi._addAnimation(this),this}stop(){return Hi._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const c=o.id,u=this.animations,h=u.length;for(let f=0;f<h;f++)if(u[f].id===c){this.animations.splice(f,1);break}}static _runFrames(){const o={},c=this.animations;for(let u=0;u<c.length;u++){const h=c[u],f=h.layers,m=h.func;h._updateFrameObject(i());const v=f.length;let g;if(m?g=m.call(h,h.frame)!==!1:g=!0,!!g)for(let y=0;y<v;y++){const b=f[y];b._id!==void 0&&(o[b._id]=b)}}for(const u in o)o.hasOwnProperty(u)&&o[u].batchDraw()}static _animationLoop(){const o=Hi;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return qr.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,qr}var Iu={},I0;function G3(){return I0||(I0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=rt(),i=Xd(),r=lt(),s=we(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,u=2,h=3,f=["fill","stroke","shadowColor"];let m=0;class v{constructor(b,C,T,N,x,_,E){this.prop=b,this.propFunc=C,this.begin=N,this._pos=N,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=E,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=x-this.begin,this.pause()}fire(b){const C=this[b];C&&C()}setTime(b){b>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():b<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=b,this.update())}getTime(){return this._time}setPosition(b){this.prevPos=this._pos,this.propFunc(b),this._pos=b}getPosition(b){return b===void 0&&(b=this._time),this.func(b,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(b){this.pause(),this._time=b,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const b=this.getTimer()-this._startTime;this.state===u?this.setTime(b):this.state===h&&this.setTime(this.duration-b)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class g{constructor(b){const C=this,T=b.node,N=T._id,x=b.easing||t.Easings.Linear,_=!!b.yoyo;let E,R;typeof b.duration>"u"?E=.3:b.duration===0?E=.001:E=b.duration,this.node=T,this._id=m++;const k=T.getLayer()||(T instanceof s.Konva.Stage?T.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){C.tween.onEnterFrame()},k),this.tween=new v(R,function(G){C._tweenFunc(G)},x,0,1,E*1e3,_),this._addListeners(),g.attrs[N]||(g.attrs[N]={}),g.attrs[N][this._id]||(g.attrs[N][this._id]={}),g.tweens[N]||(g.tweens[N]={});for(R in b)o[R]===void 0&&this._addAttr(R,b[R]);this.reset(),this.onFinish=b.onFinish,this.onReset=b.onReset,this.onUpdate=b.onUpdate}_addAttr(b,C){const T=this.node,N=T._id;let x,_,E,R,k;const G=g.tweens[N][b];G&&delete g.attrs[N][G][b];let M=T.getAttr(b);if(e.Util._isArray(C))if(x=[],_=Math.max(C.length,M.length),b==="points"&&C.length!==M.length&&(C.length>M.length?(R=M,M=e.Util._prepareArrayForTween(M,C,T.closed())):(E=C,C=e.Util._prepareArrayForTween(C,M,T.closed()))),b.indexOf("fill")===0)for(let D=0;D<_;D++)if(D%2===0)x.push(C[D]-M[D]);else{const P=e.Util.colorToRGBA(M[D]);k=e.Util.colorToRGBA(C[D]),M[D]=P,x.push({r:k.r-P.r,g:k.g-P.g,b:k.b-P.b,a:k.a-P.a})}else for(let D=0;D<_;D++)x.push(C[D]-M[D]);else f.indexOf(b)!==-1?(M=e.Util.colorToRGBA(M),k=e.Util.colorToRGBA(C),x={r:k.r-M.r,g:k.g-M.g,b:k.b-M.b,a:k.a-M.a}):x=C-M;g.attrs[N][this._id][b]={start:M,diff:x,end:C,trueEnd:E,trueStart:R},g.tweens[N][b]=this._id}_tweenFunc(b){const C=this.node,T=g.attrs[C._id][this._id];let N,x,_,E,R,k,G,M;for(N in T){if(x=T[N],_=x.start,E=x.diff,M=x.end,e.Util._isArray(_))if(R=[],G=Math.max(_.length,M.length),N.indexOf("fill")===0)for(k=0;k<G;k++)k%2===0?R.push((_[k]||0)+E[k]*b):R.push("rgba("+Math.round(_[k].r+E[k].r*b)+","+Math.round(_[k].g+E[k].g*b)+","+Math.round(_[k].b+E[k].b*b)+","+(_[k].a+E[k].a*b)+")");else for(k=0;k<G;k++)R.push((_[k]||0)+E[k]*b);else f.indexOf(N)!==-1?R="rgba("+Math.round(_.r+E.r*b)+","+Math.round(_.g+E.g*b)+","+Math.round(_.b+E.b*b)+","+(_.a+E.a*b)+")":R=_+E*b;C.setAttr(N,R)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const b=this.node,C=g.attrs[b._id][this._id];C.points&&C.points.trueEnd&&b.setAttr("points",C.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const b=this.node,C=g.attrs[b._id][this._id];C.points&&C.points.trueStart&&b.points(C.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(b){return this.tween.seek(b*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const b=this.node._id,C=this._id,T=g.tweens[b];this.pause(),this.anim&&this.anim.stop();for(const N in T)delete g.tweens[b][N];delete g.attrs[b][C],g.tweens[b]&&(Object.keys(g.tweens[b]).length===0&&delete g.tweens[b],Object.keys(g.attrs[b]).length===0&&delete g.attrs[b])}}t.Tween=g,g.attrs={},g.tweens={},r.Node.prototype.to=function(y){const b=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),b&&b()},new g(y).play()},t.Easings={BackEaseIn(y,b,C,T){return C*(y/=T)*y*((1.70158+1)*y-1.70158)+b},BackEaseOut(y,b,C,T){return C*((y=y/T-1)*y*((1.70158+1)*y+1.70158)+1)+b},BackEaseInOut(y,b,C,T){let N=1.70158;return(y/=T/2)<1?C/2*(y*y*(((N*=1.525)+1)*y-N))+b:C/2*((y-=2)*y*(((N*=1.525)+1)*y+N)+2)+b},ElasticEaseIn(y,b,C,T,N,x){let _=0;return y===0?b:(y/=T)===1?b+C:(x||(x=T*.3),!N||N<Math.abs(C)?(N=C,_=x/4):_=x/(2*Math.PI)*Math.asin(C/N),-(N*Math.pow(2,10*(y-=1))*Math.sin((y*T-_)*(2*Math.PI)/x))+b)},ElasticEaseOut(y,b,C,T,N,x){let _=0;return y===0?b:(y/=T)===1?b+C:(x||(x=T*.3),!N||N<Math.abs(C)?(N=C,_=x/4):_=x/(2*Math.PI)*Math.asin(C/N),N*Math.pow(2,-10*y)*Math.sin((y*T-_)*(2*Math.PI)/x)+C+b)},ElasticEaseInOut(y,b,C,T,N,x){let _=0;return y===0?b:(y/=T/2)===2?b+C:(x||(x=T*(.3*1.5)),!N||N<Math.abs(C)?(N=C,_=x/4):_=x/(2*Math.PI)*Math.asin(C/N),y<1?-.5*(N*Math.pow(2,10*(y-=1))*Math.sin((y*T-_)*(2*Math.PI)/x))+b:N*Math.pow(2,-10*(y-=1))*Math.sin((y*T-_)*(2*Math.PI)/x)*.5+C+b)},BounceEaseOut(y,b,C,T){return(y/=T)<1/2.75?C*(7.5625*y*y)+b:y<2/2.75?C*(7.5625*(y-=1.5/2.75)*y+.75)+b:y<2.5/2.75?C*(7.5625*(y-=2.25/2.75)*y+.9375)+b:C*(7.5625*(y-=2.625/2.75)*y+.984375)+b},BounceEaseIn(y,b,C,T){return C-t.Easings.BounceEaseOut(T-y,0,C,T)+b},BounceEaseInOut(y,b,C,T){return y<T/2?t.Easings.BounceEaseIn(y*2,0,C,T)*.5+b:t.Easings.BounceEaseOut(y*2-T,0,C,T)*.5+C*.5+b},EaseIn(y,b,C,T){return C*(y/=T)*y+b},EaseOut(y,b,C,T){return-C*(y/=T)*(y-2)+b},EaseInOut(y,b,C,T){return(y/=T/2)<1?C/2*y*y+b:-C/2*(--y*(y-2)-1)+b},StrongEaseIn(y,b,C,T){return C*(y/=T)*y*y*y*y+b},StrongEaseOut(y,b,C,T){return C*((y=y/T-1)*y*y*y*y+1)+b},StrongEaseInOut(y,b,C,T){return(y/=T/2)<1?C/2*y*y*y*y*y+b:C/2*((y-=2)*y*y*y*y+2)+b},Linear(y,b,C,T){return C*y/T+b}}}(Iu)),Iu}var q0;function _d(){return q0||(q0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=we(),i=rt(),r=lt(),s=Ll(),o=z3(),c=i2(),u=U3(),h=Kd(),f=Yd(),m=Et(),v=Xd(),g=G3(),y=n2(),b=Gl();t.Konva=i.Util._assign(e.Konva,{Util:i.Util,Transform:i.Transform,Node:r.Node,Container:s.Container,Stage:o.Stage,stages:o.stages,Layer:c.Layer,FastLayer:u.FastLayer,Group:h.Group,DD:f.DD,Shape:m.Shape,shapes:m.shapes,Animation:v.Animation,Tween:g.Tween,Easings:g.Easings,Context:y.Context,Canvas:b.Canvas}),t.default=t.Konva}(Gu)),Gu}var Yr={},Y0;function L3(){if(Y0)return Yr;Y0=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Arc=void 0;const t=Ge(),e=Et(),i=we(),r=Le(),s=we();let o=class extends e.Shape{_sceneFunc(u){const h=i.Konva.getAngle(this.angle()),f=this.clockwise();u.beginPath(),u.arc(0,0,this.outerRadius(),0,h,f),u.arc(0,0,this.innerRadius(),h,0,!f),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}getSelfRect(){const u=this.innerRadius(),h=this.outerRadius(),f=this.clockwise(),m=i.Konva.getAngle(f?360-this.angle():this.angle()),v=Math.cos(Math.min(m,Math.PI)),g=1,y=Math.sin(Math.min(Math.max(Math.PI,m),3*Math.PI/2)),b=Math.sin(Math.min(m,Math.PI/2)),C=v*(v>0?u:h),T=g*h,N=y*(y>0?u:h),x=b*(b>0?h:u);return{x:C,y:f?-1*x:N,width:T-C,height:x-N}}};return Yr.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,s._registerNode)(o),t.Factory.addGetterSetter(o,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"outerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"clockwise",!1,(0,r.getBooleanValidator)()),Yr}var Kr={},Xr={},K0;function r2(){if(K0)return Xr;K0=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Line=void 0;const t=Ge(),e=we(),i=Et(),r=Le();function s(u,h,f,m,v,g,y){const b=Math.sqrt(Math.pow(f-u,2)+Math.pow(m-h,2)),C=Math.sqrt(Math.pow(v-f,2)+Math.pow(g-m,2)),T=y*b/(b+C),N=y*C/(b+C),x=f-T*(v-u),_=m-T*(g-h),E=f+N*(v-u),R=m+N*(g-h);return[x,_,E,R]}function o(u,h){const f=u.length,m=[];for(let v=2;v<f-2;v+=2){const g=s(u[v-2],u[v-1],u[v],u[v+1],u[v+2],u[v+3],h);isNaN(g[0])||(m.push(g[0]),m.push(g[1]),m.push(u[v]),m.push(u[v+1]),m.push(g[2]),m.push(g[3]))}return m}let c=class extends i.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){const f=this.points(),m=f.length,v=this.tension(),g=this.closed(),y=this.bezier();if(!m)return;let b=0;if(h.beginPath(),h.moveTo(f[0],f[1]),v!==0&&m>4){const C=this.getTensionPoints(),T=C.length;for(b=g?0:4,g||h.quadraticCurveTo(C[0],C[1],C[2],C[3]);b<T-2;)h.bezierCurveTo(C[b++],C[b++],C[b++],C[b++],C[b++],C[b++]);g||h.quadraticCurveTo(C[T-2],C[T-1],f[m-2],f[m-1])}else if(y)for(b=2;b<m;)h.bezierCurveTo(f[b++],f[b++],f[b++],f[b++],f[b++],f[b++]);else for(b=2;b<m;b+=2)h.lineTo(f[b],f[b+1]);g?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const h=this.points(),f=h.length,m=this.tension(),v=s(h[f-2],h[f-1],h[0],h[1],h[2],h[3],m),g=s(h[f-4],h[f-3],h[f-2],h[f-1],h[0],h[1],m),y=o(h,m);return[v[2],v[3]].concat(y).concat([g[0],g[1],h[f-2],h[f-1],g[2],g[3],v[0],v[1],h[0],h[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();let f=h[0],m=h[0],v=h[1],g=h[1],y,b;for(let C=0;C<h.length/2;C++)y=h[C*2],b=h[C*2+1],f=Math.min(f,y),m=Math.max(m,y),v=Math.min(v,b),g=Math.max(g,b);return{x:f,y:v,width:m-f,height:g-v}}};return Xr.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(c),t.Factory.addGetterSetter(c,"closed",!1),t.Factory.addGetterSetter(c,"bezier",!1),t.Factory.addGetterSetter(c,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(c,"points",[],(0,r.getNumberArrayValidator)()),Xr}var Zr={},qu={},X0;function B3(){return X0||(X0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(c,u,h)=>{let f,m;const g=h/2;f=0;for(let y=0;y<20;y++)m=g*t.tValues[20][y]+g,f+=t.cValues[20][y]*r(c,u,m);return g*f};t.getCubicArcLength=e;const i=(c,u,h)=>{h===void 0&&(h=1);const f=c[0]-2*c[1]+c[2],m=u[0]-2*u[1]+u[2],v=2*c[1]-2*c[0],g=2*u[1]-2*u[0],y=4*(f*f+m*m),b=4*(f*v+m*g),C=v*v+g*g;if(y===0)return h*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(u[2]-u[0],2));const T=b/(2*y),N=C/y,x=h+T,_=N-T*T,E=x*x+_>0?Math.sqrt(x*x+_):0,R=T*T+_>0?Math.sqrt(T*T+_):0,k=T+Math.sqrt(T*T+_)!==0?_*Math.log(Math.abs((x+E)/(T+R))):0;return Math.sqrt(y)/2*(x*E-T*R+k)};t.getQuadraticArcLength=i;function r(c,u,h){const f=s(1,h,c),m=s(1,h,u),v=f*f+m*m;return Math.sqrt(v)}const s=(c,u,h)=>{const f=h.length-1;let m,v;if(f===0)return 0;if(c===0){v=0;for(let g=0;g<=f;g++)v+=t.binomialCoefficients[f][g]*Math.pow(1-u,f-g)*Math.pow(u,g)*h[g];return v}else{m=new Array(f);for(let g=0;g<f;g++)m[g]=f*(h[g+1]-h[g]);return s(c-1,u,m)}},o=(c,u,h)=>{let f=1,m=c/u,v=(c-h(m))/u,g=0;for(;f>.001;){const y=h(m+v),b=Math.abs(c-y)/u;if(b<f)f=b,m+=v;else{const C=h(m-v),T=Math.abs(c-C)/u;T<f?(f=T,m-=v):v/=2}if(g++,g>500)break}return m};t.t2length=o}(qu)),qu}var Z0;function Zd(){if(Z0)return Zr;Z0=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Path=void 0;const t=Ge(),e=we(),i=Et(),r=B3();let s=class qt extends i.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=qt.parsePathData(this.data()),this.pathLength=qt.getPathLength(this.dataArray)}_sceneFunc(c){const u=this.dataArray;c.beginPath();let h=!1;for(let f=0;f<u.length;f++){const m=u[f].command,v=u[f].points;switch(m){case"L":c.lineTo(v[0],v[1]);break;case"M":c.moveTo(v[0],v[1]);break;case"C":c.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]);break;case"Q":c.quadraticCurveTo(v[0],v[1],v[2],v[3]);break;case"A":const g=v[0],y=v[1],b=v[2],C=v[3],T=v[4],N=v[5],x=v[6],_=v[7],E=b>C?b:C,R=b>C?1:b/C,k=b>C?C/b:1;c.translate(g,y),c.rotate(x),c.scale(R,k),c.arc(0,0,E,T,T+N,1-_),c.scale(1/R,1/k),c.rotate(-x),c.translate(-g,-y);break;case"z":h=!0,c.closePath();break}}!h&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(y){if(y.command==="A"){const b=y.points[4],C=y.points[5],T=y.points[4]+C;let N=Math.PI/180;if(Math.abs(b-T)<N&&(N=Math.abs(b-T)),C<0)for(let x=b-N;x>T;x-=N){const _=qt.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],x,0);c.push(_.x,_.y)}else for(let x=b+N;x<T;x+=N){const _=qt.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],x,0);c.push(_.x,_.y)}}else if(y.command==="C")for(let b=0;b<=1;b+=.01){const C=qt.getPointOnCubicBezier(b,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);c.push(C.x,C.y)}else c=c.concat(y.points)});let u=c[0],h=c[0],f=c[1],m=c[1],v,g;for(let y=0;y<c.length/2;y++)v=c[y*2],g=c[y*2+1],isNaN(v)||(u=Math.min(u,v),h=Math.max(h,v)),isNaN(g)||(f=Math.min(f,g),m=Math.max(m,g));return{x:u,y:f,width:h-u,height:m-f}}getLength(){return this.pathLength}getPointAtLength(c){return qt.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,u,h,f){return Math.sqrt((h-c)*(h-c)+(f-u)*(f-u))}static getPathLength(c){let u=0;for(let h=0;h<c.length;++h)u+=c[h].pathLength;return u}static getPointAtLengthOfDataArray(c,u){let h,f=0,m=u.length;if(!m)return null;for(;f<m&&c>u[f].pathLength;)c-=u[f].pathLength,++f;if(f===m)return h=u[f-1].points.slice(-2),{x:h[0],y:h[1]};if(c<.01)return u[f].command==="M"?(h=u[f].points.slice(0,2),{x:h[0],y:h[1]}):{x:u[f].start.x,y:u[f].start.y};const v=u[f],g=v.points;switch(v.command){case"L":return qt.getPointOnLine(c,v.start.x,v.start.y,g[0],g[1]);case"C":return qt.getPointOnCubicBezier((0,r.t2length)(c,qt.getPathLength(u),E=>(0,r.getCubicArcLength)([v.start.x,g[0],g[2],g[4]],[v.start.y,g[1],g[3],g[5]],E)),v.start.x,v.start.y,g[0],g[1],g[2],g[3],g[4],g[5]);case"Q":return qt.getPointOnQuadraticBezier((0,r.t2length)(c,qt.getPathLength(u),E=>(0,r.getQuadraticArcLength)([v.start.x,g[0],g[2]],[v.start.y,g[1],g[3]],E)),v.start.x,v.start.y,g[0],g[1],g[2],g[3]);case"A":const y=g[0],b=g[1],C=g[2],T=g[3],N=g[5],x=g[6];let _=g[4];return _+=N*c/v.pathLength,qt.getPointOnEllipticalArc(y,b,C,T,_,x)}return null}static getPointOnLine(c,u,h,f,m,v,g){v=v??u,g=g??h;const y=this.getLineLength(u,h,f,m);if(y<1e-10)return{x:u,y:h};if(f===u)return{x:v,y:g+(m>h?c:-c)};const b=(m-h)/(f-u),C=Math.sqrt(c*c/(1+b*b))*(f<u?-1:1),T=b*C;if(Math.abs(g-h-b*(v-u))<1e-10)return{x:v+C,y:g+T};const N=((v-u)*(f-u)+(g-h)*(m-h))/(y*y),x=u+N*(f-u),_=h+N*(m-h),E=this.getLineLength(v,g,x,_),R=Math.sqrt(c*c-E*E),k=Math.sqrt(R*R/(1+b*b))*(f<u?-1:1),G=b*k;return{x:x+k,y:_+G}}static getPointOnCubicBezier(c,u,h,f,m,v,g,y,b){function C(R){return R*R*R}function T(R){return 3*R*R*(1-R)}function N(R){return 3*R*(1-R)*(1-R)}function x(R){return(1-R)*(1-R)*(1-R)}const _=y*C(c)+v*T(c)+f*N(c)+u*x(c),E=b*C(c)+g*T(c)+m*N(c)+h*x(c);return{x:_,y:E}}static getPointOnQuadraticBezier(c,u,h,f,m,v,g){function y(x){return x*x}function b(x){return 2*x*(1-x)}function C(x){return(1-x)*(1-x)}const T=v*y(c)+f*b(c)+u*C(c),N=g*y(c)+m*b(c)+h*C(c);return{x:T,y:N}}static getPointOnEllipticalArc(c,u,h,f,m,v){const g=Math.cos(v),y=Math.sin(v),b={x:h*Math.cos(m),y:f*Math.sin(m)};return{x:c+(b.x*g-b.y*y),y:u+(b.x*y+b.y*g)}}static parsePathData(c){if(!c)return[];let u=c;const h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];u=u.replace(new RegExp(" ","g"),",");for(let T=0;T<h.length;T++)u=u.replace(new RegExp(h[T],"g"),"|"+h[T]);const f=u.split("|"),m=[],v=[];let g=0,y=0;const b=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(let T=1;T<f.length;T++){let N=f[T],x=N.charAt(0);for(N=N.slice(1),v.length=0;C=b.exec(N);)v.push(C[0]);const _=[];for(let E=0,R=v.length;E<R;E++){if(v[E]==="00"){_.push(0,0);continue}const k=parseFloat(v[E]);isNaN(k)?_.push(0):_.push(k)}for(;_.length>0&&!isNaN(_[0]);){let E="",R=[];const k=g,G=y;let M,D,P,B,j,q,Y,H,ae,A;switch(x){case"l":g+=_.shift(),y+=_.shift(),E="L",R.push(g,y);break;case"L":g=_.shift(),y=_.shift(),R.push(g,y);break;case"m":const O=_.shift(),U=_.shift();if(g+=O,y+=U,E="M",m.length>2&&m[m.length-1].command==="z"){for(let L=m.length-2;L>=0;L--)if(m[L].command==="M"){g=m[L].points[0]+O,y=m[L].points[1]+U;break}}R.push(g,y),x="l";break;case"M":g=_.shift(),y=_.shift(),E="M",R.push(g,y),x="L";break;case"h":g+=_.shift(),E="L",R.push(g,y);break;case"H":g=_.shift(),E="L",R.push(g,y);break;case"v":y+=_.shift(),E="L",R.push(g,y);break;case"V":y=_.shift(),E="L",R.push(g,y);break;case"C":R.push(_.shift(),_.shift(),_.shift(),_.shift()),g=_.shift(),y=_.shift(),R.push(g,y);break;case"c":R.push(g+_.shift(),y+_.shift(),g+_.shift(),y+_.shift()),g+=_.shift(),y+=_.shift(),E="C",R.push(g,y);break;case"S":D=g,P=y,M=m[m.length-1],M.command==="C"&&(D=g+(g-M.points[2]),P=y+(y-M.points[3])),R.push(D,P,_.shift(),_.shift()),g=_.shift(),y=_.shift(),E="C",R.push(g,y);break;case"s":D=g,P=y,M=m[m.length-1],M.command==="C"&&(D=g+(g-M.points[2]),P=y+(y-M.points[3])),R.push(D,P,g+_.shift(),y+_.shift()),g+=_.shift(),y+=_.shift(),E="C",R.push(g,y);break;case"Q":R.push(_.shift(),_.shift()),g=_.shift(),y=_.shift(),R.push(g,y);break;case"q":R.push(g+_.shift(),y+_.shift()),g+=_.shift(),y+=_.shift(),E="Q",R.push(g,y);break;case"T":D=g,P=y,M=m[m.length-1],M.command==="Q"&&(D=g+(g-M.points[0]),P=y+(y-M.points[1])),g=_.shift(),y=_.shift(),E="Q",R.push(D,P,g,y);break;case"t":D=g,P=y,M=m[m.length-1],M.command==="Q"&&(D=g+(g-M.points[0]),P=y+(y-M.points[1])),g+=_.shift(),y+=_.shift(),E="Q",R.push(D,P,g,y);break;case"A":B=_.shift(),j=_.shift(),q=_.shift(),Y=_.shift(),H=_.shift(),ae=g,A=y,g=_.shift(),y=_.shift(),E="A",R=this.convertEndpointToCenterParameterization(ae,A,g,y,Y,H,B,j,q);break;case"a":B=_.shift(),j=_.shift(),q=_.shift(),Y=_.shift(),H=_.shift(),ae=g,A=y,g+=_.shift(),y+=_.shift(),E="A",R=this.convertEndpointToCenterParameterization(ae,A,g,y,Y,H,B,j,q);break}m.push({command:E||x,points:R,start:{x:k,y:G},pathLength:this.calcLength(k,G,E||x,R)})}(x==="z"||x==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(c,u,h,f){let m,v,g,y;const b=qt;switch(h){case"L":return b.getLineLength(c,u,f[0],f[1]);case"C":return(0,r.getCubicArcLength)([c,f[0],f[2],f[4]],[u,f[1],f[3],f[5]],1);case"Q":return(0,r.getQuadraticArcLength)([c,f[0],f[2]],[u,f[1],f[3]],1);case"A":m=0;const C=f[4],T=f[5],N=f[4]+T;let x=Math.PI/180;if(Math.abs(C-N)<x&&(x=Math.abs(C-N)),v=b.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],C,0),T<0)for(y=C-x;y>N;y-=x)g=b.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],y,0),m+=b.getLineLength(v.x,v.y,g.x,g.y),v=g;else for(y=C+x;y<N;y+=x)g=b.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],y,0),m+=b.getLineLength(v.x,v.y,g.x,g.y),v=g;return g=b.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],N,0),m+=b.getLineLength(v.x,v.y,g.x,g.y),m}return 0}static convertEndpointToCenterParameterization(c,u,h,f,m,v,g,y,b){const C=b*(Math.PI/180),T=Math.cos(C)*(c-h)/2+Math.sin(C)*(u-f)/2,N=-1*Math.sin(C)*(c-h)/2+Math.cos(C)*(u-f)/2,x=T*T/(g*g)+N*N/(y*y);x>1&&(g*=Math.sqrt(x),y*=Math.sqrt(x));let _=Math.sqrt((g*g*(y*y)-g*g*(N*N)-y*y*(T*T))/(g*g*(N*N)+y*y*(T*T)));m===v&&(_*=-1),isNaN(_)&&(_=0);const E=_*g*N/y,R=_*-y*T/g,k=(c+h)/2+Math.cos(C)*E-Math.sin(C)*R,G=(u+f)/2+Math.sin(C)*E+Math.cos(C)*R,M=function(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])},D=function(H,ae){return(H[0]*ae[0]+H[1]*ae[1])/(M(H)*M(ae))},P=function(H,ae){return(H[0]*ae[1]<H[1]*ae[0]?-1:1)*Math.acos(D(H,ae))},B=P([1,0],[(T-E)/g,(N-R)/y]),j=[(T-E)/g,(N-R)/y],q=[(-1*T-E)/g,(-1*N-R)/y];let Y=P(j,q);return D(j,q)<=-1&&(Y=Math.PI),D(j,q)>=1&&(Y=0),v===0&&Y>0&&(Y=Y-2*Math.PI),v===1&&Y<0&&(Y=Y+2*Math.PI),[k,G,g,y,B,Y,C,v]}};return Zr.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,e._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Zr}var Q0;function F3(){if(Q0)return Kr;Q0=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Arrow=void 0;const t=Ge(),e=r2(),i=Le(),r=we(),s=Zd();let o=class extends e.Line{_sceneFunc(u){super._sceneFunc(u);const h=Math.PI*2,f=this.points();let m=f;const v=this.tension()!==0&&f.length>4;v&&(m=this.getTensionPoints());const g=this.pointerLength(),y=f.length;let b,C;if(v){const x=[m[m.length-4],m[m.length-3],m[m.length-2],m[m.length-1],f[y-2],f[y-1]],_=s.Path.calcLength(m[m.length-4],m[m.length-3],"C",x),E=s.Path.getPointOnQuadraticBezier(Math.min(1,1-g/_),x[0],x[1],x[2],x[3],x[4],x[5]);b=f[y-2]-E.x,C=f[y-1]-E.y}else b=f[y-2]-f[y-4],C=f[y-1]-f[y-3];const T=(Math.atan2(C,b)+h)%h,N=this.pointerWidth();this.pointerAtEnding()&&(u.save(),u.beginPath(),u.translate(f[y-2],f[y-1]),u.rotate(T),u.moveTo(0,0),u.lineTo(-g,N/2),u.lineTo(-g,-N/2),u.closePath(),u.restore(),this.__fillStroke(u)),this.pointerAtBeginning()&&(u.save(),u.beginPath(),u.translate(f[0],f[1]),v?(b=(m[0]+m[2])/2-f[0],C=(m[1]+m[3])/2-f[1]):(b=f[2]-f[0],C=f[3]-f[1]),u.rotate((Math.atan2(-C,-b)+h)%h),u.moveTo(0,0),u.lineTo(-g,N/2),u.lineTo(-g,-N/2),u.closePath(),u.restore(),this.__fillStroke(u))}__fillStroke(u){const h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,u.setLineDash([])),u.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const u=super.getSelfRect(),h=this.pointerWidth()/2;return{x:u.x,y:u.y-h,width:u.width,height:u.height+h*2}}};return Kr.Arrow=o,o.prototype.className="Arrow",(0,r._registerNode)(o),t.Factory.addGetterSetter(o,"pointerLength",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"pointerWidth",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"pointerAtBeginning",!1),t.Factory.addGetterSetter(o,"pointerAtEnding",!0),Kr}var Qr={},W0;function V3(){if(W0)return Qr;W0=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Circle=void 0;const t=Ge(),e=Et(),i=Le(),r=we();class s extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}}return Qr.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),Qr}var Wr={},J0;function j3(){if(J0)return Wr;J0=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Ellipse=void 0;const t=Ge(),e=Et(),i=Le(),r=we();let s=class extends e.Shape{_sceneFunc(c){const u=this.radiusX(),h=this.radiusY();c.beginPath(),c.save(),u!==h&&c.scale(1,h/u),c.arc(0,0,u,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return Wr.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,i.getNumberValidator)()),Wr}var Jr={},$0;function H3(){if($0)return Jr;$0=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Image=void 0;const t=rt(),e=Ge(),i=Et(),r=we(),s=Le();class o extends i.Shape{constructor(u){super(u),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",h=>{this._removeImageLoad(h.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const u=this.image();u&&u.complete||u&&u.readyState===4||u&&u.addEventListener&&u.addEventListener("load",this._loadListener)}_removeImageLoad(u){u&&u.removeEventListener&&u.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const u=!!this.cornerRadius(),h=this.hasShadow();return u&&h?!0:super._useBufferCanvas(!0)}_sceneFunc(u){const h=this.getWidth(),f=this.getHeight(),m=this.cornerRadius(),v=this.attrs.image;let g;if(v){const y=this.attrs.cropWidth,b=this.attrs.cropHeight;y&&b?g=[v,this.cropX(),this.cropY(),y,b,0,0,h,f]:g=[v,0,0,h,f]}(this.hasFill()||this.hasStroke()||m)&&(u.beginPath(),m?t.Util.drawRoundedRectPath(u,h,f,m):u.rect(0,0,h,f),u.closePath(),u.fillStrokeShape(this)),v&&(m&&u.clip(),u.drawImage.apply(u,g))}_hitFunc(u){const h=this.width(),f=this.height(),m=this.cornerRadius();u.beginPath(),m?t.Util.drawRoundedRectPath(u,h,f,m):u.rect(0,0,h,f),u.closePath(),u.fillStrokeShape(this)}getWidth(){var u,h;return(u=this.attrs.width)!==null&&u!==void 0?u:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var u,h;return(u=this.attrs.height)!==null&&u!==void 0?u:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(u,h,f=null){const m=t.Util.createImageElement();m.onload=function(){const v=new o({image:m});h(v)},m.onerror=f,m.crossOrigin="Anonymous",m.src=u}}return Jr.Image=o,o.prototype.className="Image",(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,s.getNumberValidator)()),Jr}var Xa={},em;function I3(){if(em)return Xa;em=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Tag=Xa.Label=void 0;const t=Ge(),e=Et(),i=Kd(),r=Le(),s=we(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",u="none",h="up",f="right",m="down",v="left",g=o.length;class y extends i.Group{constructor(T){super(T),this.on("add.konva",function(N){this._addListeners(N.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){let N=this,x;const _=function(){N._sync()};for(x=0;x<g;x++)T.on(o[x]+c,_)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let T=this.getText(),N=this.getTag(),x,_,E,R,k,G,M;if(T&&N){switch(x=T.width(),_=T.height(),E=N.pointerDirection(),R=N.pointerWidth(),M=N.pointerHeight(),k=0,G=0,E){case h:k=x/2,G=-1*M;break;case f:k=x+R,G=_/2;break;case m:k=x/2,G=_+M;break;case v:k=-1*R,G=_/2;break}N.setAttrs({x:-1*k,y:-1*G,width:x,height:_}),T.setAttrs({x:-1*k,y:-1*G})}}}Xa.Label=y,y.prototype.className="Label",(0,s._registerNode)(y);class b extends e.Shape{_sceneFunc(T){const N=this.width(),x=this.height(),_=this.pointerDirection(),E=this.pointerWidth(),R=this.pointerHeight(),k=this.cornerRadius();let G=0,M=0,D=0,P=0;typeof k=="number"?G=M=D=P=Math.min(k,N/2,x/2):(G=Math.min(k[0]||0,N/2,x/2),M=Math.min(k[1]||0,N/2,x/2),P=Math.min(k[2]||0,N/2,x/2),D=Math.min(k[3]||0,N/2,x/2)),T.beginPath(),T.moveTo(G,0),_===h&&(T.lineTo((N-E)/2,0),T.lineTo(N/2,-1*R),T.lineTo((N+E)/2,0)),T.lineTo(N-M,0),T.arc(N-M,M,M,Math.PI*3/2,0,!1),_===f&&(T.lineTo(N,(x-R)/2),T.lineTo(N+E,x/2),T.lineTo(N,(x+R)/2)),T.lineTo(N,x-P),T.arc(N-P,x-P,P,0,Math.PI/2,!1),_===m&&(T.lineTo((N+E)/2,x),T.lineTo(N/2,x+R),T.lineTo((N-E)/2,x)),T.lineTo(D,x),T.arc(D,x-D,D,Math.PI/2,Math.PI,!1),_===v&&(T.lineTo(0,(x+R)/2),T.lineTo(-1*E,x/2),T.lineTo(0,(x-R)/2)),T.lineTo(0,G),T.arc(G,G,G,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){let T=0,N=0,x=this.pointerWidth(),_=this.pointerHeight(),E=this.pointerDirection(),R=this.width(),k=this.height();return E===h?(N-=_,k+=_):E===m?k+=_:E===v?(T-=x*1.5,R+=x):E===f&&(R+=x*1.5),{x:T,y:N,width:R,height:k}}}return Xa.Tag=b,b.prototype.className="Tag",(0,s._registerNode)(b),t.Factory.addGetterSetter(b,"pointerDirection",u),t.Factory.addGetterSetter(b,"pointerWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(b,"pointerHeight",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(b,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Xa}var $r={},tm;function s2(){if(tm)return $r;tm=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Rect=void 0;const t=Ge(),e=Et(),i=we(),r=rt(),s=Le();class o extends e.Shape{_sceneFunc(u){const h=this.cornerRadius(),f=this.width(),m=this.height();u.beginPath(),h?r.Util.drawRoundedRectPath(u,f,m,h):u.rect(0,0,f,m),u.closePath(),u.fillStrokeShape(this)}}return $r.Rect=o,o.prototype.className="Rect",(0,i._registerNode)(o),t.Factory.addGetterSetter(o,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),$r}var es={},nm;function q3(){if(nm)return es;nm=1,Object.defineProperty(es,"__esModule",{value:!0}),es.RegularPolygon=void 0;const t=Ge(),e=Et(),i=Le(),r=we();let s=class extends e.Shape{_sceneFunc(c){const u=this._getPoints();c.beginPath(),c.moveTo(u[0].x,u[0].y);for(let h=1;h<u.length;h++)c.lineTo(u[h].x,u[h].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,u=this.attrs.radius||0,h=[];for(let f=0;f<c;f++)h.push({x:u*Math.sin(f*2*Math.PI/c),y:-1*u*Math.cos(f*2*Math.PI/c)});return h}getSelfRect(){const c=this._getPoints();let u=c[0].x,h=c[0].y,f=c[0].x,m=c[0].y;return c.forEach(v=>{u=Math.min(u,v.x),h=Math.max(h,v.x),f=Math.min(f,v.y),m=Math.max(m,v.y)}),{x:u,y:f,width:h-u,height:m-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return es.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,i.getNumberValidator)()),es}var ts={},am;function Y3(){if(am)return ts;am=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.Ring=void 0;const t=Ge(),e=Et(),i=Le(),r=we(),s=Math.PI*2;let o=class extends e.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.innerRadius(),0,s,!1),u.moveTo(this.outerRadius(),0),u.arc(0,0,this.outerRadius(),s,0,!0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}};return ts.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(o),t.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),ts}var ns={},im;function K3(){if(im)return ns;im=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.Sprite=void 0;const t=Ge(),e=Et(),i=Xd(),r=Le(),s=we();let o=class extends e.Shape{constructor(u){super(u),this._updated=!0,this.anim=new i.Animation(()=>{const h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(u){const h=this.animation(),f=this.frameIndex(),m=f*4,v=this.animations()[h],g=this.frameOffsets(),y=v[m+0],b=v[m+1],C=v[m+2],T=v[m+3],N=this.image();if((this.hasFill()||this.hasStroke())&&(u.beginPath(),u.rect(0,0,C,T),u.closePath(),u.fillStrokeShape(this)),N)if(g){const x=g[h],_=f*2;u.drawImage(N,y,b,C,T,x[_+0],x[_+1],C,T)}else u.drawImage(N,y,b,C,T,0,0,C,T)}_hitFunc(u){const h=this.animation(),f=this.frameIndex(),m=f*4,v=this.animations()[h],g=this.frameOffsets(),y=v[m+2],b=v[m+3];if(u.beginPath(),g){const C=g[h],T=f*2;u.rect(C[T+0],C[T+1],y,b)}else u.rect(0,0,y,b);u.closePath(),u.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const u=this;this.interval=setInterval(function(){u._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const u=this.getLayer();this.anim.setLayers(u),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const u=this.frameIndex(),h=this.animation(),f=this.animations(),m=f[h],v=m.length/4;u<v-1?this.frameIndex(u+1):this.frameIndex(0)}};return ns.Sprite=o,o.prototype.className="Sprite",(0,s._registerNode)(o),t.Factory.addGetterSetter(o,"animation"),t.Factory.addGetterSetter(o,"animations"),t.Factory.addGetterSetter(o,"frameOffsets"),t.Factory.addGetterSetter(o,"image"),t.Factory.addGetterSetter(o,"frameIndex",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"frameRate",17,(0,r.getNumberValidator)()),t.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),ns}var as={},rm;function X3(){if(rm)return as;rm=1,Object.defineProperty(as,"__esModule",{value:!0}),as.Star=void 0;const t=Ge(),e=Et(),i=Le(),r=we();let s=class extends e.Shape{_sceneFunc(c){const u=this.innerRadius(),h=this.outerRadius(),f=this.numPoints();c.beginPath(),c.moveTo(0,0-h);for(let m=1;m<f*2;m++){const v=m%2===0?h:u,g=v*Math.sin(m*Math.PI/f),y=-1*v*Math.cos(m*Math.PI/f);c.lineTo(g,y)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return as.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),as}var ji={},sm;function o2(){if(sm)return ji;sm=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.Text=void 0,ji.stringToArray=c;const t=rt(),e=Ge(),i=Et(),r=we(),s=Le(),o=we();function c(ee){return[...ee].reduce((I,te,ce,J)=>{if(new RegExp("\\p{Emoji}","u").test(te)){const z=J[ce+1];z&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(z)?(I.push(te+z),J[ce+1]=""):I.push(te)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(te+(J[ce+1]||""))?I.push(te+J[ce+1]):ce>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(te)?I[I.length-1]+=te:te&&I.push(te);return I},[])}const u="auto",h="center",f="inherit",m="justify",v="Change.konva",g="2d",y="-",b="left",C="text",T="Text",N="top",x="bottom",_="middle",E="normal",R="px ",k=" ",G="right",M="rtl",D="word",P="char",B="none",j="",q=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Y=q.length;function H(ee){return ee.split(",").map(I=>{I=I.trim();const te=I.indexOf(" ")>=0,ce=I.indexOf('"')>=0||I.indexOf("'")>=0;return te&&!ce&&(I=`"${I}"`),I}).join(", ")}let ae;function A(){return ae||(ae=t.Util.createCanvasElement().getContext(g),ae)}function O(ee){ee.fillText(this._partialText,this._partialTextX,this._partialTextY)}function U(ee){ee.setAttr("miterLimit",2),ee.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function L(ee){return ee=ee||{},!ee.fillLinearGradientColorStops&&!ee.fillRadialGradientColorStops&&!ee.fillPatternImage&&(ee.fill=ee.fill||"black"),ee}let V=class extends i.Shape{constructor(I){super(L(I)),this._partialTextX=0,this._partialTextY=0;for(let te=0;te<Y;te++)this.on(q[te]+v,this._setTextData);this._setTextData()}_sceneFunc(I){const te=this.textArr,ce=te.length;if(!this.text())return;let J=this.padding(),z=this.fontSize(),Z=this.lineHeight()*z,se=this.verticalAlign(),ue=this.direction(),me=0,Se=this.align(),Me=this.getWidth(),Ie=this.letterSpacing(),Ce=this.fill(),Qe=this.textDecoration(),qe=Qe.indexOf("underline")!==-1,Je=Qe.indexOf("line-through")!==-1,ln;ue=ue===f?I.direction:ue;let Tt=Z/2,Kt=_;if(r.Konva._fixTextRendering){const Ne=this.measureSize("M");Kt="alphabetic",Tt=(Ne.fontBoundingBoxAscent-Ne.fontBoundingBoxDescent)/2+Z/2}for(ue===M&&I.setAttr("direction",ue),I.setAttr("font",this._getContextFont()),I.setAttr("textBaseline",Kt),I.setAttr("textAlign",b),se===_?me=(this.getHeight()-ce*Z-J*2)/2:se===x&&(me=this.getHeight()-ce*Z-J*2),I.translate(J,me+J),ln=0;ln<ce;ln++){let Ne=0,Dt=0;const Xt=te[ln],yn=Xt.text,ct=Xt.width,pt=Xt.lastInParagraph;if(I.save(),Se===G?Ne+=Me-ct-J*2:Se===h&&(Ne+=(Me-ct-J*2)/2),qe){I.save(),I.beginPath();const _t=r.Konva._fixTextRendering?Math.round(z/4):Math.round(z/2),Zt=Ne,Rt=Tt+Dt+_t;I.moveTo(Zt,Rt);const Mt=Se===m&&!pt?Me-J*2:ct;I.lineTo(Zt+Math.round(Mt),Rt),I.lineWidth=z/15;const ia=this._getLinearGradient();I.strokeStyle=ia||Ce,I.stroke(),I.restore()}if(Je){I.save(),I.beginPath();const _t=r.Konva._fixTextRendering?-Math.round(z/4):0;I.moveTo(Ne,Tt+Dt+_t);const Zt=Se===m&&!pt?Me-J*2:ct;I.lineTo(Ne+Math.round(Zt),Tt+Dt+_t),I.lineWidth=z/15;const Rt=this._getLinearGradient();I.strokeStyle=Rt||Ce,I.stroke(),I.restore()}if(ue!==M&&(Ie!==0||Se===m)){const _t=yn.split(" ").length-1,Zt=c(yn);for(let Rt=0;Rt<Zt.length;Rt++){const Mt=Zt[Rt];Mt===" "&&!pt&&Se===m&&(Ne+=(Me-J*2-ct)/_t),this._partialTextX=Ne,this._partialTextY=Tt+Dt,this._partialText=Mt,I.fillStrokeShape(this),Ne+=this.measureSize(Mt).width+Ie}}else Ie!==0&&I.setAttr("letterSpacing",`${Ie}px`),this._partialTextX=Ne,this._partialTextY=Tt+Dt,this._partialText=yn,I.fillStrokeShape(this);I.restore(),ce>1&&(Tt+=Z)}}_hitFunc(I){const te=this.getWidth(),ce=this.getHeight();I.beginPath(),I.rect(0,0,te,ce),I.closePath(),I.fillStrokeShape(this)}setText(I){const te=t.Util._isString(I)?I:I==null?"":I+"";return this._setAttr(C,te),this}getWidth(){return this.attrs.width===u||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===u||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(I){var te,ce,J,z,Z,se,ue,me,Se,Me,Ie;let Ce=A(),Qe=this.fontSize(),qe;Ce.save(),Ce.font=this._getContextFont(),qe=Ce.measureText(I),Ce.restore();const Je=Qe/100;return{actualBoundingBoxAscent:(te=qe.actualBoundingBoxAscent)!==null&&te!==void 0?te:71.58203125*Je,actualBoundingBoxDescent:(ce=qe.actualBoundingBoxDescent)!==null&&ce!==void 0?ce:0,actualBoundingBoxLeft:(J=qe.actualBoundingBoxLeft)!==null&&J!==void 0?J:-7.421875*Je,actualBoundingBoxRight:(z=qe.actualBoundingBoxRight)!==null&&z!==void 0?z:75.732421875*Je,alphabeticBaseline:(Z=qe.alphabeticBaseline)!==null&&Z!==void 0?Z:0,emHeightAscent:(se=qe.emHeightAscent)!==null&&se!==void 0?se:100*Je,emHeightDescent:(ue=qe.emHeightDescent)!==null&&ue!==void 0?ue:-20*Je,fontBoundingBoxAscent:(me=qe.fontBoundingBoxAscent)!==null&&me!==void 0?me:91*Je,fontBoundingBoxDescent:(Se=qe.fontBoundingBoxDescent)!==null&&Se!==void 0?Se:21*Je,hangingBaseline:(Me=qe.hangingBaseline)!==null&&Me!==void 0?Me:72.80000305175781*Je,ideographicBaseline:(Ie=qe.ideographicBaseline)!==null&&Ie!==void 0?Ie:-21*Je,width:qe.width,height:Qe}}_getContextFont(){return this.fontStyle()+k+this.fontVariant()+k+(this.fontSize()+R)+H(this.fontFamily())}_addTextLine(I){this.align()===m&&(I=I.trim());const ce=this._getTextWidth(I);return this.textArr.push({text:I,width:ce,lastInParagraph:!1})}_getTextWidth(I){const te=this.letterSpacing(),ce=I.length;return A().measureText(I).width+te*ce}_setTextData(){let I=this.text().split(`
`),te=+this.fontSize(),ce=0,J=this.lineHeight()*te,z=this.attrs.width,Z=this.attrs.height,se=z!==u&&z!==void 0,ue=Z!==u&&Z!==void 0,me=this.padding(),Se=z-me*2,Me=Z-me*2,Ie=0,Ce=this.wrap(),Qe=Ce!==B,qe=Ce!==P&&Qe,Je=this.ellipsis();this.textArr=[],A().font=this._getContextFont();const ln=Je?this._getTextWidth(j):0;for(let Tt=0,Kt=I.length;Tt<Kt;++Tt){let Ne=I[Tt],Dt=this._getTextWidth(Ne);if(se&&Dt>Se)for(;Ne.length>0;){let Xt=0,yn=c(Ne).length,ct="",pt=0;for(;Xt<yn;){const _t=Xt+yn>>>1,Zt=c(Ne),Rt=Zt.slice(0,_t+1).join(""),Mt=this._getTextWidth(Rt);(Je&&ue&&Ie+J>Me?Mt+ln:Mt)<=Se?(Xt=_t+1,ct=Rt,pt=Mt):yn=_t}if(ct){if(qe){const Rt=c(Ne),Mt=c(ct),ia=Rt[Mt.length],or=ia===k||ia===y;let li;if(or&&pt<=Se)li=Mt.length;else{const lr=Mt.lastIndexOf(k),Hl=Mt.lastIndexOf(y);li=Math.max(lr,Hl)+1}li>0&&(Xt=li,ct=Rt.slice(0,Xt).join(""),pt=this._getTextWidth(ct))}if(ct=ct.trimRight(),this._addTextLine(ct),ce=Math.max(ce,pt),Ie+=J,this._shouldHandleEllipsis(Ie)){this._tryToAddEllipsisToLastLine();break}if(Ne=c(Ne).slice(Xt).join("").trimLeft(),Ne.length>0&&(Dt=this._getTextWidth(Ne),Dt<=Se)){this._addTextLine(Ne),Ie+=J,ce=Math.max(ce,Dt);break}}else break}else this._addTextLine(Ne),Ie+=J,ce=Math.max(ce,Dt),this._shouldHandleEllipsis(Ie)&&Tt<Kt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ue&&Ie+J>Me)break}this.textHeight=te,this.textWidth=ce}_shouldHandleEllipsis(I){const te=+this.fontSize(),ce=this.lineHeight()*te,J=this.attrs.height,z=J!==u&&J!==void 0,Z=this.padding(),se=J-Z*2;return!(this.wrap()!==B)||z&&I+ce>se}_tryToAddEllipsisToLastLine(){const I=this.attrs.width,te=I!==u&&I!==void 0,ce=this.padding(),J=I-ce*2,z=this.ellipsis(),Z=this.textArr[this.textArr.length-1];!Z||!z||(te&&(this._getTextWidth(Z.text+j)<J||(Z.text=Z.text.slice(0,Z.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Z.text+j))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const I=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,te=this.hasShadow();return I&&te?!0:super._useBufferCanvas()}};return ji.Text=V,V.prototype._fillFunc=O,V.prototype._strokeFunc=U,V.prototype.className=T,V.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(V),e.Factory.overWriteSetter(V,"width",(0,s.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(V,"height",(0,s.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(V,"direction",f),e.Factory.addGetterSetter(V,"fontFamily","Arial"),e.Factory.addGetterSetter(V,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(V,"fontStyle",E),e.Factory.addGetterSetter(V,"fontVariant",E),e.Factory.addGetterSetter(V,"padding",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(V,"align",b),e.Factory.addGetterSetter(V,"verticalAlign",N),e.Factory.addGetterSetter(V,"lineHeight",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(V,"wrap",D),e.Factory.addGetterSetter(V,"ellipsis",!1,(0,s.getBooleanValidator)()),e.Factory.addGetterSetter(V,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(V,"text","",(0,s.getStringValidator)()),e.Factory.addGetterSetter(V,"textDecoration",""),ji}var is={},om;function Z3(){if(om)return is;om=1,Object.defineProperty(is,"__esModule",{value:!0}),is.TextPath=void 0;const t=rt(),e=Ge(),i=Et(),r=Zd(),s=o2(),o=Le(),c=we(),u="",h="normal";function f(g){g.fillText(this.partialText,0,0)}function m(g){g.strokeText(this.partialText,0,0)}let v=class extends i.Shape{constructor(y){super(y),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const b=this.pathLength;return y-1>b?null:r.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();const b=this.textDecoration(),C=this.fill(),T=this.fontSize(),N=this.glyphInfo;b==="underline"&&y.beginPath();for(let x=0;x<N.length;x++){y.save();const _=N[x].p0;y.translate(_.x,_.y),y.rotate(N[x].rotation),this.partialText=N[x].text,y.fillStrokeShape(this),b==="underline"&&(x===0&&y.moveTo(0,T/2+1),y.lineTo(T,T/2+1)),y.restore()}b==="underline"&&(y.strokeStyle=C,y.lineWidth=T/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();const b=this.glyphInfo;if(b.length>=1){const C=b[0].p0;y.moveTo(C.x,C.y)}for(let C=0;C<b.length;C++){const T=b[C].p1;y.lineTo(T.x,T.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return s.Text.prototype.setText.call(this,y)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(y){const C=this.dummyCanvas.getContext("2d");C.save(),C.font=this._getContextFont();const T=C.measureText(y);return C.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:b}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=b,this.glyphInfo=[],!this.attrs.data)return null;const C=this.letterSpacing(),T=this.align(),N=this.kerningFunc(),x=Math.max(this.textWidth+((this.attrs.text||"").length-1)*C,0);let _=0;T==="center"&&(_=Math.max(0,this.pathLength/2-x/2)),T==="right"&&(_=Math.max(0,this.pathLength-x));const E=(0,s.stringToArray)(this.text());let R=_;for(let k=0;k<E.length;k++){const G=this._getPointAtLength(R);if(!G)return;let M=this._getTextSize(E[k]).width+C;if(E[k]===" "&&T==="justify"){const Y=this.text().split(" ").length-1;M+=(this.pathLength-x)/Y}const D=this._getPointAtLength(R+M);if(!D)return;const P=r.Path.getLineLength(G.x,G.y,D.x,D.y);let B=0;if(N)try{B=N(E[k-1],E[k])*this.fontSize()}catch{B=0}G.x+=B,D.x+=B,this.textWidth+=B;const j=r.Path.getPointOnLine(B+P/2,G.x,G.y,D.x,D.y),q=Math.atan2(D.y-G.y,D.x-G.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:E[k],rotation:q,p0:G,p1:D}),R+=M}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const y=[];this.glyphInfo.forEach(function(R){y.push(R.p0.x),y.push(R.p0.y),y.push(R.p1.x),y.push(R.p1.y)});let b=y[0]||0,C=y[0]||0,T=y[1]||0,N=y[1]||0,x,_;for(let R=0;R<y.length/2;R++)x=y[R*2],_=y[R*2+1],b=Math.min(b,x),C=Math.max(C,x),T=Math.min(T,_),N=Math.max(N,_);const E=this.fontSize();return{x:b-E/2,y:T-E/2,width:C-b+E,height:N-T+E}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return is.TextPath=v,v.prototype._fillFunc=f,v.prototype._strokeFunc=m,v.prototype._fillFuncHit=f,v.prototype._strokeFuncHit=m,v.prototype.className="TextPath",v.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(v),e.Factory.addGetterSetter(v,"data"),e.Factory.addGetterSetter(v,"fontFamily","Arial"),e.Factory.addGetterSetter(v,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(v,"fontStyle",h),e.Factory.addGetterSetter(v,"align","left"),e.Factory.addGetterSetter(v,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(v,"textBaseline","middle"),e.Factory.addGetterSetter(v,"fontVariant",h),e.Factory.addGetterSetter(v,"text",u),e.Factory.addGetterSetter(v,"textDecoration",""),e.Factory.addGetterSetter(v,"kerningFunc",void 0),is}var rs={},lm;function Q3(){if(lm)return rs;lm=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.Transformer=void 0;const t=rt(),e=Ge(),i=lt(),r=Et(),s=s2(),o=Kd(),c=we(),u=Le(),h=we(),f="tr-konva",m=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(M=>M+`.${f}`).join(" "),v="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},b="ontouchstart"in c.Konva._global;function C(M,D,P){if(M==="rotater")return P;D+=t.Util.degToRad(y[M]||0);const B=(t.Util.radToDeg(D)%360+360)%360;return t.Util._inRange(B,315+22.5,360)||t.Util._inRange(B,0,22.5)?"ns-resize":t.Util._inRange(B,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(B,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(B,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(B,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(B,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(B,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(B,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+B),"pointer")}const T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function N(M){return{x:M.x+M.width/2*Math.cos(M.rotation)+M.height/2*Math.sin(-M.rotation),y:M.y+M.height/2*Math.cos(M.rotation)+M.width/2*Math.sin(M.rotation)}}function x(M,D,P){const B=P.x+(M.x-P.x)*Math.cos(D)-(M.y-P.y)*Math.sin(D),j=P.y+(M.x-P.x)*Math.sin(D)+(M.y-P.y)*Math.cos(D);return{...M,rotation:M.rotation+D,x:B,y:j}}function _(M,D){const P=N(M);return x(M,D,P)}function E(M,D,P){let B=D;for(let j=0;j<M.length;j++){const q=c.Konva.getAngle(M[j]),Y=Math.abs(q-D)%(Math.PI*2);Math.min(Y,Math.PI*2-Y)<P&&(B=q)}return B}let R=0,k=class extends o.Group{constructor(D){super(D),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(m,this.update),this.getNode()&&this.update()}attachTo(D){return this.setNode(D),this}setNode(D){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([D])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(D=[]){this._nodes&&this._nodes.length&&this.detach();const P=D.filter(j=>j.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=D=P,D.length===1&&this.useSingleNodeRotation()?this.rotation(D[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(j=>{const q=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(j._attrsAffectingSize.length){const Y=j._attrsAffectingSize.map(H=>H+"Change."+this._getEventNamespace()).join(" ");j.on(Y,q)}j.on(g.map(Y=>Y+`.${this._getEventNamespace()}`).join(" "),q),j.on(`absoluteTransformChange.${this._getEventNamespace()}`,q),this._proxyDrag(j)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(D){let P;D.on(`dragstart.${this._getEventNamespace()}`,B=>{P=D.getAbsolutePosition(),!this.isDragging()&&D!==this.findOne(".back")&&this.startDrag(B,!1)}),D.on(`dragmove.${this._getEventNamespace()}`,B=>{if(!P)return;const j=D.getAbsolutePosition(),q=j.x-P.x,Y=j.y-P.y;this.nodes().forEach(H=>{if(H===D||H.isDragging())return;const ae=H.getAbsolutePosition();H.setAbsolutePosition({x:ae.x+q,y:ae.y+Y}),H.startDrag(B)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(D=>{D.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(v),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(v,this.__getNodeRect)}__getNodeShape(D,P=this.rotation(),B){const j=D.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),q=D.getAbsoluteScale(B),Y=D.getAbsolutePosition(B),H=j.x*q.x-D.offsetX()*q.x,ae=j.y*q.y-D.offsetY()*q.y,A=(c.Konva.getAngle(D.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),O={x:Y.x+H*Math.cos(A)+ae*Math.sin(-A),y:Y.y+ae*Math.cos(A)+H*Math.sin(A),width:j.width*q.x,height:j.height*q.y,rotation:A};return x(O,-c.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const P=[];this.nodes().map(A=>{const O=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),U=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],L=A.getAbsoluteTransform();U.forEach(function(V){const ee=L.point(V);P.push(ee)})});const B=new t.Transform;B.rotate(-c.Konva.getAngle(this.rotation()));let j=1/0,q=1/0,Y=-1/0,H=-1/0;P.forEach(function(A){const O=B.point(A);j===void 0&&(j=Y=O.x,q=H=O.y),j=Math.min(j,O.x),q=Math.min(q,O.y),Y=Math.max(Y,O.x),H=Math.max(H,O.y)}),B.invert();const ae=B.point({x:j,y:q});return{x:ae.x,y:ae.y,width:Y-j,height:H-q,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(D=>{this._createAnchor(D)}),this._createAnchor("rotater")}_createAnchor(D){const P=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:D+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:b?10:"auto"}),B=this;P.on("mousedown touchstart",function(j){B._handleMouseDown(j)}),P.on("dragstart",j=>{P.stopDrag(),j.cancelBubble=!0}),P.on("dragend",j=>{j.cancelBubble=!0}),P.on("mouseenter",()=>{const j=c.Konva.getAngle(this.rotation()),q=this.rotateAnchorCursor(),Y=C(D,j,q);P.getStage().content&&(P.getStage().content.style.cursor=Y),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){const D=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,B){const j=B.getParent(),q=j.padding();P.beginPath(),P.rect(-q,-q,B.width()+q*2,B.height()+q*2),P.moveTo(B.width()/2,-q),j.rotateEnabled()&&j.rotateLineVisible()&&P.lineTo(B.width()/2,-j.rotateAnchorOffset()*t.Util._sign(B.height())-q),P.fillStrokeShape(B)},hitFunc:(P,B)=>{if(!this.shouldOverdrawWholeArea())return;const j=this.padding();P.beginPath(),P.rect(-j,-j,B.width()+j*2,B.height()+j*2),P.fillStrokeShape(B)}});this.add(D),this._proxyDrag(D),D.on("dragstart",P=>{P.cancelBubble=!0}),D.on("dragmove",P=>{P.cancelBubble=!0}),D.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(D){if(this._transforming)return;this._movingAnchorName=D.target.name().split(" ")[0];const P=this._getNodeRect(),B=P.width,j=P.height,q=Math.sqrt(Math.pow(B,2)+Math.pow(j,2));this.sin=Math.abs(j/q),this.cos=Math.abs(B/q),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Y=D.target.getAbsolutePosition(),H=D.target.getStage().getPointerPosition();this._anchorDragOffset={x:H.x-Y.x,y:H.y-Y.y},R++,this._fire("transformstart",{evt:D.evt,target:this.getNode()}),this._nodes.forEach(ae=>{ae._fire("transformstart",{evt:D.evt,target:ae})})}_handleMouseMove(D){let P,B,j;const q=this.findOne("."+this._movingAnchorName),Y=q.getStage();Y.setPointersPositions(D);const H=Y.getPointerPosition();let ae={x:H.x-this._anchorDragOffset.x,y:H.y-this._anchorDragOffset.y};const A=q.getAbsolutePosition();this.anchorDragBoundFunc()&&(ae=this.anchorDragBoundFunc()(A,ae,D)),q.setAbsolutePosition(ae);const O=q.getAbsolutePosition();if(A.x===O.x&&A.y===O.y)return;if(this._movingAnchorName==="rotater"){const J=this._getNodeRect();P=q.x()-J.width/2,B=-q.y()+J.height/2;let z=Math.atan2(-B,P)+Math.PI/2;J.height<0&&(z-=Math.PI);const se=c.Konva.getAngle(this.rotation())+z,ue=c.Konva.getAngle(this.rotationSnapTolerance()),Se=E(this.rotationSnaps(),se,ue)-J.rotation,Me=_(J,Se);this._fitNodesInto(Me,D);return}const U=this.shiftBehavior();let L;U==="inverted"?L=this.keepRatio()&&!D.shiftKey:U==="none"?L=this.keepRatio():L=this.keepRatio()||D.shiftKey;let V=this.centeredScaling()||D.altKey;if(this._movingAnchorName==="top-left"){if(L){const J=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};j=Math.sqrt(Math.pow(J.x-q.x(),2)+Math.pow(J.y-q.y(),2));const z=this.findOne(".top-left").x()>J.x?-1:1,Z=this.findOne(".top-left").y()>J.y?-1:1;P=j*this.cos*z,B=j*this.sin*Z,this.findOne(".top-left").x(J.x-P),this.findOne(".top-left").y(J.y-B)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(q.y());else if(this._movingAnchorName==="top-right"){if(L){const J=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};j=Math.sqrt(Math.pow(q.x()-J.x,2)+Math.pow(J.y-q.y(),2));const z=this.findOne(".top-right").x()<J.x?-1:1,Z=this.findOne(".top-right").y()>J.y?-1:1;P=j*this.cos*z,B=j*this.sin*Z,this.findOne(".top-right").x(J.x+P),this.findOne(".top-right").y(J.y-B)}var ee=q.position();this.findOne(".top-left").y(ee.y),this.findOne(".bottom-right").x(ee.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(q.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(q.x());else if(this._movingAnchorName==="bottom-left"){if(L){const J=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};j=Math.sqrt(Math.pow(J.x-q.x(),2)+Math.pow(q.y()-J.y,2));const z=J.x<q.x()?-1:1,Z=q.y()<J.y?-1:1;P=j*this.cos*z,B=j*this.sin*Z,q.x(J.x-P),q.y(J.y+B)}ee=q.position(),this.findOne(".top-left").x(ee.x),this.findOne(".bottom-right").y(ee.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(q.y());else if(this._movingAnchorName==="bottom-right"){if(L){const J=V?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};j=Math.sqrt(Math.pow(q.x()-J.x,2)+Math.pow(q.y()-J.y,2));const z=this.findOne(".bottom-right").x()<J.x?-1:1,Z=this.findOne(".bottom-right").y()<J.y?-1:1;P=j*this.cos*z,B=j*this.sin*Z,this.findOne(".bottom-right").x(J.x+P),this.findOne(".bottom-right").y(J.y+B)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(V=this.centeredScaling()||D.altKey,V){const J=this.findOne(".top-left"),z=this.findOne(".bottom-right"),Z=J.x(),se=J.y(),ue=this.getWidth()-z.x(),me=this.getHeight()-z.y();z.move({x:-Z,y:-se}),J.move({x:ue,y:me})}const I=this.findOne(".top-left").getAbsolutePosition();P=I.x,B=I.y;const te=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ce=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:B,width:te,height:ce,rotation:c.Konva.getAngle(this.rotation())},D)}_handleMouseUp(D){this._removeEvents(D)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(D){var P;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const B=this.getNode();R--,this._fire("transformend",{evt:D,target:B}),(P=this.getLayer())===null||P===void 0||P.batchDraw(),B&&this._nodes.forEach(j=>{var q;j._fire("transformend",{evt:D,target:j}),(q=j.getLayer())===null||q===void 0||q.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(D,P){const B=this._getNodeRect(),j=1;if(t.Util._inRange(D.width,-this.padding()*2-j,j)){this.update();return}if(t.Util._inRange(D.height,-this.padding()*2-j,j)){this.update();return}const q=new t.Transform;if(q.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&D.width<0&&this._movingAnchorName.indexOf("left")>=0){const L=q.point({x:-this.padding()*2,y:0});D.x+=L.x,D.y+=L.y,D.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y}else if(this._movingAnchorName&&D.width<0&&this._movingAnchorName.indexOf("right")>=0){const L=q.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,D.width+=this.padding()*2}if(this._movingAnchorName&&D.height<0&&this._movingAnchorName.indexOf("top")>=0){const L=q.point({x:0,y:-this.padding()*2});D.x+=L.x,D.y+=L.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,D.height+=this.padding()*2}else if(this._movingAnchorName&&D.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const L=q.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=L.x,this._anchorDragOffset.y-=L.y,D.height+=this.padding()*2}if(this.boundBoxFunc()){const L=this.boundBoxFunc()(B,D);L?D=L:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Y=1e7,H=new t.Transform;H.translate(B.x,B.y),H.rotate(B.rotation),H.scale(B.width/Y,B.height/Y);const ae=new t.Transform,A=D.width/Y,O=D.height/Y;this.flipEnabled()===!1?(ae.translate(D.x,D.y),ae.rotate(D.rotation),ae.translate(D.width<0?D.width:0,D.height<0?D.height:0),ae.scale(Math.abs(A),Math.abs(O))):(ae.translate(D.x,D.y),ae.rotate(D.rotation),ae.scale(A,O));const U=ae.multiply(H.invert());this._nodes.forEach(L=>{var V;const ee=L.getParent().getAbsoluteTransform(),I=L.getTransform().copy();I.translate(L.offsetX(),L.offsetY());const te=new t.Transform;te.multiply(ee.copy().invert()).multiply(U).multiply(ee).multiply(I);const ce=te.decompose();L.setAttrs(ce),(V=L.getLayer())===null||V===void 0||V.batchDraw()}),this.rotation(t.Util._getRotation(D.rotation)),this._nodes.forEach(L=>{this._fire("transform",{evt:P,target:L}),L._fire("transform",{evt:P,target:L})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(D,P){this.findOne(D).setAttrs(P)}update(){var D;const P=this._getNodeRect();this.rotation(t.Util._getRotation(P.rotation));const B=P.width,j=P.height,q=this.enabledAnchors(),Y=this.resizeEnabled(),H=this.padding(),ae=this.anchorSize(),A=this.find("._anchor");A.forEach(U=>{U.setAttrs({width:ae,height:ae,offsetX:ae/2,offsetY:ae/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ae/2+H,offsetY:ae/2+H,visible:Y&&q.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:B/2,y:0,offsetY:ae/2+H,visible:Y&&q.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:B,y:0,offsetX:ae/2-H,offsetY:ae/2+H,visible:Y&&q.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:j/2,offsetX:ae/2+H,visible:Y&&q.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:B,y:j/2,offsetX:ae/2-H,visible:Y&&q.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:j,offsetX:ae/2+H,offsetY:ae/2-H,visible:Y&&q.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:B/2,y:j,offsetY:ae/2-H,visible:Y&&q.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:B,y:j,offsetX:ae/2-H,offsetY:ae/2-H,visible:Y&&q.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:B/2,y:-this.rotateAnchorOffset()*t.Util._sign(j)-H,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:B,height:j,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const O=this.anchorStyleFunc();O&&A.forEach(U=>{O(U)}),(D=this.getLayer())===null||D===void 0||D.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const D=this.findOne("."+this._movingAnchorName);D&&D.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(D){return i.Node.prototype.clone.call(this,D)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};rs.Transformer=k,k.isTransforming=()=>R>0;function G(M){return M instanceof Array||t.Util.warn("enabledAnchors value should be an array"),M instanceof Array&&M.forEach(function(D){T.indexOf(D)===-1&&t.Util.warn("Unknown anchor name: "+D+". Available names are: "+T.join(", "))}),M||[]}return k.prototype.className="Transformer",(0,h._registerNode)(k),e.Factory.addGetterSetter(k,"enabledAnchors",T,G),e.Factory.addGetterSetter(k,"flipEnabled",!0,(0,u.getBooleanValidator)()),e.Factory.addGetterSetter(k,"resizeEnabled",!0),e.Factory.addGetterSetter(k,"anchorSize",10,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateEnabled",!0),e.Factory.addGetterSetter(k,"rotateLineVisible",!0),e.Factory.addGetterSetter(k,"rotationSnaps",[]),e.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderEnabled",!0),e.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"anchorFill","white"),e.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderDash"),e.Factory.addGetterSetter(k,"keepRatio",!0),e.Factory.addGetterSetter(k,"shiftBehavior","default"),e.Factory.addGetterSetter(k,"centeredScaling",!1),e.Factory.addGetterSetter(k,"ignoreStroke",!1),e.Factory.addGetterSetter(k,"padding",0,(0,u.getNumberValidator)()),e.Factory.addGetterSetter(k,"nodes"),e.Factory.addGetterSetter(k,"node"),e.Factory.addGetterSetter(k,"boundBoxFunc"),e.Factory.addGetterSetter(k,"anchorDragBoundFunc"),e.Factory.addGetterSetter(k,"anchorStyleFunc"),e.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),e.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),rs}var ss={},cm;function W3(){if(cm)return ss;cm=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.Wedge=void 0;const t=Ge(),e=Et(),i=we(),r=Le(),s=we();let o=class extends e.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),u.lineTo(0,0),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius(u/2)}setHeight(u){this.radius(u/2)}};return ss.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(o),t.Factory.addGetterSetter(o,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"clockwise",!1),t.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),ss}var os={},um;function J3(){if(um)return os;um=1,Object.defineProperty(os,"__esModule",{value:!0}),os.Blur=void 0;const t=Ge(),e=lt(),i=Le();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(h,f){const m=h.data,v=h.width,g=h.height;let y,b,C,T,N,x,_,E,R,k,G,M,D,P,B,j,q,Y,H,ae;const A=f+f+1,O=v-1,U=g-1,L=f+1,V=L*(L+1)/2,ee=new r,I=s[f],te=o[f];let ce=null,J=ee,z=null,Z=null;for(let se=1;se<A;se++)J=J.next=new r,se===L&&(ce=J);J.next=ee,C=b=0;for(let se=0;se<g;se++){M=D=P=B=T=N=x=_=0,E=L*(j=m[b]),R=L*(q=m[b+1]),k=L*(Y=m[b+2]),G=L*(H=m[b+3]),T+=V*j,N+=V*q,x+=V*Y,_+=V*H,J=ee;for(let ue=0;ue<L;ue++)J.r=j,J.g=q,J.b=Y,J.a=H,J=J.next;for(let ue=1;ue<L;ue++)y=b+((O<ue?O:ue)<<2),T+=(J.r=j=m[y])*(ae=L-ue),N+=(J.g=q=m[y+1])*ae,x+=(J.b=Y=m[y+2])*ae,_+=(J.a=H=m[y+3])*ae,M+=j,D+=q,P+=Y,B+=H,J=J.next;z=ee,Z=ce;for(let ue=0;ue<v;ue++)m[b+3]=H=_*I>>te,H!==0?(H=255/H,m[b]=(T*I>>te)*H,m[b+1]=(N*I>>te)*H,m[b+2]=(x*I>>te)*H):m[b]=m[b+1]=m[b+2]=0,T-=E,N-=R,x-=k,_-=G,E-=z.r,R-=z.g,k-=z.b,G-=z.a,y=C+((y=ue+f+1)<O?y:O)<<2,M+=z.r=m[y],D+=z.g=m[y+1],P+=z.b=m[y+2],B+=z.a=m[y+3],T+=M,N+=D,x+=P,_+=B,z=z.next,E+=j=Z.r,R+=q=Z.g,k+=Y=Z.b,G+=H=Z.a,M-=j,D-=q,P-=Y,B-=H,Z=Z.next,b+=4;C+=v}for(let se=0;se<v;se++){D=P=B=M=N=x=_=T=0,b=se<<2,E=L*(j=m[b]),R=L*(q=m[b+1]),k=L*(Y=m[b+2]),G=L*(H=m[b+3]),T+=V*j,N+=V*q,x+=V*Y,_+=V*H,J=ee;for(let me=0;me<L;me++)J.r=j,J.g=q,J.b=Y,J.a=H,J=J.next;let ue=v;for(let me=1;me<=f;me++)b=ue+se<<2,T+=(J.r=j=m[b])*(ae=L-me),N+=(J.g=q=m[b+1])*ae,x+=(J.b=Y=m[b+2])*ae,_+=(J.a=H=m[b+3])*ae,M+=j,D+=q,P+=Y,B+=H,J=J.next,me<U&&(ue+=v);b=se,z=ee,Z=ce;for(let me=0;me<g;me++)y=b<<2,m[y+3]=H=_*I>>te,H>0?(H=255/H,m[y]=(T*I>>te)*H,m[y+1]=(N*I>>te)*H,m[y+2]=(x*I>>te)*H):m[y]=m[y+1]=m[y+2]=0,T-=E,N-=R,x-=k,_-=G,E-=z.r,R-=z.g,k-=z.b,G-=z.a,y=se+((y=me+L)<U?y:U)*v<<2,T+=M+=z.r=m[y],N+=D+=z.g=m[y+1],x+=P+=z.b=m[y+2],_+=B+=z.a=m[y+3],z=z.next,E+=j=Z.r,R+=q=Z.g,k+=Y=Z.b,G+=H=Z.a,M-=j,D-=q,P-=Y,B-=H,Z=Z.next,b+=v}}const u=function(f){const m=Math.round(this.blurRadius());m>0&&c(f,m)};return os.Blur=u,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),os}var ls={},dm;function $3(){if(dm)return ls;dm=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.Brighten=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=this.brightness()*255,c=s.data,u=c.length;for(let h=0;h<u;h+=4)c[h]+=o,c[h+1]+=o,c[h+2]+=o};return ls.Brighten=r,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ls}var cs={},hm;function eb(){if(hm)return cs;hm=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.Contrast=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=Math.pow((this.contrast()+100)/100,2),c=s.data,u=c.length;let h=150,f=150,m=150;for(let v=0;v<u;v+=4)h=c[v],f=c[v+1],m=c[v+2],h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,m/=255,m-=.5,m*=o,m+=.5,m*=255,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,m=m<0?0:m>255?255:m,c[v]=h,c[v+1]=f,c[v+2]=m};return cs.Contrast=r,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),cs}var us={},fm;function tb(){if(fm)return us;fm=1,Object.defineProperty(us,"__esModule",{value:!0}),us.Emboss=void 0;const t=Ge(),e=lt(),i=rt(),r=Le(),s=function(o){const c=this.embossStrength()*10,u=this.embossWhiteLevel()*255,h=this.embossDirection(),f=this.embossBlend(),m=o.data,v=o.width,g=o.height,y=v*4;let b=0,C=0,T=g;switch(h){case"top-left":b=-1,C=-1;break;case"top":b=-1,C=0;break;case"top-right":b=-1,C=1;break;case"right":b=0,C=1;break;case"bottom-right":b=1,C=1;break;case"bottom":b=1,C=0;break;case"bottom-left":b=1,C=-1;break;case"left":b=0,C=-1;break;default:i.Util.error("Unknown emboss direction: "+h)}do{const N=(T-1)*y;let x=b;T+x<1&&(x=0),T+x>g&&(x=0);const _=(T-1+x)*v*4;let E=v;do{const R=N+(E-1)*4;let k=C;E+k<1&&(k=0),E+k>v&&(k=0);const G=_+(E-1+k)*4,M=m[R]-m[G],D=m[R+1]-m[G+1],P=m[R+2]-m[G+2];let B=M;const j=B>0?B:-B,q=D>0?D:-D,Y=P>0?P:-P;if(q>j&&(B=D),Y>j&&(B=P),B*=c,f){const H=m[R]+B,ae=m[R+1]+B,A=m[R+2]+B;m[R]=H>255?255:H<0?0:H,m[R+1]=ae>255?255:ae<0?0:ae,m[R+2]=A>255?255:A<0?0:A}else{let H=u-B;H<0?H=0:H>255&&(H=255),m[R]=m[R+1]=m[R+2]=H}}while(--E)}while(--T)};return us.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),us}var ds={},pm;function nb(){if(pm)return ds;pm=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.Enhance=void 0;const t=Ge(),e=lt(),i=Le();function r(o,c,u,h,f){const m=u-c,v=f-h;if(m===0)return h+v/2;if(v===0)return h;let g=(o-c)/m;return g=v*g+h,g}const s=function(o){const c=o.data,u=c.length;let h=c[0],f=h,m,v=c[1],g=v,y,b=c[2],C=b,T;const N=this.enhance();if(N===0)return;for(let M=0;M<u;M+=4)m=c[M+0],m<h?h=m:m>f&&(f=m),y=c[M+1],y<v?v=y:y>g&&(g=y),T=c[M+2],T<b?b=T:T>C&&(C=T);f===h&&(f=255,h=0),g===v&&(g=255,v=0),C===b&&(C=255,b=0);let x,_,E,R,k,G;if(N>0)x=f+N*(255-f),_=h-N*(h-0),E=g+N*(255-g),R=v-N*(v-0),k=C+N*(255-C),G=b-N*(b-0);else{const M=(f+h)*.5;x=f+N*(f-M),_=h+N*(h-M);const D=(g+v)*.5;E=g+N*(g-D),R=v+N*(v-D);const P=(C+b)*.5;k=C+N*(C-P),G=b+N*(b-P)}for(let M=0;M<u;M+=4)c[M+0]=r(c[M+0],h,f,_,x),c[M+1]=r(c[M+1],v,g,R,E),c[M+2]=r(c[M+2],b,C,G,k)};return ds.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ds}var hs={},mm;function ab(){if(mm)return hs;mm=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.Grayscale=void 0;const t=function(e){const i=e.data,r=i.length;for(let s=0;s<r;s+=4){const o=.34*i[s]+.5*i[s+1]+.16*i[s+2];i[s]=o,i[s+1]=o,i[s+2]=o}};return hs.Grayscale=t,hs}var fs={},gm;function ib(){if(gm)return fs;gm=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.HSL=void 0;const t=Ge(),e=lt(),i=Le();t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter);const r=function(s){const o=s.data,c=o.length,u=1,h=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,m=this.luminance()*127,v=u*h*Math.cos(f*Math.PI/180),g=u*h*Math.sin(f*Math.PI/180),y=.299*u+.701*v+.167*g,b=.587*u-.587*v+.33*g,C=.114*u-.114*v-.497*g,T=.299*u-.299*v-.328*g,N=.587*u+.413*v+.035*g,x=.114*u-.114*v+.293*g,_=.299*u-.3*v+1.25*g,E=.587*u-.586*v-1.05*g,R=.114*u+.886*v-.2*g;let k,G,M,D;for(let P=0;P<c;P+=4)k=o[P+0],G=o[P+1],M=o[P+2],D=o[P+3],o[P+0]=y*k+b*G+C*M+m,o[P+1]=T*k+N*G+x*M+m,o[P+2]=_*k+E*G+R*M+m,o[P+3]=D};return fs.HSL=r,fs}var ps={},ym;function rb(){if(ym)return ps;ym=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.HSV=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=s.data,c=o.length,u=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,m=u*h*Math.cos(f*Math.PI/180),v=u*h*Math.sin(f*Math.PI/180),g=.299*u+.701*m+.167*v,y=.587*u-.587*m+.33*v,b=.114*u-.114*m-.497*v,C=.299*u-.299*m-.328*v,T=.587*u+.413*m+.035*v,N=.114*u-.114*m+.293*v,x=.299*u-.3*m+1.25*v,_=.587*u-.586*m-1.05*v,E=.114*u+.886*m-.2*v;for(let R=0;R<c;R+=4){const k=o[R+0],G=o[R+1],M=o[R+2],D=o[R+3];o[R+0]=g*k+y*G+b*M,o[R+1]=C*k+T*G+N*M,o[R+2]=x*k+_*G+E*M,o[R+3]=D}};return ps.HSV=r,t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ps}var ms={},vm;function sb(){if(vm)return ms;vm=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.Invert=void 0;const t=function(e){const i=e.data,r=i.length;for(let s=0;s<r;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2]};return ms.Invert=t,ms}var gs={},_m;function ob(){if(_m)return gs;_m=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.Kaleidoscope=void 0;const t=Ge(),e=lt(),i=rt(),r=Le(),s=function(u,h,f){const m=u.data,v=h.data,g=u.width,y=u.height,b=f.polarCenterX||g/2,C=f.polarCenterY||y/2;let T=Math.sqrt(b*b+C*C),N=g-b,x=y-C;const _=Math.sqrt(N*N+x*x);T=_>T?_:T;const E=y,R=g,k=360/R*Math.PI/180;for(let G=0;G<R;G+=1){const M=Math.sin(G*k),D=Math.cos(G*k);for(let P=0;P<E;P+=1){N=Math.floor(b+T*P/E*D),x=Math.floor(C+T*P/E*M);let B=(x*g+N)*4;const j=m[B+0],q=m[B+1],Y=m[B+2],H=m[B+3];B=(G+P*g)*4,v[B+0]=j,v[B+1]=q,v[B+2]=Y,v[B+3]=H}}},o=function(u,h,f){const m=u.data,v=h.data,g=u.width,y=u.height,b=f.polarCenterX||g/2,C=f.polarCenterY||y/2;let T=Math.sqrt(b*b+C*C),N=g-b,x=y-C;const _=Math.sqrt(N*N+x*x);T=_>T?_:T;const E=y,R=g,k=0;let G,M;for(N=0;N<g;N+=1)for(x=0;x<y;x+=1){const D=N-b,P=x-C,B=Math.sqrt(D*D+P*P)*E/T;let j=(Math.atan2(P,D)*180/Math.PI+360+k)%360;j=j*R/360,G=Math.floor(j),M=Math.floor(B);let q=(M*g+G)*4;const Y=m[q+0],H=m[q+1],ae=m[q+2],A=m[q+3];q=(x*g+N)*4,v[q+0]=Y,v[q+1]=H,v[q+2]=ae,v[q+3]=A}},c=function(u){const h=u.width,f=u.height;let m,v,g,y,b,C,T,N,x,_,E=Math.round(this.kaleidoscopePower());const R=Math.round(this.kaleidoscopeAngle()),k=Math.floor(h*(R%360)/360);if(E<1)return;const G=i.Util.createCanvasElement();G.width=h,G.height=f;const M=G.getContext("2d").getImageData(0,0,h,f);i.Util.releaseCanvas(G),s(u,M,{polarCenterX:h/2,polarCenterY:f/2});let D=h/Math.pow(2,E);for(;D<=8;)D=D*2,E-=1;D=Math.ceil(D);let P=D,B=0,j=P,q=1;for(k+D>h&&(B=P,j=0,q=-1),v=0;v<f;v+=1)for(m=B;m!==j;m+=q)g=Math.round(m+k)%h,x=(h*v+g)*4,b=M.data[x+0],C=M.data[x+1],T=M.data[x+2],N=M.data[x+3],_=(h*v+m)*4,M.data[_+0]=b,M.data[_+1]=C,M.data[_+2]=T,M.data[_+3]=N;for(v=0;v<f;v+=1)for(P=Math.floor(D),y=0;y<E;y+=1){for(m=0;m<P+1;m+=1)x=(h*v+m)*4,b=M.data[x+0],C=M.data[x+1],T=M.data[x+2],N=M.data[x+3],_=(h*v+P*2-m-1)*4,M.data[_+0]=b,M.data[_+1]=C,M.data[_+2]=T,M.data[_+3]=N;P*=2}o(M,u,{})};return gs.Kaleidoscope=c,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),gs}var ys={},bm;function lb(){if(bm)return ys;bm=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.Mask=void 0;const t=Ge(),e=lt(),i=Le();function r(g,y,b){let C=(b*g.width+y)*4;const T=[];return T.push(g.data[C++],g.data[C++],g.data[C++],g.data[C++]),T}function s(g,y){return Math.sqrt(Math.pow(g[0]-y[0],2)+Math.pow(g[1]-y[1],2)+Math.pow(g[2]-y[2],2))}function o(g){const y=[0,0,0];for(let b=0;b<g.length;b++)y[0]+=g[b][0],y[1]+=g[b][1],y[2]+=g[b][2];return y[0]/=g.length,y[1]/=g.length,y[2]/=g.length,y}function c(g,y){const b=r(g,0,0),C=r(g,g.width-1,0),T=r(g,0,g.height-1),N=r(g,g.width-1,g.height-1),x=y||10;if(s(b,C)<x&&s(C,N)<x&&s(N,T)<x&&s(T,b)<x){const _=o([C,b,N,T]),E=[];for(let R=0;R<g.width*g.height;R++){const k=s(_,[g.data[R*4],g.data[R*4+1],g.data[R*4+2]]);E[R]=k<x?0:255}return E}}function u(g,y){for(let b=0;b<g.width*g.height;b++)g.data[4*b+3]=y[b]}function h(g,y,b){const C=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(C.length)),N=Math.floor(T/2),x=[];for(let _=0;_<b;_++)for(let E=0;E<y;E++){const R=_*y+E;let k=0;for(let G=0;G<T;G++)for(let M=0;M<T;M++){const D=_+G-N,P=E+M-N;if(D>=0&&D<b&&P>=0&&P<y){const B=D*y+P,j=C[G*T+M];k+=g[B]*j}}x[R]=k===2040?255:0}return x}function f(g,y,b){const C=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(C.length)),N=Math.floor(T/2),x=[];for(let _=0;_<b;_++)for(let E=0;E<y;E++){const R=_*y+E;let k=0;for(let G=0;G<T;G++)for(let M=0;M<T;M++){const D=_+G-N,P=E+M-N;if(D>=0&&D<b&&P>=0&&P<y){const B=D*y+P,j=C[G*T+M];k+=g[B]*j}}x[R]=k>=1020?255:0}return x}function m(g,y,b){const C=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(C.length)),N=Math.floor(T/2),x=[];for(let _=0;_<b;_++)for(let E=0;E<y;E++){const R=_*y+E;let k=0;for(let G=0;G<T;G++)for(let M=0;M<T;M++){const D=_+G-N,P=E+M-N;if(D>=0&&D<b&&P>=0&&P<y){const B=D*y+P,j=C[G*T+M];k+=g[B]*j}}x[R]=k}return x}const v=function(g){const y=this.threshold();let b=c(g,y);return b&&(b=h(b,g.width,g.height),b=f(b,g.width,g.height),b=m(b,g.width,g.height),u(g,b)),g};return ys.Mask=v,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ys}var vs={},Sm;function cb(){if(Sm)return vs;Sm=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.Noise=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=this.noise()*255,c=s.data,u=c.length,h=o/2;for(let f=0;f<u;f+=4)c[f+0]+=h-2*h*Math.random(),c[f+1]+=h-2*h*Math.random(),c[f+2]+=h-2*h*Math.random()};return vs.Noise=r,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),vs}var _s={},Cm;function ub(){if(Cm)return _s;Cm=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.Pixelate=void 0;const t=Ge(),e=rt(),i=lt(),r=Le(),s=function(o){let c=Math.ceil(this.pixelSize()),u=o.width,h=o.height,f=Math.ceil(u/c),m=Math.ceil(h/c),v=o.data;if(c<=0){e.Util.error("pixelSize value can not be <= 0");return}for(let g=0;g<f;g+=1)for(let y=0;y<m;y+=1){let b=0,C=0,T=0,N=0;const x=g*c,_=x+c,E=y*c,R=E+c;let k=0;for(let G=x;G<_;G+=1)if(!(G>=u))for(let M=E;M<R;M+=1){if(M>=h)continue;const D=(u*M+G)*4;b+=v[D+0],C+=v[D+1],T+=v[D+2],N+=v[D+3],k+=1}b=b/k,C=C/k,T=T/k,N=N/k;for(let G=x;G<_;G+=1)if(!(G>=u))for(let M=E;M<R;M+=1){if(M>=h)continue;const D=(u*M+G)*4;v[D+0]=b,v[D+1]=C,v[D+2]=T,v[D+3]=N}}};return _s.Pixelate=s,t.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),_s}var bs={},xm;function db(){if(xm)return bs;xm=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.Posterize=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=Math.round(this.levels()*254)+1,c=s.data,u=c.length,h=255/o;for(let f=0;f<u;f+=1)c[f]=Math.floor(c[f]/h)*h};return bs.Posterize=r,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),bs}var Ss={},Em;function hb(){if(Em)return Ss;Em=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.RGB=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=s.data,c=o.length,u=this.red(),h=this.green(),f=this.blue();for(let m=0;m<c;m+=4){const v=(.34*o[m]+.5*o[m+1]+.16*o[m+2])/255;o[m]=v*u,o[m+1]=v*h,o[m+2]=v*f,o[m+3]=o[m+3]}};return Ss.RGB=r,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),Ss}var Cs={},Tm;function fb(){if(Tm)return Cs;Tm=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.RGBA=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=s.data,c=o.length,u=this.red(),h=this.green(),f=this.blue(),m=this.alpha();for(let v=0;v<c;v+=4){const g=1-m;o[v]=u*m+o[v]*g,o[v+1]=h*m+o[v+1]*g,o[v+2]=f*m+o[v+2]*g}};return Cs.RGBA=r,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),Cs}var xs={},Rm;function pb(){if(Rm)return xs;Rm=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.Sepia=void 0;const t=function(e){const i=e.data,r=i.length;for(let s=0;s<r;s+=4){const o=i[s+0],c=i[s+1],u=i[s+2];i[s+0]=Math.min(255,o*.393+c*.769+u*.189),i[s+1]=Math.min(255,o*.349+c*.686+u*.168),i[s+2]=Math.min(255,o*.272+c*.534+u*.131)}};return xs.Sepia=t,xs}var Es={},Mm;function mb(){if(Mm)return Es;Mm=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.Solarize=void 0;const t=function(e){const i=e.data,r=e.width,s=e.height,o=r*4;let c=s;do{const u=(c-1)*o;let h=r;do{const f=u+(h-1)*4;let m=i[f],v=i[f+1],g=i[f+2];m>127&&(m=255-m),v>127&&(v=255-v),g>127&&(g=255-g),i[f]=m,i[f+1]=v,i[f+2]=g}while(--h)}while(--c)};return Es.Solarize=t,Es}var Ts={},Am;function gb(){if(Am)return Ts;Am=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.Threshold=void 0;const t=Ge(),e=lt(),i=Le(),r=function(s){const o=this.threshold()*255,c=s.data,u=c.length;for(let h=0;h<u;h+=1)c[h]=c[h]<o?0:255};return Ts.Threshold=r,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Ts}var Nm;function yb(){if(Nm)return Br;Nm=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Konva=void 0;const t=_d(),e=L3(),i=F3(),r=V3(),s=j3(),o=H3(),c=I3(),u=r2(),h=Zd(),f=s2(),m=q3(),v=Y3(),g=K3(),y=X3(),b=o2(),C=Z3(),T=Q3(),N=W3(),x=J3(),_=$3(),E=eb(),R=tb(),k=nb(),G=ab(),M=ib(),D=rb(),P=sb(),B=ob(),j=lb(),q=cb(),Y=ub(),H=db(),ae=hb(),A=fb(),O=pb(),U=mb(),L=gb();return Br.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:i.Arrow,Circle:r.Circle,Ellipse:s.Ellipse,Image:o.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:h.Path,Rect:f.Rect,RegularPolygon:m.RegularPolygon,Ring:v.Ring,Sprite:g.Sprite,Star:y.Star,Text:b.Text,TextPath:C.TextPath,Transformer:T.Transformer,Wedge:N.Wedge,Filters:{Blur:x.Blur,Brighten:_.Brighten,Contrast:E.Contrast,Emboss:R.Emboss,Enhance:k.Enhance,Grayscale:G.Grayscale,HSL:M.HSL,HSV:D.HSV,Invert:P.Invert,Kaleidoscope:B.Kaleidoscope,Mask:j.Mask,Noise:q.Noise,Pixelate:Y.Pixelate,Posterize:H.Posterize,RGB:ae.RGB,RGBA:A.RGBA,Sepia:O.Sepia,Solarize:U.Solarize,Threshold:L.Threshold}}),Br}var vb=ul.exports,Om;function _b(){if(Om)return ul.exports;Om=1,Object.defineProperty(vb,"__esModule",{value:!0});const t=yb();return ul.exports=t.Konva,ul.exports}_b();var Wo={exports:{}},Dm;function bb(){return Dm||(Dm=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var i=_d();Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return i.Konva}});const r=_d();t.exports=r.Konva}(Wo,Wo.exports)),Wo.exports}var Sb=bb();const _l=Pd(Sb);var Yu={exports:{}},Ku={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Cb(){return km||(km=1,function(t){t.exports=function(e){function i(n,a,l,d){return new Y2(n,a,l,d)}function r(){}function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(o(n)!==n)throw Error(s(188))}function u(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,d=a;;){var p=l.return;if(p===null)break;var S=p.alternate;if(S===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===S.child){for(S=p.child;S;){if(S===l)return c(p),n;if(S===d)return c(p),a;S=S.sibling}throw Error(s(188))}if(l.return!==d.return)l=p,d=S;else{for(var w=!1,F=p.child;F;){if(F===l){w=!0,l=p,d=S;break}if(F===d){w=!0,d=p,l=S;break}F=F.sibling}if(!w){for(F=S.child;F;){if(F===l){w=!0,l=S,d=p;break}if(F===d){w=!0,d=S,l=p;break}F=F.sibling}if(!w)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function h(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=h(n),a!==null)return a;n=n.sibling}return null}function f(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(n.tag!==4&&(a=f(n),a!==null))return a;n=n.sibling}return null}function m(n){return n===null||typeof n!="object"?null:(n=sp&&n[sp]||n["@@iterator"],typeof n=="function"?n:null)}function v(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===J2?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mi:return"Fragment";case Ic:return"Profiler";case ip:return"StrictMode";case Yc:return"Suspense";case Kc:return"SuspenseList";case Zc:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case pi:return"Portal";case fa:return(n.displayName||"Context")+".Provider";case rp:return(n._context.displayName||"Context")+".Consumer";case qc:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xc:return a=n.displayName||null,a!==null?a:v(n.type)||"Memo";case pa:a=n._payload,n=n._init;try{return v(n(a))}catch{}}return null}function g(n){return{current:n}}function y(n){0>vi||(n.current=eu[vi],eu[vi]=null,vi--)}function b(n,a){vi++,eu[vi]=n.current,n.current=a}function C(n){return n>>>=0,n===0?32:31-(mv(n)/gv|0)|0}function T(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function N(n,a,l){var d=n.pendingLanes;if(d===0)return 0;var p=0,S=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var F=d&134217727;return F!==0?(d=F&~S,d!==0?p=T(d):(w&=F,w!==0?p=T(w):l||(l=F&~n,l!==0&&(p=T(l))))):(F=d&~S,F!==0?p=T(F):w!==0?p=T(w):l||(l=d&~n,l!==0&&(p=T(l)))),p===0?0:a!==0&&a!==p&&(a&S)===0&&(S=p&-p,l=a&-a,S>=l||S===32&&(l&4194048)!==0)?a:p}function x(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function _(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E(){var n=Co;return Co<<=1,(Co&4194048)===0&&(Co=256),n}function R(){var n=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),n}function k(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function G(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function M(n,a,l,d,p,S){var w=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var F=n.entanglements,W=n.expirationTimes,ie=n.hiddenUpdates;for(l=w&~l;0<l;){var le=31-en(l),he=1<<le;F[le]=0,W[le]=-1;var fe=ie[le];if(fe!==null)for(ie[le]=null,le=0;le<fe.length;le++){var Oe=fe[le];Oe!==null&&(Oe.lane&=-536870913)}l&=~he}d!==0&&D(n,d,0),S!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=S&~(w&~a))}function D(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-en(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function P(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var d=31-en(l),p=1<<d;p&a|n[d]&a&&(n[d]|=a),l&=~p}}function B(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function j(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function q(n){if(typeof Sv=="function"&&Cv(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Tr,n)}catch{}}function Y(n){if(au===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);au=a&&a[1]||"",Dp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+au+n+Dp}function H(n,a){if(!n||iu)return"";iu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(Oe){var fe=Oe}Reflect.construct(n,[],he)}else{try{he.call()}catch(Oe){fe=Oe}n.call(he.prototype)}}else{try{throw Error()}catch(Oe){fe=Oe}(he=n())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(Oe){if(Oe&&fe&&typeof Oe.stack=="string")return[Oe.stack,fe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),w=S[0],F=S[1];if(w&&F){var W=w.split(`
`),ie=F.split(`
`);for(p=d=0;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;for(;p<ie.length&&!ie[p].includes("DetermineComponentFrameRoot");)p++;if(d===W.length||p===ie.length)for(d=W.length-1,p=ie.length-1;1<=d&&0<=p&&W[d]!==ie[p];)p--;for(;1<=d&&0<=p;d--,p--)if(W[d]!==ie[p]){if(d!==1||p!==1)do if(d--,p--,0>p||W[d]!==ie[p]){var le=`
`+W[d].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=d&&0<=p);break}}}finally{iu=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Y(l):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return H(n.type,!1);case 11:return H(n.type.render,!1);case 1:return H(n.type,!0);case 31:return Y("Activity");default:return""}}function A(n){try{var a="";do a+=ae(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function O(n,a){if(typeof n=="object"&&n!==null){var l=kp.get(n);return l!==void 0?l:(a={value:n,source:a,stack:A(a)},kp.set(n,a),a)}return{value:n,source:a,stack:A(a)}}function U(n,a){bi[Si++]=Ro,bi[Si++]=To,To=n,Ro=a}function L(n,a,l){un[dn++]=Hn,un[dn++]=In,un[dn++]=Fa,Fa=n;var d=Hn;n=In;var p=32-en(d)-1;d&=~(1<<p),l+=1;var S=32-en(a)+p;if(30<S){var w=p-p%5;S=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Hn=1<<32-en(a)+p|l<<p|d,In=S+n}else Hn=1<<S|l<<p|d,In=n}function V(n){n.return!==null&&(U(n,1),L(n,1,0))}function ee(n){for(;n===To;)To=bi[--Si],bi[Si]=null,Ro=bi[--Si],bi[Si]=null;for(;n===Fa;)Fa=un[--dn],un[dn]=null,In=un[--dn],un[dn]=null,Hn=un[--dn],un[dn]=null}function I(n,a){b(ga,a),b(Rr,n),b(Nt,null),n=ty(a),y(Nt),b(Nt,n)}function te(){y(Nt),y(Rr),y(ga)}function ce(n){n.memoizedState!==null&&b(Mo,n);var a=Nt.current,l=ny(a,n.type);a!==l&&(b(Rr,n),b(Nt,l))}function J(n){Rr.current===n&&(y(Nt),y(Rr)),Mo.current===n&&(y(Mo),Vn?Ba._currentValue=gi:Ba._currentValue2=gi)}function z(n){var a=Error(s(418,""));throw Me(O(a,n)),ru}function Z(n,a){if(!cn)throw Error(s(175));$y(n.stateNode,n.type,n.memoizedProps,a,n)||z(n)}function se(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Gt=Gt.return}}function ue(n){if(!cn||n!==Gt)return!1;if(!Ye)return se(n),Ye=!0,!1;var a=n.tag;if(mt?a!==3&&a!==27&&(a!==5||_p(n.type)&&!So(n.type,n.memoizedProps))&&gt&&z(n):a!==3&&(a!==5||_p(n.type)&&!So(n.type,n.memoizedProps))&&gt&&z(n),se(n),a===13){if(!cn)throw Error(s(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));gt=nv(n)}else gt=mt&&a===27?qy(n.type,gt):Gt?vp(n.stateNode):null;return!0}function me(){cn&&(gt=Gt=null,Ye=!1)}function Se(){var n=Va;return n!==null&&(Ht===null?Ht=n:Ht.push.apply(Ht,n),Va=null),n}function Me(n){Va===null?Va=[n]:Va.push(n)}function Ie(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}function Ce(n,a,l){Vn?(b(Ao,a._currentValue),a._currentValue=l):(b(Ao,a._currentValue2),a._currentValue2=l)}function Qe(n){var a=Ao.current;Vn?n._currentValue=a:n._currentValue2=a,y(Ao)}function qe(n,a,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===l)break;n=n.return}}function Je(n,a,l,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var S=p.dependencies;if(S!==null){var w=p.child;S=S.firstContext;e:for(;S!==null;){var F=S;S=p;for(var W=0;W<a.length;W++)if(F.context===a[W]){S.lanes|=l,F=S.alternate,F!==null&&(F.lanes|=l),qe(S.return,l,n),d||(w=null);break e}S=F.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=l,S=w.alternate,S!==null&&(S.lanes|=l),qe(w,l,n),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ln(n,a,l,d){n=null;for(var p=a,S=!1;p!==null;){if(!S){if((p.flags&524288)!==0)S=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var F=p.type;nn(p.pendingProps.value,w.value)||(n!==null?n.push(F):n=[F])}}else if(p===Mo.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Ba):n=[Ba])}p=p.return}n!==null&&Je(a,n,l,d),a.flags|=262144}function Tt(n){for(n=n.firstContext;n!==null;){var a=n.context;if(!nn(Vn?a._currentValue:a._currentValue2,n.memoizedValue))return!0;n=n.next}return!1}function Kt(n){ja=n,qn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ne(n){return Xt(ja,n)}function Dt(n,a){return ja===null&&Kt(n),Xt(n,a)}function Xt(n,a){var l=Vn?a._currentValue:a._currentValue2;if(a={context:a,memoizedValue:l,next:null},qn===null){if(n===null)throw Error(s(308));qn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else qn=qn.next=a;return l}function yn(){return{controller:new xv,data:new Map,refCount:0}}function ct(n){n.refCount--,n.refCount===0&&Ev(Tv,function(){n.controller.abort()})}function pt(n){n!==Ci&&n.next===null&&(Ci===null?No=Ci=n:Ci=Ci.next=n),Oo=!0,su||(su=!0,li())}function _t(n,a){if(!ou&&Oo){ou=!0;do for(var l=!1,d=No;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var S=0;else{var w=d.suspendedLanes,F=d.pingedLanes;S=(1<<31-en(42|n)+1)-1,S&=p&~(w&~F),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(l=!0,or(d,S))}else S=Fe,S=N(d,d===We?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==La),(S&3)===0||x(d,S)||(l=!0,or(d,S));d=d.next}while(l);ou=!1}}function Zt(){Rt()}function Rt(){Oo=su=!1;var n=0;xi!==0&&(dy()&&(n=xi),xi=0);for(var a=bn(),l=null,d=No;d!==null;){var p=d.next,S=Mt(d,a);S===0?(d.next=null,l===null?No=p:l.next=p,p===null&&(Ci=l)):(l=d,(n!==0||(S&3)!==0)&&(Oo=!0)),d=p}_t(n)}function Mt(n,a){for(var l=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,S=n.pendingLanes&-62914561;0<S;){var w=31-en(S),F=1<<w,W=p[w];W===-1?((F&l)===0||(F&d)!==0)&&(p[w]=_(F,a)):W<=a&&(n.expiredLanes|=F),S&=~F}if(a=We,l=Fe,l=N(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==La),d=n.callbackNode,l===0||n===a&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&tu(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||x(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(d!==null&&tu(d),j(l)){case 2:case 8:l=_v;break;case 32:l=nu;break;case 268435456:l=bv;break;default:l=nu}return d=ia.bind(null,n),l=Eo(l,d),n.callbackPriority=a,n.callbackNode=l,a}return d!==null&&d!==null&&tu(d),n.callbackPriority=2,n.callbackNode=null,2}function ia(n,a){if(Ot!==0&&Ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Sr()&&n.callbackNode!==l)return null;var d=Fe;return d=N(n,n===We?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==La),d===0?null:(wf(n,d,a),Mt(n,bn()),n.callbackNode!=null&&n.callbackNode===l?ia.bind(null,n):null)}function or(n,a){if(Sr())return null;wf(n,a,!0)}function li(){yy?vy(function(){(Be&6)!==0?Eo(Op,Zt):Rt()}):Eo(Op,Zt)}function lr(){return xi===0&&(xi=E()),xi}function Hl(n,a){if(Mr===null){var l=Mr=[];lu=0,Ei=lr(),Ti={status:"pending",value:void 0,then:function(d){l.push(d)}}}return lu++,a.then($d,$d),a}function $d(){if(--lu===0&&Mr!==null){Ti!==null&&(Ti.status="fulfilled");var n=Mr;Mr=null,Ei=0,Ti=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function R2(n,a){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}function Il(){var n=Ha.current;return n!==null?n:We.pooledCache}function Qs(n,a){a===null?b(Ha,Ha.current):b(Ha,a.pool)}function eh(){var n=Il();return n===null?null:{parent:Vn?at._currentValue:at._currentValue2,pool:n}}function Ws(n,a){if(nn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Rv.call(a,p)||!nn(n[p],a[p]))return!1}return!0}function th(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Js(){}function nh(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Js,Js),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ih(n),n;default:if(typeof a.status=="string")a.then(Js,Js);else{if(n=We,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ih(n),n}throw Ri=a,Ar}}function ah(){if(Ri===null)throw Error(s(459));var n=Ri;return Ri=null,n}function ih(n){if(n===Ar||n===Do)throw Error(s(483))}function $s(){for(var n=Mi,a=uu=Mi=0;a<n;){var l=hn[a];hn[a++]=null;var d=hn[a];hn[a++]=null;var p=hn[a];hn[a++]=null;var S=hn[a];if(hn[a++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}S!==0&&rh(l,p,S)}}function eo(n,a,l,d){hn[Mi++]=n,hn[Mi++]=a,hn[Mi++]=l,hn[Mi++]=d,uu|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function ql(n,a,l,d){return eo(n,a,l,d),to(n)}function ci(n,a){return eo(n,null,null,a),to(n)}function rh(n,a,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var p=!1,S=n.return;S!==null;)S.childLanes|=l,d=S.alternate,d!==null&&(d.childLanes|=l),S.tag===22&&(n=S.stateNode,n===null||n._visibility&1||(p=!0)),n=S,S=S.return;return n.tag===3?(S=n.stateNode,p&&a!==null&&(p=31-en(l),n=S.hiddenUpdates,d=n[p],d===null?n[p]=[a]:d.push(a),a.lane=l|536870912),S):null}function to(n){if(50<wr)throw wr=0,Su=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}function Yl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kl(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ra(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function sa(n,a,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=to(n),rh(n,null,l),a}return eo(n,d,a,l),to(n)}function cr(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,P(n,l)}}function Xl(n,a){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};S===null?p=S=w:S=S.next=w,l=l.next}while(l!==null);S===null?p=S=a:S=S.next=a}else p=S=a;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}function ur(){if(du){var n=Ti;if(n!==null)throw n}}function dr(n,a,l,d){du=!1;var p=n.updateQueue;ya=!1;var S=p.firstBaseUpdate,w=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var W=F,ie=W.next;W.next=null,w===null?S=ie:w.next=ie,w=W;var le=n.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==w&&(F===null?le.firstBaseUpdate=ie:F.next=ie,le.lastBaseUpdate=W))}if(S!==null){var he=p.baseState;w=0,le=ie=W=null,F=S;do{var fe=F.lane&-536870913,Oe=fe!==F.lane;if(Oe?(Fe&fe)===fe:(d&fe)===fe){fe!==0&&fe===Ei&&(du=!0),le!==null&&(le=le.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var mn=n,zr=F;fe=a;var Ya=l;switch(zr.tag){case 1:if(mn=zr.payload,typeof mn=="function"){he=mn.call(Ya,he,fe);break e}he=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=zr.payload,fe=typeof mn=="function"?mn.call(Ya,he,fe):mn,fe==null)break e;he=Hc({},he,fe);break e;case 2:ya=!0}}fe=F.callback,fe!==null&&(n.flags|=64,Oe&&(n.flags|=8192),Oe=p.callbacks,Oe===null?p.callbacks=[fe]:Oe.push(fe))}else Oe={lane:fe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(ie=le=Oe,W=he):le=le.next=Oe,w|=fe;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;Oe=F,F=Oe.next,Oe.next=null,p.lastBaseUpdate=Oe,p.shared.pending=null}}while(!0);le===null&&(W=he),p.baseState=W,p.firstBaseUpdate=ie,p.lastBaseUpdate=le,S===null&&(p.shared.lanes=0),ba|=w,n.lanes=w,n.memoizedState=he}}function sh(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function oh(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)sh(l[n],a)}function lh(n,a){n=Kn,b(Po,n),b(Ai,a),Kn=n|a.baseLanes}function Zl(){b(Po,Kn),b(Ai,Ai.current)}function Ql(){Kn=Po.current,y(Ai),y(Po)}function st(){throw Error(s(321))}function Wl(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!nn(n[l],a[l]))return!1;return!0}function Jl(n,a,l,d,p,S){return va=S,ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xe.H=n===null||n.memoizedState===null?wp:zp,Ia=!1,S=l(d,p),Ia=!1,Ni&&(S=uh(a,l,d,p)),ch(n),S}function ch(n){xe.H=Uo;var a=Ze!==null&&Ze.next!==null;if(va=0,dt=Ze=ke=null,wo=!1,Nr=0,Oi=null,a)throw Error(s(300));n===null||St||(n=n.dependencies,n!==null&&Tt(n)&&(St=!0))}function uh(n,a,l,d){ke=n;var p=0;do{if(Ni&&(Oi=null),Nr=0,Ni=!1,25<=p)throw Error(s(301));if(p+=1,dt=Ze=null,n.updateQueue!=null){var S=n.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}xe.H=Av,S=a(l,d)}while(Ni);return S}function M2(){var n=xe.H,a=n.useState()[0];return a=typeof a.then=="function"?hr(a):a,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(ke.flags|=1024),a}function $l(){var n=zo!==0;return zo=0,n}function ec(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function tc(n){if(wo){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wo=!1}va=0,dt=Ze=ke=null,Ni=!1,Nr=zo=0,Oi=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ke.memoizedState=dt=n:dt=dt.next=n,dt}function ut(){if(Ze===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var a=dt===null?ke.memoizedState:dt.next;if(a!==null)dt=a,Ze=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?ke.memoizedState=dt=n:dt=dt.next=n}return dt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hr(n){var a=Nr;return Nr+=1,Oi===null&&(Oi=[]),n=nh(Oi,n,a),a=ke,(dt===null?a.memoizedState:dt.next)===null&&(a=a.alternate,xe.H=a===null||a.memoizedState===null?wp:zp),n}function no(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hr(n);if(n.$$typeof===fa)return Ne(n)}throw Error(s(438,String(n)))}function ac(n){var a=null,l=ke.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=nc(),ke.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),d=0;d<n;d++)l[d]=W2;return a.index++,l}function Gn(n,a){return typeof a=="function"?a(n):a}function ao(n){var a=ut();return ic(a,Ze,n)}function ic(n,a,l){var d=n.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var p=n.baseQueue,S=d.pending;if(S!==null){if(p!==null){var w=p.next;p.next=S.next,S.next=w}a.baseQueue=p=S,d.pending=null}if(S=n.baseState,p===null)n.memoizedState=S;else{a=p.next;var F=w=null,W=null,ie=a,le=!1;do{var he=ie.lane&-536870913;if(he!==ie.lane?(Fe&he)===he:(va&he)===he){var fe=ie.revertLane;if(fe===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),he===Ei&&(le=!0);else if((va&fe)===fe){ie=ie.next,fe===Ei&&(le=!0);continue}else he={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(F=W=he,w=S):W=W.next=he,ke.lanes|=fe,ba|=fe;he=ie.action,Ia&&l(S,he),S=ie.hasEagerState?ie.eagerState:l(S,he)}else fe={lane:he,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(F=W=fe,w=S):W=W.next=fe,ke.lanes|=he,ba|=he;ie=ie.next}while(ie!==null&&ie!==a);if(W===null?w=S:W.next=F,!nn(S,n.memoizedState)&&(St=!0,le&&(l=Ti,l!==null)))throw l;n.memoizedState=S,n.baseState=w,n.baseQueue=W,d.lastRenderedState=S}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function rc(n){var a=ut(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var d=l.dispatch,p=l.pending,S=a.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do S=n(S,w.action),w=w.next;while(w!==p);nn(S,a.memoizedState)||(St=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),l.lastRenderedState=S}return[S,d]}function dh(n,a,l){var d=ke,p=ut(),S=Ye;if(S){if(l===void 0)throw Error(s(407));l=l()}else l=a();var w=!nn((Ze||p).memoizedState,l);w&&(p.memoizedState=l,St=!0),p=p.queue;var F=ph.bind(null,d,p,n);if(fr(2048,8,F,[n]),p.getSnapshot!==a||w||dt!==null&&dt.memoizedState.tag&1){if(d.flags|=2048,ui(9,io(),fh.bind(null,d,p,l,a),null),We===null)throw Error(s(349));S||(va&124)!==0||hh(d,a,l)}return l}function hh(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=ke.updateQueue,a===null?(a=nc(),ke.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function fh(n,a,l,d){a.value=l,a.getSnapshot=d,mh(a)&&gh(n)}function ph(n,a,l){return l(function(){mh(a)&&gh(n)})}function mh(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!nn(n,l)}catch{return!0}}function gh(n){var a=ci(n,2);a!==null&&Jt(a,n,2)}function sc(n){var a=Ft();if(typeof n=="function"){var l=n;if(n=l(),Ia){q(!0);try{l()}finally{q(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:n},a}function yh(n,a,l,d){return n.baseState=l,ic(n,Ze,typeof d=="function"?d:Gn)}function A2(n,a,l,d,p){if(so(n))throw Error(s(485));if(n=a.action,n!==null){var S={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){S.listeners.push(w)}};xe.T!==null?l(!0):S.isTransition=!1,d(S),l=a.pending,l===null?(S.next=a.pending=S,vh(a,S)):(S.next=l.next,a.pending=l.next=S)}}function vh(n,a){var l=a.action,d=a.payload,p=n.state;if(a.isTransition){var S=xe.T,w={};xe.T=w;try{var F=l(p,d),W=xe.S;W!==null&&W(w,F),_h(n,a,F)}catch(ie){oc(n,a,ie)}finally{xe.T=S}}else try{S=l(p,d),_h(n,a,S)}catch(ie){oc(n,a,ie)}}function _h(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){bh(n,a,d)},function(d){return oc(n,a,d)}):bh(n,a,l)}function bh(n,a,l){a.status="fulfilled",a.value=l,Sh(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,vh(n,l)))}function oc(n,a,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,Sh(a),a=a.next;while(a!==d)}n.action=null}function Sh(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Ch(n,a){return a}function xh(n,a){if(Ye){var l=We.formState;if(l!==null){e:{var d=ke;if(Ye){if(gt){var p=Hy(gt,Nn);if(p){gt=vp(p),d=Iy(p);break e}}z(d)}d=!1}d&&(a=l[0])}}l=Ft(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:a},l.queue=d,l=Vh.bind(null,ke,d),d.dispatch=l,d=sc(!1);var S=dc.bind(null,ke,!1,d.queue);return d=Ft(),p={state:a,dispatch:null,action:n,pending:null},d.queue=p,l=A2.bind(null,ke,p,S,l),p.dispatch=l,d.memoizedState=n,[a,l,!1]}function Eh(n){var a=ut();return Th(a,Ze,n)}function Th(n,a,l){if(a=ic(n,a,Ch)[0],n=ao(Gn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=hr(a)}catch(w){throw w===Ar?Do:w}else d=a;a=ut();var p=a.queue,S=p.dispatch;return l!==a.memoizedState&&(ke.flags|=2048,ui(9,io(),N2.bind(null,p,l),null)),[d,S,n]}function N2(n,a){n.action=a}function Rh(n){var a=ut(),l=Ze;if(l!==null)return Th(a,l,n);ut(),a=a.memoizedState,l=ut();var d=l.queue.dispatch;return l.memoizedState=n,[a,d,!1]}function ui(n,a,l,d){return n={tag:n,create:l,deps:d,inst:a,next:null},a=ke.updateQueue,a===null&&(a=nc(),ke.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,a.lastEffect=n),n}function io(){return{destroy:void 0,resource:void 0}}function Mh(){return ut().memoizedState}function ro(n,a,l,d){var p=Ft();d=d===void 0?null:d,ke.flags|=n,p.memoizedState=ui(1|a,io(),l,d)}function fr(n,a,l,d){var p=ut();d=d===void 0?null:d;var S=p.memoizedState.inst;Ze!==null&&d!==null&&Wl(d,Ze.memoizedState.deps)?p.memoizedState=ui(a,S,l,d):(ke.flags|=n,p.memoizedState=ui(1|a,S,l,d))}function Ah(n,a){ro(8390656,8,n,a)}function Nh(n,a){fr(2048,8,n,a)}function Oh(n,a){return fr(4,2,n,a)}function Dh(n,a){return fr(4,4,n,a)}function kh(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Ph(n,a,l){l=l!=null?l.concat([n]):null,fr(4,4,kh.bind(null,a,n),l)}function lc(){}function wh(n,a){var l=ut();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Wl(a,d[1])?d[0]:(l.memoizedState=[n,a],n)}function zh(n,a){var l=ut();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Wl(a,d[1]))return d[0];if(d=n(),Ia){q(!0);try{n()}finally{q(!1)}}return l.memoizedState=[d,a],d}function cc(n,a,l){return l===void 0||(va&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=Pf(),ke.lanes|=n,ba|=n,l)}function Uh(n,a,l,d){return nn(l,a)?l:Ai.current!==null?(n=cc(n,l,d),nn(n,a)||(St=!0),n):(va&42)===0?(St=!0,n.memoizedState=l):(n=Pf(),ke.lanes|=n,ba|=n,a)}function Gh(n,a,l,d,p){var S=jn();bt(S!==0&&8>S?S:8);var w=xe.T,F={};xe.T=F,dc(n,!1,a,l);try{var W=p(),ie=xe.S;if(ie!==null&&ie(F,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var le=R2(W,d);pr(n,a,le,Wt(n))}else pr(n,a,d,Wt(n))}catch(he){pr(n,a,{then:function(){},status:"rejected",reason:he},Wt())}finally{bt(S),xe.T=w}}function Lh(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:gi,baseState:gi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:gi},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function uc(){return Ne(Ba)}function Bh(){return ut().memoizedState}function Fh(){return ut().memoizedState}function O2(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=Wt();n=ra(l);var d=sa(a,n,l);d!==null&&(Jt(d,a,l),cr(d,a,l)),a={cache:yn()},n.payload=a;return}a=a.return}}function D2(n,a,l){var d=Wt();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},so(n)?jh(a,l):(l=ql(n,a,l,d),l!==null&&(Jt(l,n,d),Hh(l,a,d)))}function Vh(n,a,l){var d=Wt();pr(n,a,l,d)}function pr(n,a,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(so(n))jh(a,p);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var w=a.lastRenderedState,F=S(w,l);if(p.hasEagerState=!0,p.eagerState=F,nn(F,w))return eo(n,a,p,0),We===null&&$s(),!1}catch{}finally{}if(l=ql(n,a,p,d),l!==null)return Jt(l,n,d),Hh(l,a,d),!0}return!1}function dc(n,a,l,d){if(d={lane:2,revertLane:lr(),action:d,hasEagerState:!1,eagerState:null,next:null},so(n)){if(a)throw Error(s(479))}else a=ql(n,l,d,2),a!==null&&Jt(a,n,2)}function so(n){var a=n.alternate;return n===ke||a!==null&&a===ke}function jh(n,a){Ni=wo=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Hh(n,a,l){if((l&4194048)!==0){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,P(n,l)}}function oo(n){var a=Or;return Or+=1,Di===null&&(Di=[]),nh(Di,n,a)}function mr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function lo(n,a){throw a.$$typeof===Z2?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Ih(n){var a=n._init;return a(n._payload)}function qh(n){function a(Q,K){if(n){var $=Q.deletions;$===null?(Q.deletions=[K],Q.flags|=16):$.push(K)}}function l(Q,K){if(!n)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function d(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function p(Q,K){return Q=Fn(Q,K),Q.index=0,Q.sibling=null,Q}function S(Q,K,$){return Q.index=$,n?($=Q.alternate,$!==null?($=$.index,$<K?(Q.flags|=67108866,K):$):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function w(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function F(Q,K,$,oe){return K===null||K.tag!==6?(K=Fc($,Q.mode,oe),K.return=Q,K):(K=p(K,$),K.return=Q,K)}function W(Q,K,$,oe){var be=$.type;return be===mi?le(Q,K,$.props.children,oe,$.key):K!==null&&(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===pa&&Ih(be)===K.type)?(K=p(K,$.props),mr(K,$),K.return=Q,K):(K=vo($.type,$.key,$.props,null,Q.mode,oe),mr(K,$),K.return=Q,K)}function ie(Q,K,$,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==$.containerInfo||K.stateNode.implementation!==$.implementation?(K=Vc($,Q.mode,oe),K.return=Q,K):(K=p(K,$.children||[]),K.return=Q,K)}function le(Q,K,$,oe,be){return K===null||K.tag!==7?(K=Ga($,Q.mode,oe,be),K.return=Q,K):(K=p(K,$),K.return=Q,K)}function he(Q,K,$){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Fc(""+K,Q.mode,$),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _o:return $=vo(K.type,K.key,K.props,null,Q.mode,$),mr($,K),$.return=Q,$;case pi:return K=Vc(K,Q.mode,$),K.return=Q,K;case pa:var oe=K._init;return K=oe(K._payload),he(Q,K,$)}if(bo(K)||m(K))return K=Ga(K,Q.mode,$,null),K.return=Q,K;if(typeof K.then=="function")return he(Q,oo(K),$);if(K.$$typeof===fa)return he(Q,Dt(Q,K),$);lo(Q,K)}return null}function fe(Q,K,$,oe){var be=K!==null?K.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:F(Q,K,""+$,oe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _o:return $.key===be?W(Q,K,$,oe):null;case pi:return $.key===be?ie(Q,K,$,oe):null;case pa:return be=$._init,$=be($._payload),fe(Q,K,$,oe)}if(bo($)||m($))return be!==null?null:le(Q,K,$,oe,null);if(typeof $.then=="function")return fe(Q,K,oo($),oe);if($.$$typeof===fa)return fe(Q,K,Dt(Q,$),oe);lo(Q,$)}return null}function Oe(Q,K,$,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get($)||null,F(K,Q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _o:return Q=Q.get(oe.key===null?$:oe.key)||null,W(K,Q,oe,be);case pi:return Q=Q.get(oe.key===null?$:oe.key)||null,ie(K,Q,oe,be);case pa:var $e=oe._init;return oe=$e(oe._payload),Oe(Q,K,$,oe,be)}if(bo(oe)||m(oe))return Q=Q.get($)||null,le(K,Q,oe,be,null);if(typeof oe.then=="function")return Oe(Q,K,$,oo(oe),be);if(oe.$$typeof===fa)return Oe(Q,K,$,Dt(K,oe),be);lo(K,oe)}return null}function mn(Q,K,$,oe){for(var be=null,$e=null,Re=K,je=K=0,xt=null;Re!==null&&je<$.length;je++){Re.index>je?(xt=Re,Re=null):xt=Re.sibling;var He=fe(Q,Re,$[je],oe);if(He===null){Re===null&&(Re=xt);break}n&&Re&&He.alternate===null&&a(Q,Re),K=S(He,K,je),$e===null?be=He:$e.sibling=He,$e=He,Re=xt}if(je===$.length)return l(Q,Re),Ye&&U(Q,je),be;if(Re===null){for(;je<$.length;je++)Re=he(Q,$[je],oe),Re!==null&&(K=S(Re,K,je),$e===null?be=Re:$e.sibling=Re,$e=Re);return Ye&&U(Q,je),be}for(Re=d(Re);je<$.length;je++)xt=Oe(Re,Q,je,$[je],oe),xt!==null&&(n&&xt.alternate!==null&&Re.delete(xt.key===null?je:xt.key),K=S(xt,K,je),$e===null?be=xt:$e.sibling=xt,$e=xt);return n&&Re.forEach(function(xa){return a(Q,xa)}),Ye&&U(Q,je),be}function zr(Q,K,$,oe){if($==null)throw Error(s(151));for(var be=null,$e=null,Re=K,je=K=0,xt=null,He=$.next();Re!==null&&!He.done;je++,He=$.next()){Re.index>je?(xt=Re,Re=null):xt=Re.sibling;var xa=fe(Q,Re,He.value,oe);if(xa===null){Re===null&&(Re=xt);break}n&&Re&&xa.alternate===null&&a(Q,Re),K=S(xa,K,je),$e===null?be=xa:$e.sibling=xa,$e=xa,Re=xt}if(He.done)return l(Q,Re),Ye&&U(Q,je),be;if(Re===null){for(;!He.done;je++,He=$.next())He=he(Q,He.value,oe),He!==null&&(K=S(He,K,je),$e===null?be=He:$e.sibling=He,$e=He);return Ye&&U(Q,je),be}for(Re=d(Re);!He.done;je++,He=$.next())He=Oe(Re,Q,je,He.value,oe),He!==null&&(n&&He.alternate!==null&&Re.delete(He.key===null?je:He.key),K=S(He,K,je),$e===null?be=He:$e.sibling=He,$e=He);return n&&Re.forEach(function(Dv){return a(Q,Dv)}),Ye&&U(Q,je),be}function Ya(Q,K,$,oe){if(typeof $=="object"&&$!==null&&$.type===mi&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case _o:e:{for(var be=$.key;K!==null;){if(K.key===be){if(be=$.type,be===mi){if(K.tag===7){l(Q,K.sibling),oe=p(K,$.props.children),oe.return=Q,Q=oe;break e}}else if(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===pa&&Ih(be)===K.type){l(Q,K.sibling),oe=p(K,$.props),mr(oe,$),oe.return=Q,Q=oe;break e}l(Q,K);break}else a(Q,K);K=K.sibling}$.type===mi?(oe=Ga($.props.children,Q.mode,oe,$.key),oe.return=Q,Q=oe):(oe=vo($.type,$.key,$.props,null,Q.mode,oe),mr(oe,$),oe.return=Q,Q=oe)}return w(Q);case pi:e:{for(be=$.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===$.containerInfo&&K.stateNode.implementation===$.implementation){l(Q,K.sibling),oe=p(K,$.children||[]),oe.return=Q,Q=oe;break e}else{l(Q,K);break}else a(Q,K);K=K.sibling}oe=Vc($,Q.mode,oe),oe.return=Q,Q=oe}return w(Q);case pa:return be=$._init,$=be($._payload),Ya(Q,K,$,oe)}if(bo($))return mn(Q,K,$,oe);if(m($)){if(be=m($),typeof be!="function")throw Error(s(150));return $=be.call($),zr(Q,K,$,oe)}if(typeof $.then=="function")return Ya(Q,K,oo($),oe);if($.$$typeof===fa)return Ya(Q,K,Dt(Q,$),oe);lo(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,K!==null&&K.tag===6?(l(Q,K.sibling),oe=p(K,$),oe.return=Q,Q=oe):(l(Q,K),oe=Fc($,Q.mode,oe),oe.return=Q,Q=oe),w(Q)):l(Q,K)}return function(Q,K,$,oe){try{Or=0;var be=Ya(Q,K,$,oe);return Di=null,be}catch(Re){if(Re===Ar||Re===Do)throw Re;var $e=i(29,Re,null,Q.mode);return $e.lanes=oe,$e.return=Q,$e}finally{}}}function oa(n){var a=n.alternate;b(yt,yt.current&1),b(fn,n),On===null&&(a===null||Ai.current!==null||a.memoizedState!==null)&&(On=n)}function Yh(n){if(n.tag===22){if(b(yt,yt.current),b(fn,n),On===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(On=n)}}else la()}function la(){b(yt,yt.current),b(fn,fn.current)}function Ln(n){y(fn),On===n&&(On=null),y(yt)}function co(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wc(l)||Jc(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function hc(n,a,l,d){a=n.memoizedState,l=l(d,a),l=l==null?a:Hc({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}function Kh(n,a,l,d,p,S,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,S,w):a.prototype&&a.prototype.isPureReactComponent?!Ws(l,d)||!Ws(p,S):!0}function Xh(n,a,l,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==n&&hu.enqueueReplaceState(a,a.state,null)}function wa(n,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(n=n.defaultProps){l===a&&(l=Hc({},l));for(var p in n)l[p]===void 0&&(l[p]=n[p])}return l}function uo(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Zh(n,a,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function fc(n,a,l){return l=ra(l),l.tag=3,l.payload={element:null},l.callback=function(){uo(n,a)},l}function Qh(n){return n=ra(n),n.tag=3,n}function Wh(n,a,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var S=d.value;n.payload=function(){return p(S)},n.callback=function(){Zh(a,l,d)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Zh(a,l,d),typeof p!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function k2(n,a,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&ln(a,l,p,!0),l=fn.current,l!==null){switch(l.tag){case 13:return On===null?Uc():l.alternate===null&&it===0&&(it=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===ko?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Lc(n,d,p)),!1;case 22:return l.flags|=65536,d===ko?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Lc(n,d,p)),!1}throw Error(s(435,l.tag))}return Lc(n,d,p),Uc(),!1}if(Ye)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==ru&&(n=Error(s(422),{cause:d}),Me(O(n,l)))):(d!==ru&&(a=Error(s(423),{cause:d}),Me(O(a,l))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=O(d,l),p=fc(n.stateNode,d,p),Xl(n,p),it!==4&&(it=2)),!1;var S=Error(s(520),{cause:d});if(S=O(S,l),kr===null?kr=[S]:kr.push(S),it!==4&&(it=2),a===null)return!0;d=O(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=p&-p,l.lanes|=n,n=fc(l.stateNode,d,n),Xl(l,n),!1;case 1:if(a=l.type,S=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Sa===null||!Sa.has(S))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Qh(p),Wh(p,n,l,d),Xl(l,p),!1}l=l.return}while(l!==null);return!1}function At(n,a,l,d){a.child=n===null?Up(a,null,l,d):ki(a,n.child,l,d)}function Jh(n,a,l,d,p){l=l.render;var S=a.ref;if("ref"in d){var w={};for(var F in d)F!=="ref"&&(w[F]=d[F])}else w=d;return Kt(a),d=Jl(n,a,l,w,S,p),F=$l(),n!==null&&!St?(ec(n,a,p),Bn(n,a,p)):(Ye&&F&&V(a),a.flags|=1,At(n,a,d,p),a.child)}function $h(n,a,l,d,p){if(n===null){var S=l.type;return typeof S=="function"&&!Bc(S)&&S.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=S,ef(n,a,S,d,p)):(n=vo(l.type,null,d,a,a.mode,p),n.ref=a.ref,n.return=a,a.child=n)}if(S=n.child,!bc(n,p)){var w=S.memoizedProps;if(l=l.compare,l=l!==null?l:Ws,l(w,d)&&n.ref===a.ref)return Bn(n,a,p)}return a.flags|=1,n=Fn(S,d),n.ref=a.ref,n.return=a,a.child=n}function ef(n,a,l,d,p){if(n!==null){var S=n.memoizedProps;if(Ws(S,d)&&n.ref===a.ref)if(St=!1,a.pendingProps=d=S,bc(n,p))(n.flags&131072)!==0&&(St=!0);else return a.lanes=n.lanes,Bn(n,a,p)}return pc(n,a,l,d,p)}function tf(n,a,l){var d=a.pendingProps,p=d.children,S=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=S!==null?S.baseLanes|l:l,n!==null){for(p=a.child=n.child,S=0;p!==null;)S=S|p.lanes|p.childLanes,p=p.sibling;a.childLanes=S&~d}else a.childLanes=0,a.child=null;return nf(n,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qs(a,S!==null?S.cachePool:null),S!==null?lh(a,S):Zl(),Yh(a);else return a.lanes=a.childLanes=536870912,nf(n,a,S!==null?S.baseLanes|l:l,l)}else S!==null?(Qs(a,S.cachePool),lh(a,S),la(),a.memoizedState=null):(n!==null&&Qs(a,null),Zl(),la());return At(n,a,p,l),a.child}function nf(n,a,l,d){var p=Il();return p=p===null?null:{parent:Vn?at._currentValue:at._currentValue2,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&Qs(a,null),Zl(),Yh(a),n!==null&&ln(n,a,d,!0),null}function ho(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function pc(n,a,l,d,p){return Kt(a),l=Jl(n,a,l,d,void 0,p),d=$l(),n!==null&&!St?(ec(n,a,p),Bn(n,a,p)):(Ye&&d&&V(a),a.flags|=1,At(n,a,l,p),a.child)}function af(n,a,l,d,p,S){return Kt(a),a.updateQueue=null,l=uh(a,d,l,p),ch(n),d=$l(),n!==null&&!St?(ec(n,a,S),Bn(n,a,S)):(Ye&&d&&V(a),a.flags|=1,At(n,a,l,S),a.child)}function rf(n,a,l,d,p){if(Kt(a),a.stateNode===null){var S=_i,w=l.contextType;typeof w=="object"&&w!==null&&(S=Ne(w)),S=new l(d,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=hu,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=d,S.state=a.memoizedState,S.refs={},Yl(a),w=l.contextType,S.context=typeof w=="object"&&w!==null?Ne(w):_i,S.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(hc(a,l,w,d),S.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(w=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),w!==S.state&&hu.enqueueReplaceState(S,S.state,null),dr(a,d,S,p),ur(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){S=a.stateNode;var F=a.memoizedProps,W=wa(l,F);S.props=W;var ie=S.context,le=l.contextType;w=_i,typeof le=="object"&&le!==null&&(w=Ne(le));var he=l.getDerivedStateFromProps;le=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F||ie!==w)&&Xh(a,S,d,w),ya=!1;var fe=a.memoizedState;S.state=fe,dr(a,d,S,p),ur(),ie=a.memoizedState,F||fe!==ie||ya?(typeof he=="function"&&(hc(a,l,he,d),ie=a.memoizedState),(W=ya||Kh(a,l,W,d,fe,ie,w))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ie),S.props=d,S.state=ie,S.context=w,d=W):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{S=a.stateNode,Kl(n,a),w=a.memoizedProps,le=wa(l,w),S.props=le,he=a.pendingProps,fe=S.context,ie=l.contextType,W=_i,typeof ie=="object"&&ie!==null&&(W=Ne(ie)),F=l.getDerivedStateFromProps,(ie=typeof F=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(w!==he||fe!==W)&&Xh(a,S,d,W),ya=!1,fe=a.memoizedState,S.state=fe,dr(a,d,S,p),ur();var Oe=a.memoizedState;w!==he||fe!==Oe||ya||n!==null&&n.dependencies!==null&&Tt(n.dependencies)?(typeof F=="function"&&(hc(a,l,F,d),Oe=a.memoizedState),(le=ya||Kh(a,l,le,d,fe,Oe,W)||n!==null&&n.dependencies!==null&&Tt(n.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Oe,W),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Oe,W)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||w===n.memoizedProps&&fe===n.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&fe===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Oe),S.props=d,S.state=Oe,S.context=W,d=le):(typeof S.componentDidUpdate!="function"||w===n.memoizedProps&&fe===n.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&fe===n.memoizedState||(a.flags|=1024),d=!1)}return S=d,ho(n,a),d=(a.flags&128)!==0,S||d?(S=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,n!==null&&d?(a.child=ki(a,n.child,null,p),a.child=ki(a,null,l,p)):At(n,a,l,p),a.memoizedState=S.state,n=a.child):n=Bn(n,a,p),n}function sf(n,a,l,d){return me(),a.flags|=256,At(n,a,l,d),a.child}function mc(n){return{baseLanes:n,cachePool:eh()}}function gc(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=pn),n}function of(n,a,l){var d=a.pendingProps,p=!1,S=(a.flags&128)!==0,w;if((w=S)||(w=n!==null&&n.memoizedState===null?!1:(yt.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ye){if(p?oa(a):la(),Ye){var F=gt,W;(W=F)&&(F=Jy(F,Nn),F!==null?(a.memoizedState={dehydrated:F,treeContext:Fa!==null?{id:Hn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},W=i(18,null,null,0),W.stateNode=F,W.return=a,a.child=W,Gt=a,gt=null,W=!0):W=!1),W||z(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Jc(F)?a.lanes=32:a.lanes=536870912,null;Ln(a)}return F=d.children,d=d.fallback,p?(la(),p=a.mode,F=fo({mode:"hidden",children:F},p),d=Ga(d,p,l,null),F.return=a,d.return=a,F.sibling=d,a.child=F,p=a.child,p.memoizedState=mc(l),p.childLanes=gc(n,w,l),a.memoizedState=fu,d):(oa(a),yc(a,F))}if(W=n.memoizedState,W!==null&&(F=W.dehydrated,F!==null)){if(S)a.flags&256?(oa(a),a.flags&=-257,a=vc(n,a,l)):a.memoizedState!==null?(la(),a.child=n.child,a.flags|=128,a=null):(la(),p=d.fallback,F=a.mode,d=fo({mode:"visible",children:d.children},F),p=Ga(p,F,l,null),p.flags|=2,d.return=a,p.return=a,d.sibling=p,a.child=d,ki(a,n.child,null,l),d=a.child,d.memoizedState=mc(l),d.childLanes=gc(n,w,l),a.memoizedState=fu,a=p);else if(oa(a),Jc(F))w=Vy(F).digest,d=Error(s(419)),d.stack="",d.digest=w,Me({value:d,source:null,stack:null}),a=vc(n,a,l);else if(St||ln(n,a,l,!1),w=(l&n.childLanes)!==0,St||w){if(w=We,w!==null&&(d=l&-l,d=(d&42)!==0?1:B(d),d=(d&(w.suspendedLanes|l))!==0?0:d,d!==0&&d!==W.retryLane))throw W.retryLane=d,ci(n,d),Jt(w,n,d),Lp;Wc(F)||Uc(),a=vc(n,a,l)}else Wc(F)?(a.flags|=192,a.child=n.child,a=null):(n=W.treeContext,cn&&(gt=Xy(F),Gt=a,Ye=!0,Va=null,Nn=!1,n!==null&&(un[dn++]=Hn,un[dn++]=In,un[dn++]=Fa,Hn=n.id,In=n.overflow,Fa=a)),a=yc(a,d.children),a.flags|=4096);return a}return p?(la(),p=d.fallback,F=a.mode,W=n.child,S=W.sibling,d=Fn(W,{mode:"hidden",children:d.children}),d.subtreeFlags=W.subtreeFlags&65011712,S!==null?p=Fn(S,p):(p=Ga(p,F,l,null),p.flags|=2),p.return=a,d.return=a,d.sibling=p,a.child=d,d=p,p=a.child,F=n.child.memoizedState,F===null?F=mc(l):(W=F.cachePool,W!==null?(S=Vn?at._currentValue:at._currentValue2,W=W.parent!==S?{parent:S,pool:S}:W):W=eh(),F={baseLanes:F.baseLanes|l,cachePool:W}),p.memoizedState=F,p.childLanes=gc(n,w,l),a.memoizedState=fu,d):(oa(a),l=n.child,n=l.sibling,l=Fn(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,n!==null&&(w=a.deletions,w===null?(a.deletions=[n],a.flags|=16):w.push(n)),a.child=l,a.memoizedState=null,l)}function yc(n,a){return a=fo({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function fo(n,a){return n=i(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vc(n,a,l){return ki(a,n.child,null,l),n=yc(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function lf(n,a,l){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),qe(n.return,a,l)}function _c(n,a,l,d,p){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=l,S.tailMode=p)}function cf(n,a,l){var d=a.pendingProps,p=d.revealOrder,S=d.tail;if(At(n,a,d.children,l),d=yt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lf(n,l,a);else if(n.tag===19)lf(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(b(yt,d),p){case"forwards":for(l=a.child,p=null;l!==null;)n=l.alternate,n!==null&&co(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),_c(a,!1,p,l,S);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(n=p.alternate,n!==null&&co(n)===null){a.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}_c(a,!0,l,null,S);break;case"together":_c(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bn(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),ba|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(ln(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Fn(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Fn(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function bc(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Tt(n)))}function P2(n,a,l){switch(a.tag){case 3:I(a,a.stateNode.containerInfo),Ce(a,at,n.memoizedState.cache),me();break;case 27:case 5:ce(a);break;case 4:I(a,a.stateNode.containerInfo);break;case 10:Ce(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(oa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?of(n,a,l):(oa(a),n=Bn(n,a,l),n!==null?n.sibling:null);oa(a);break;case 19:var p=(n.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(ln(n,a,l,!1),d=(l&a.childLanes)!==0),p){if(d)return cf(n,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),b(yt,yt.current),d)break;return null;case 22:case 23:return a.lanes=0,tf(n,a,l);case 24:Ce(a,at,n.memoizedState.cache)}return Bn(n,a,l)}function uf(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)St=!0;else{if(!bc(n,l)&&(a.flags&128)===0)return St=!1,P2(n,a,l);St=(n.flags&131072)!==0}else St=!1,Ye&&(a.flags&1048576)!==0&&L(a,Ro,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var d=a.elementType,p=d._init;if(d=p(d._payload),a.type=d,typeof d=="function")Bc(d)?(n=wa(d,n),a.tag=1,a=rf(null,a,d,n,l)):(a.tag=0,a=pc(null,a,d,n,l));else{if(d!=null){if(p=d.$$typeof,p===qc){a.tag=11,a=Jh(null,a,d,n,l);break e}else if(p===Xc){a.tag=14,a=$h(null,a,d,n,l);break e}}throw a=v(d)||d,Error(s(306,a,""))}}return a;case 0:return pc(n,a,a.type,a.pendingProps,l);case 1:return d=a.type,p=wa(d,a.pendingProps),rf(n,a,d,p,l);case 3:e:{if(I(a,a.stateNode.containerInfo),n===null)throw Error(s(387));var S=a.pendingProps;p=a.memoizedState,d=p.element,Kl(n,a),dr(a,S,null,l);var w=a.memoizedState;if(S=w.cache,Ce(a,at,S),S!==p.cache&&Je(a,[at],l,!0),ur(),S=w.element,cn&&p.isDehydrated)if(p={element:S,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=sf(n,a,S,l);break e}else if(S!==d){d=O(Error(s(424)),a),Me(d),a=sf(n,a,S,l);break e}else for(cn&&(gt=Ky(a.stateNode.containerInfo),Gt=a,Ye=!0,Va=null,Nn=!0),l=Up(a,null,S,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(me(),S===d){a=Bn(n,a,l);break e}At(n,a,S,l)}a=a.child}return a;case 26:if(_n)return ho(n,a),n===null?(l=Sp(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ye||(a.stateNode=uv(a.type,a.pendingProps,ga.current,a)):a.memoizedState=Sp(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:if(mt)return ce(a),n===null&&mt&&Ye&&(d=a.stateNode=Mp(a.type,a.pendingProps,ga.current,Nt.current,!1),Gt=a,Nn=!0,gt=Zy(a.type,d,gt)),At(n,a,a.pendingProps.children,l),ho(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ye&&(ov(a.type,a.pendingProps,Nt.current),(p=d=gt)&&(d=Qy(d,a.type,a.pendingProps,Nn),d!==null?(a.stateNode=d,Gt=a,gt=Yy(d),Nn=!1,p=!0):p=!1),p||z(a)),ce(a),p=a.type,S=a.pendingProps,w=n!==null?n.memoizedProps:null,d=S.children,So(p,S)?d=null:w!==null&&So(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Jl(n,a,M2,null,null,l),Vn?Ba._currentValue=p:Ba._currentValue2=p),ho(n,a),At(n,a,d,l),a.child;case 6:return n===null&&Ye&&(lv(a.pendingProps,Nt.current),(n=l=gt)&&(l=Wy(l,a.pendingProps,Nn),l!==null?(a.stateNode=l,Gt=a,gt=null,n=!0):n=!1),n||z(a)),null;case 13:return of(n,a,l);case 4:return I(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=ki(a,null,d,l):At(n,a,d,l),a.child;case 11:return Jh(n,a,a.type,a.pendingProps,l);case 7:return At(n,a,a.pendingProps,l),a.child;case 8:return At(n,a,a.pendingProps.children,l),a.child;case 12:return At(n,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,Ce(a,a.type,d.value),At(n,a,d.children,l),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,Kt(a),p=Ne(p),d=d(p),a.flags|=1,At(n,a,d,l),a.child;case 14:return $h(n,a,a.type,a.pendingProps,l);case 15:return ef(n,a,a.type,a.pendingProps,l);case 19:return cf(n,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},n===null?(l=fo(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Fn(n.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return tf(n,a,l);case 24:return Kt(a),d=Ne(at),n===null?(p=Il(),p===null&&(p=We,S=yn(),p.pooledCache=S,S.refCount++,S!==null&&(p.pooledCacheLanes|=l),p=S),a.memoizedState={parent:d,cache:p},Yl(a),Ce(a,at,p)):((n.lanes&l)!==0&&(Kl(n,a),dr(a,null,null,l),ur()),p=n.memoizedState,S=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ce(a,at,d)):(d=S.cache,Ce(a,at,d),d!==p.cache&&Je(a,[at],l,!0))),At(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Qt(n){n.flags|=4}function df(n,a){if(n!==null&&n.child===a.child)return!1;if((a.flags&16)!==0)return!0;for(n=a.child;n!==null;){if((n.flags&13878)!==0||(n.subtreeFlags&13878)!==0)return!0;n=n.sibling}return!1}function Sc(n,a,l,d){if(kt)for(l=a.child;l!==null;){if(l.tag===5||l.tag===6)Qc(n,l.stateNode);else if(!(l.tag===4||mt&&l.tag===27)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else if(ma)for(var p=a.child;p!==null;){if(p.tag===5){var S=p.stateNode;l&&d&&(S=gp(S,p.type,p.memoizedProps)),Qc(n,S)}else if(p.tag===6)S=p.stateNode,l&&d&&(S=yp(S,p.memoizedProps)),Qc(n,S);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)S=p.child,S!==null&&(S.return=p),Sc(n,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}}function hf(n,a,l,d){var p=!1;if(ma)for(var S=a.child;S!==null;){if(S.tag===5){var w=S.stateNode;l&&d&&(w=gp(w,S.type,S.memoizedProps)),pp(n,w)}else if(S.tag===6)w=S.stateNode,l&&d&&(w=yp(w,S.memoizedProps)),pp(n,w);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)p=S.child,p!==null&&(p.return=S),hf(n,S,!0,!0),p=!0;else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===a)break;for(;S.sibling===null;){if(S.return===null||S.return===a)return p;S=S.return}S.sibling.return=S.return,S=S.sibling}return p}function ff(n,a){if(ma&&df(n,a)){n=a.stateNode;var l=n.containerInfo,d=fp();hf(d,a,!1,!1),n.pendingChildren=d,Qt(a),Fy(l,d)}}function Cc(n,a,l,d){if(kt)n.memoizedProps!==d&&Qt(a);else if(ma){var p=n.stateNode,S=n.memoizedProps;if((n=df(n,a))||S!==d){var w=Nt.current;S=By(p,l,S,d,!n,null),S===p?a.stateNode=p:(lp(S,l,d,w)&&Qt(a),a.stateNode=S,n?Sc(S,a,!1,!1):Qt(a))}else a.stateNode=p}}function xc(n,a,l){if(fy(a,l)){if(n.flags|=16777216,!up(a,l))if(Lf())n.flags|=8192;else throw Ri=ko,cu}else n.flags&=-16777217}function pf(n,a){if(hv(a)){if(n.flags|=16777216,!Rp(a))if(Lf())n.flags|=8192;else throw Ri=ko,cu}else n.flags&=-16777217}function po(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?R():536870912,n.lanes|=a,zi|=a)}function gr(n,a){if(!Ye)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function tt(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(a)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=l,a}function w2(n,a,l){var d=a.pendingProps;switch(ee(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(a),null;case 1:return tt(a),null;case 3:return l=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Qe(at),te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ue(a)?Qt(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Se())),ff(n,a),tt(a),null;case 26:if(_n){l=a.type;var p=a.memoizedState;return n===null?(Qt(a),p!==null?(tt(a),pf(a,p)):(tt(a),xc(a,l,d))):p?p!==n.memoizedState?(Qt(a),tt(a),pf(a,p)):(tt(a),a.flags&=-16777217):(kt?n.memoizedProps!==d&&Qt(a):Cc(n,a,l,d),tt(a),xc(a,l,d)),null}case 27:if(mt){if(J(a),l=ga.current,p=a.type,n!==null&&a.stateNode!=null)kt?n.memoizedProps!==d&&Qt(a):Cc(n,a,p,d);else{if(!d){if(a.stateNode===null)throw Error(s(166));return tt(a),null}n=Nt.current,ue(a)?Z(a,n):(n=Mp(p,d,l,n,!0),a.stateNode=n,Qt(a))}return tt(a),null}case 5:if(J(a),l=a.type,n!==null&&a.stateNode!=null)Cc(n,a,l,d);else{if(!d){if(a.stateNode===null)throw Error(s(166));return tt(a),null}n=Nt.current,ue(a)?Z(a,n):(p=ry(l,d,ga.current,n,a),Sc(p,a,!1,!1),a.stateNode=p,lp(p,l,d,n)&&Qt(a))}return tt(a),xc(a,a.type,a.pendingProps),null;case 6:if(n&&a.stateNode!=null)l=n.memoizedProps,kt?l!==d&&Qt(a):ma&&(l!==d?(a.stateNode=cp(d,ga.current,Nt.current,a),Qt(a)):a.stateNode=n.stateNode);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(n=ga.current,l=Nt.current,ue(a)){if(!cn)throw Error(s(176));if(n=a.stateNode,l=a.memoizedProps,d=null,p=Gt,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}ev(n,l,a,d)||z(a)}else a.stateNode=cp(d,n,l,a)}return tt(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=ue(a),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(!cn)throw Error(s(344));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));tv(p,a)}else me(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),p=!1}else p=Se(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ln(a),a):(Ln(a),null)}if(Ln(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==p&&(d.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),po(a,a.updateQueue),tt(a),null;case 4:return te(),ff(n,a),n===null&&cy(a.stateNode.containerInfo),tt(a),null;case 10:return Qe(a.type),tt(a),null;case 19:if(y(yt),p=a.memoizedState,p===null)return tt(a),null;if(d=(a.flags&128)!==0,S=p.rendering,S===null)if(d)gr(p,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(S=co(n),S!==null){for(a.flags|=128,gr(p,!1),n=S.updateQueue,a.updateQueue=n,po(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Jf(l,n),l=l.sibling;return b(yt,yt.current&1|2),a.child}n=n.sibling}p.tail!==null&&bn()>Pr&&(a.flags|=128,d=!0,gr(p,!1),a.lanes=4194304)}else{if(!d)if(n=co(S),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,po(a,n),gr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ye)return tt(a),null}else 2*bn()-p.renderingStartTime>Pr&&l!==536870912&&(a.flags|=128,d=!0,gr(p,!1),a.lanes=4194304);p.isBackwards?(S.sibling=a.child,a.child=S):(n=p.last,n!==null?n.sibling=S:a.child=S,p.last=S)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=bn(),a.sibling=null,n=yt.current,b(yt,d?n&1|2:n&1),a):(tt(a),null);case 22:case 23:return Ln(a),Ql(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(tt(a),a.subtreeFlags&6&&(a.flags|=8192)):tt(a),l=a.updateQueue,l!==null&&po(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),n!==null&&y(Ha),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Qe(at),tt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function z2(n,a){switch(ee(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Qe(at),te(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return J(a),null;case 13:if(Ln(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));me()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return y(yt),null;case 4:return te(),null;case 10:return Qe(a.type),null;case 22:case 23:return Ln(a),Ql(),n!==null&&y(Ha),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Qe(at),null;case 25:return null;default:return null}}function mf(n,a){switch(ee(a),a.tag){case 3:Qe(at),te();break;case 26:case 27:case 5:J(a);break;case 4:te();break;case 13:Ln(a);break;case 19:y(yt);break;case 10:Qe(a.type);break;case 22:case 23:Ln(a),Ql(),n!==null&&y(Ha);break;case 24:Qe(at)}}function yr(n,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){d=void 0;var S=l.create,w=l.inst;d=S(),w.destroy=d}l=l.next}while(l!==p)}}catch(F){Ke(a,a.return,F)}}function ca(n,a,l){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var S=p.next;d=S;do{if((d.tag&n)===n){var w=d.inst,F=w.destroy;if(F!==void 0){w.destroy=void 0,p=a;var W=l,ie=F;try{ie()}catch(le){Ke(p,W,le)}}}d=d.next}while(d!==S)}}catch(le){Ke(a,a.return,le)}}function gf(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{oh(a,l)}catch(d){Ke(n,n.return,d)}}}function yf(n,a,l){l.props=wa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){Ke(n,a,d)}}function vr(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=Cr(n.stateNode);break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(p){Ke(n,a,p)}}function Mn(n,a){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){Ke(n,a,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ke(n,a,p)}else l.current=null}function vf(n){var a=n.type,l=n.memoizedProps,d=n.stateNode;try{Ay(d,a,l,n)}catch(p){Ke(n,n.return,p)}}function Ec(n,a,l){try{Ny(n.stateNode,n.type,l,a,n)}catch(d){Ke(n,n.return,d)}}function _f(n){return n.tag===5||n.tag===3||(_n?n.tag===26:!1)||(mt?n.tag===27&&yi(n.type):!1)||n.tag===4}function Tc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_f(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(mt&&n.tag===27&&yi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rc(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?Dy(l,n,a):Ry(l,n);else if(d!==4&&(mt&&d===27&&yi(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(Rc(n,a,l),n=n.sibling;n!==null;)Rc(n,a,l),n=n.sibling}function mo(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?Oy(l,n,a):Ty(l,n);else if(d!==4&&(mt&&d===27&&yi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(mo(n,a,l),n=n.sibling;n!==null;)mo(n,a,l),n=n.sibling}function bf(n,a,l){n=n.containerInfo;try{mp(n,l)}catch(d){Ke(a,a.return,d)}}function Sf(n){var a=n.stateNode,l=n.memoizedProps;try{pv(n.type,l,a,n)}catch(d){Ke(n,n.return,d)}}function U2(n,a){for(ay(n.containerInfo),Ct=a;Ct!==null;)if(n=Ct,a=n.child,(n.subtreeFlags&1024)!==0&&a!==null)a.return=n,Ct=a;else for(;Ct!==null;){n=Ct;var l=n.alternate;switch(a=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&l!==null){a=void 0;var d=n,p=l.memoizedProps;l=l.memoizedState;var S=d.stateNode;try{var w=wa(d.type,p,d.elementType===d.type);a=S.getSnapshotBeforeUpdate(w,l),S.__reactInternalSnapshotBeforeUpdate=a}catch(F){Ke(d,d.return,F)}}break;case 3:(a&1024)!==0&&kt&&Ly(n.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=n.sibling,a!==null){a.return=n.return,Ct=a;break}Ct=n.return}}function Cf(n,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:ua(n,l),d&4&&yr(5,l);break;case 1:if(ua(n,l),d&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(w){Ke(l,l.return,w)}else{var p=wa(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(p,a,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Ke(l,l.return,w)}}d&64&&gf(l),d&512&&vr(l,l.return);break;case 3:if(ua(n,l),d&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=Cr(l.child.stateNode);break;case 1:a=l.child.stateNode}try{oh(n,a)}catch(w){Ke(l,l.return,w)}}break;case 27:mt&&a===null&&d&4&&Sf(l);case 26:case 5:ua(n,l),a===null&&d&4&&vf(l),d&512&&vr(l,l.return);break;case 12:ua(n,l);break;case 13:ua(n,l),d&4&&Ef(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=H2.bind(null,l),jy(n,l))));break;case 22:if(d=l.memoizedState!==null||Yn,!d){a=a!==null&&a.memoizedState!==null||ot,p=Yn;var S=ot;Yn=d,(ot=a)&&!S?da(n,l,(l.subtreeFlags&8772)!==0):ua(n,l),Yn=p,ot=S}break;case 30:break;default:ua(n,l)}}function xf(n){var a=n.alternate;a!==null&&(n.alternate=null,xf(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&hy(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function vn(n,a,l){for(l=l.child;l!==null;)Mc(n,a,l),l=l.sibling}function Mc(n,a,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Tr,l)}catch{}switch(l.tag){case 26:if(_n){ot||Mn(l,a),vn(n,a,l),l.memoizedState?xp(l.memoizedState):l.stateNode&&Tp(l.stateNode);break}case 27:if(mt){ot||Mn(l,a);var d=ht,p=jt;yi(l.type)&&(ht=l.stateNode,jt=!1),vn(n,a,l),Ap(l.stateNode),ht=d,jt=p;break}case 5:ot||Mn(l,a);case 6:if(kt){if(d=ht,p=jt,ht=null,vn(n,a,l),ht=d,jt=p,ht!==null)if(jt)try{Py(ht,l.stateNode)}catch(S){Ke(l,a,S)}else try{ky(ht,l.stateNode)}catch(S){Ke(l,a,S)}}else vn(n,a,l);break;case 18:kt&&ht!==null&&(jt?sv(ht,l.stateNode):rv(ht,l.stateNode));break;case 4:kt?(d=ht,p=jt,ht=l.stateNode.containerInfo,jt=!0,vn(n,a,l),ht=d,jt=p):(ma&&bf(l.stateNode,l,fp()),vn(n,a,l));break;case 0:case 11:case 14:case 15:ot||ca(2,l,a),ot||ca(4,l,a),vn(n,a,l);break;case 1:ot||(Mn(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&yf(l,a,d)),vn(n,a,l);break;case 21:vn(n,a,l);break;case 22:ot=(d=ot)||l.memoizedState!==null,vn(n,a,l),ot=d;break;default:vn(n,a,l)}}function Ef(n,a){if(cn&&a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{iv(n)}catch(l){Ke(a,a.return,l)}}function G2(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Bp),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Bp),a;default:throw Error(s(435,n.tag))}}function Ac(n,a){var l=G2(n);a.forEach(function(d){var p=I2.bind(null,n,d);l.has(d)||(l.add(d),d.then(p,p))})}function Ut(n,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],S=n,w=a;if(kt){var F=w;e:for(;F!==null;){switch(F.tag){case 27:if(mt){if(yi(F.type)){ht=F.stateNode,jt=!1;break e}break}case 5:ht=F.stateNode,jt=!1;break e;case 3:case 4:ht=F.stateNode.containerInfo,jt=!0;break e}F=F.return}if(ht===null)throw Error(s(160));Mc(S,w,p),ht=null,jt=!1}else Mc(S,w,p);S=p.alternate,S!==null&&(S.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Tf(a,n),a=a.sibling}function Tf(n,a){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ut(a,n),Vt(n),d&4&&(ca(3,n,n.return),yr(3,n),ca(5,n,n.return));break;case 1:Ut(a,n),Vt(n),d&512&&(ot||l===null||Mn(l,l.return)),d&64&&Yn&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:if(_n){var p=Sn;if(Ut(a,n),Vt(n),d&512&&(ot||l===null||Mn(l,l.return)),d&4){d=l!==null?l.memoizedState:null;var S=n.memoizedState;l===null?S===null?n.stateNode===null?n.stateNode=cv(p,n.type,n.memoizedProps,n):Ep(p,n.type,n.stateNode):n.stateNode=Cp(p,S,n.memoizedProps):d!==S?(d===null?l.stateNode!==null&&Tp(l.stateNode):xp(d),S===null?Ep(p,n.type,n.stateNode):Cp(p,S,n.memoizedProps)):S===null&&n.stateNode!==null&&Ec(n,n.memoizedProps,l.memoizedProps)}break}case 27:if(mt){Ut(a,n),Vt(n),d&512&&(ot||l===null||Mn(l,l.return)),l!==null&&d&4&&Ec(n,n.memoizedProps,l.memoizedProps);break}case 5:if(Ut(a,n),Vt(n),d&512&&(ot||l===null||Mn(l,l.return)),kt){if(n.flags&32){p=n.stateNode;try{hp(p)}catch(le){Ke(n,n.return,le)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,Ec(n,p,l!==null?l.memoizedProps:p)),d&1024&&(pu=!0)}break;case 6:if(Ut(a,n),Vt(n),d&4&&kt){if(n.stateNode===null)throw Error(s(162));d=n.memoizedProps,l=l!==null?l.memoizedProps:d,p=n.stateNode;try{My(p,l,d)}catch(le){Ke(n,n.return,le)}}break;case 3:if(_n?(dv(),p=Sn,Sn=$c(a.containerInfo),Ut(a,n),Sn=p):Ut(a,n),Vt(n),d&4){if(kt&&cn&&l!==null&&l.memoizedState.isDehydrated)try{av(a.containerInfo)}catch(le){Ke(n,n.return,le)}if(ma){d=a.containerInfo,l=a.pendingChildren;try{mp(d,l)}catch(le){Ke(n,n.return,le)}}}pu&&(pu=!1,Rf(n));break;case 4:_n?(l=Sn,Sn=$c(n.stateNode.containerInfo),Ut(a,n),Vt(n),Sn=l):(Ut(a,n),Vt(n)),d&4&&ma&&bf(n.stateNode,n,n.stateNode.pendingChildren);break;case 12:Ut(a,n),Vt(n);break;case 13:Ut(a,n),Vt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vu=bn()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ac(n,d)));break;case 22:p=n.memoizedState!==null;var w=l!==null&&l.memoizedState!==null,F=Yn,W=ot;if(Yn=F||p,ot=W||w,Ut(a,n),ot=W,Yn=F,Vt(n),d&8192&&(a=n.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||w||Yn||ot||za(n)),kt)){e:if(l=null,kt)for(a=n;;){if(a.tag===5||_n&&a.tag===26){if(l===null){w=l=a;try{S=w.stateNode,p?wy(S):Uy(w.stateNode,w.memoizedProps)}catch(le){Ke(w,w.return,le)}}}else if(a.tag===6){if(l===null){w=a;try{var ie=w.stateNode;p?zy(ie):Gy(ie,w.memoizedProps)}catch(le){Ke(w,w.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Ac(n,l))));break;case 19:Ut(a,n),Vt(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ac(n,d)));break;case 30:break;case 21:break;default:Ut(a,n),Vt(n)}}function Vt(n){var a=n.flags;if(a&2){try{if(kt){for(var l,d=n.return;d!==null;){if(_f(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:if(mt){var p=l.stateNode,S=Tc(n);mo(n,S,p);break}case 5:var w=l.stateNode;l.flags&32&&(hp(w),l.flags&=-33);var F=Tc(n);mo(n,F,w);break;case 3:case 4:var W=l.stateNode.containerInfo,ie=Tc(n);Rc(n,ie,W);break;default:throw Error(s(161))}}}catch(le){Ke(n,n.return,le)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Rf(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Rf(a),a.tag===5&&a.flags&1024&&gy(a.stateNode),n=n.sibling}}function ua(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Cf(n,a.alternate,a),a=a.sibling}function za(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ca(4,a,a.return),za(a);break;case 1:Mn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&yf(a,a.return,l),za(a);break;case 27:mt&&Ap(a.stateNode);case 26:case 5:Mn(a,a.return),za(a);break;case 22:a.memoizedState===null&&za(a);break;case 30:za(a);break;default:za(a)}n=n.sibling}}function da(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=n,S=a,w=S.flags;switch(S.tag){case 0:case 11:case 15:da(p,S,l),yr(4,S);break;case 1:if(da(p,S,l),d=S,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ie){Ke(d,d.return,ie)}if(d=S,p=d.updateQueue,p!==null){var F=d.stateNode;try{var W=p.shared.hiddenCallbacks;if(W!==null)for(p.shared.hiddenCallbacks=null,p=0;p<W.length;p++)sh(W[p],F)}catch(ie){Ke(d,d.return,ie)}}l&&w&64&&gf(S),vr(S,S.return);break;case 27:mt&&Sf(S);case 26:case 5:da(p,S,l),l&&d===null&&w&4&&vf(S),vr(S,S.return);break;case 12:da(p,S,l);break;case 13:da(p,S,l),l&&w&4&&Ef(p,S);break;case 22:S.memoizedState===null&&da(p,S,l),vr(S,S.return);break;case 30:break;default:da(p,S,l)}a=a.sibling}}function Nc(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&ct(l))}function Oc(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&ct(n))}function An(n,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mf(n,a,l,d),a=a.sibling}function Mf(n,a,l,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:An(n,a,l,d),p&2048&&yr(9,a);break;case 1:An(n,a,l,d);break;case 3:An(n,a,l,d),p&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&ct(n)));break;case 12:if(p&2048){An(n,a,l,d),n=a.stateNode;try{var S=a.memoizedProps,w=S.id,F=S.onPostCommit;typeof F=="function"&&F(w,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(W){Ke(a,a.return,W)}}else An(n,a,l,d);break;case 13:An(n,a,l,d);break;case 23:break;case 22:S=a.stateNode,w=a.alternate,a.memoizedState!==null?S._visibility&2?An(n,a,l,d):_r(n,a):S._visibility&2?An(n,a,l,d):(S._visibility|=2,di(n,a,l,d,(a.subtreeFlags&10256)!==0)),p&2048&&Nc(w,a);break;case 24:An(n,a,l,d),p&2048&&Oc(a.alternate,a);break;default:An(n,a,l,d)}}function di(n,a,l,d,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=n,w=a,F=l,W=d,ie=w.flags;switch(w.tag){case 0:case 11:case 15:di(S,w,F,W,p),yr(8,w);break;case 23:break;case 22:var le=w.stateNode;w.memoizedState!==null?le._visibility&2?di(S,w,F,W,p):_r(S,w):(le._visibility|=2,di(S,w,F,W,p)),p&&ie&2048&&Nc(w.alternate,w);break;case 24:di(S,w,F,W,p),p&&ie&2048&&Oc(w.alternate,w);break;default:di(S,w,F,W,p)}a=a.sibling}}function _r(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,d=a,p=d.flags;switch(d.tag){case 22:_r(l,d),p&2048&&Nc(d.alternate,d);break;case 24:_r(l,d),p&2048&&Oc(d.alternate,d);break;default:_r(l,d)}a=a.sibling}}function Ua(n){if(n.subtreeFlags&Pi)for(n=n.child;n!==null;)Af(n),n=n.sibling}function Af(n){switch(n.tag){case 26:Ua(n),n.flags&Pi&&(n.memoizedState!==null?fv(Sn,n.memoizedState,n.memoizedProps):dp(n.type,n.memoizedProps));break;case 5:Ua(n),n.flags&Pi&&dp(n.type,n.memoizedProps);break;case 3:case 4:if(_n){var a=Sn;Sn=$c(n.stateNode.containerInfo),Ua(n),Sn=a}else Ua(n);break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Pi,Pi=16777216,Ua(n),Pi=a):Ua(n));break;default:Ua(n)}}function Nf(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function br(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];Ct=d,Df(d,n)}Nf(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Of(n),n=n.sibling}function Of(n){switch(n.tag){case 0:case 11:case 15:br(n),n.flags&2048&&ca(9,n,n.return);break;case 3:br(n);break;case 12:br(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,go(n)):br(n);break;default:br(n)}}function go(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];Ct=d,Df(d,n)}Nf(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ca(8,a,a.return),go(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,go(a));break;default:go(a)}n=n.sibling}}function Df(n,a){for(;Ct!==null;){var l=Ct;switch(l.tag){case 0:case 11:case 15:ca(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ct(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Ct=d;else e:for(l=n;Ct!==null;){d=Ct;var p=d.sibling,S=d.return;if(xf(d),d===l){Ct=null;break e}if(p!==null){p.return=S,Ct=p;break e}Ct=S}}}function Dc(n){var a=ly(n);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(s(364));return a}if(n=_y(n),n===null)throw Error(s(362));return n.stateNode.current}function kc(n,a){var l=n.tag;switch(a.$$typeof){case Go:if(n.type===a.value)return!0;break;case Lo:e:{for(a=a.value,n=[n,0],l=0;l<n.length;){var d=n[l++],p=d.tag,S=n[l++],w=a[S];if(p!==5&&p!==26&&p!==27||!Er(d)){for(;w!=null&&kc(d,w);)S++,w=a[S];if(S===a.length){a=!0;break e}else for(d=d.child;d!==null;)n.push(d,S),d=d.sibling}}a=!1}return a;case Bo:if((l===5||l===26||l===27)&&Cy(n.stateNode,a.value))return!0;break;case Vo:if((l===5||l===6||l===26||l===27)&&(n=Sy(n),n!==null&&0<=n.indexOf(a.value)))return!0;break;case Fo:if((l===5||l===26||l===27)&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Pc(n){switch(n.$$typeof){case Go:return"<"+(v(n.value)||"Unknown")+">";case Lo:return":has("+(Pc(n)||"")+")";case Bo:return'[role="'+n.value+'"]';case Vo:return'"'+n.value+'"';case Fo:return'[data-testname="'+n.value+'"]';default:throw Error(s(365))}}function kf(n,a){var l=[];n=[n,0];for(var d=0;d<n.length;){var p=n[d++],S=p.tag,w=n[d++],F=a[w];if(S!==5&&S!==26&&S!==27||!Er(p)){for(;F!=null&&kc(p,F);)w++,F=a[w];if(w===a.length)l.push(p);else for(p=p.child;p!==null;)n.push(p,w),p=p.sibling}}return l}function wc(n,a){if(!xr)throw Error(s(363));n=Dc(n),n=kf(n,a),a=[],n=Array.from(n);for(var l=0;l<n.length;){var d=n[l++],p=d.tag;if(p===5||p===26||p===27)Er(d)||a.push(d.stateNode);else for(d=d.child;d!==null;)n.push(d),d=d.sibling}return a}function Wt(){if((Be&2)!==0&&Fe!==0)return Fe&-Fe;if(xe.T!==null){var n=Ei;return n!==0?n:lr()}return uy()}function Pf(){pn===0&&(pn=(Fe&536870912)===0||Ye?E():536870912);var n=fn.current;return n!==null&&(n.flags|=32),pn}function Jt(n,a,l){(n===We&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(hi(n,0),ha(n,Fe,pn,!1)),G(n,l),((Be&2)===0||n!==We)&&(n===We&&((Be&2)===0&&(qa|=l),it===4&&ha(n,Fe,pn,!1)),pt(n))}function wf(n,a,l){if((Be&6)!==0)throw Error(s(327));var d=!l&&(a&124)===0&&(a&n.expiredLanes)===0||x(n,a),p=d?F2(n,a):Gc(n,a,!0),S=d;do{if(p===0){wi&&!d&&ha(n,a,0,!1);break}else{if(l=n.current.alternate,S&&!L2(l)){p=Gc(n,a,!1),S=!1;continue}if(p===2){if(S=a,n.errorRecoveryDisabledLanes&S)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var F=n;p=kr;var W=cn&&F.current.memoizedState.isDehydrated;if(W&&(hi(F,w).flags|=256),w=Gc(F,w,!1),w!==2){if(mu&&!W){F.errorRecoveryDisabledLanes|=S,qa|=S,p=4;break e}S=Ht,Ht=p,S!==null&&(Ht===null?Ht=S:Ht.push.apply(Ht,S))}p=w}if(S=!1,p!==2)continue}}if(p===1){hi(n,0),ha(n,a,0,!0);break}e:{switch(d=n,S=p,S){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ha(d,a,pn,!_a);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(p=vu+300-bn(),10<p)){if(ha(d,a,pn,!_a),N(d,0,!0)!==0)break e;d.timeoutHandle=sy(zf.bind(null,d,l,Ht,jo,yu,a,pn,qa,zi,_a,S,2,-0,0),p);break e}zf(d,l,Ht,jo,yu,a,pn,qa,zi,_a,S,0,-0,0)}}break}while(!0);pt(n)}function zf(n,a,l,d,p,S,w,F,W,ie,le,he,fe,Oe){if(n.timeoutHandle=La,he=a.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(py(),Af(a),he=my(),he!==null)){n.cancelPendingCommit=he(If.bind(null,n,a,S,l,d,p,w,F,W,le,1,fe,Oe)),ha(n,S,w,!ie);return}If(n,a,S,l,d,p,w,F,W)}function L2(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],S=p.getSnapshot;p=p.value;try{if(!nn(S(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ha(n,a,l,d){a&=~gu,a&=~qa,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var p=a;0<p;){var S=31-en(p),w=1<<S;d[S]=-1,p&=~w}l!==0&&D(n,l,a)}function Uf(){return(Be&6)===0?(_t(0),!1):!0}function zc(){if(Ue!==null){if(Xe===0)var n=Ue.return;else n=Ue,qn=ja=null,tc(n),Di=null,Or=0,n=Ue;for(;n!==null;)mf(n.alternate,n),n=n.return;Ue=null}}function hi(n,a){var l=n.timeoutHandle;l!==La&&(n.timeoutHandle=La,oy(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),zc(),We=n,Ue=l=Fn(n.current,null),Fe=a,Xe=0,an=null,_a=!1,wi=x(n,a),mu=!1,zi=pn=gu=qa=ba=it=0,Ht=kr=null,yu=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var p=31-en(d),S=1<<p;a|=n[p],d&=~S}return Kn=a,$s(),l}function Gf(n,a){ke=null,xe.H=Uo,a===Ar||a===Do?(a=ah(),Xe=3):a===cu?(a=ah(),Xe=4):Xe=a===Lp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,an=a,Ue===null&&(it=1,uo(n,O(a,n.current)))}function Lf(){var n=fn.current;return n===null?!0:(Fe&4194048)===Fe?On===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===On:!1}function Bf(){var n=xe.H;return xe.H=Uo,n===null?Uo:n}function Ff(){var n=xe.A;return xe.A=Nv,n}function Uc(){it=4,_a||(Fe&4194048)!==Fe&&fn.current!==null||(wi=!0),(ba&134217727)===0&&(qa&134217727)===0||We===null||ha(We,Fe,pn,!1)}function Gc(n,a,l){var d=Be;Be|=2;var p=Bf(),S=Ff();(We!==n||Fe!==a)&&(jo=null,hi(n,a)),a=!1;var w=it;e:do try{if(Xe!==0&&Ue!==null){var F=Ue,W=an;switch(Xe){case 8:zc(),w=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var ie=Xe;if(Xe=0,an=null,fi(n,F,W,ie),l&&wi){w=0;break e}break;default:ie=Xe,Xe=0,an=null,fi(n,F,W,ie)}}B2(),w=it;break}catch(le){Gf(n,le)}while(!0);return a&&n.shellSuspendCounter++,qn=ja=null,Be=d,xe.H=p,xe.A=S,Ue===null&&(We=null,Fe=0,$s()),w}function B2(){for(;Ue!==null;)Vf(Ue)}function F2(n,a){var l=Be;Be|=2;var d=Bf(),p=Ff();We!==n||Fe!==a?(jo=null,Pr=bn()+500,hi(n,a)):wi=x(n,a);e:do try{if(Xe!==0&&Ue!==null){a=Ue;var S=an;t:switch(Xe){case 1:Xe=0,an=null,fi(n,a,S,1);break;case 2:case 9:if(th(S)){Xe=0,an=null,jf(a);break}a=function(){Xe!==2&&Xe!==9||We!==n||(Xe=7),pt(n)},S.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:th(S)?(Xe=0,an=null,jf(a)):(Xe=0,an=null,fi(n,a,S,7));break;case 5:var w=null;switch(Ue.tag){case 26:w=Ue.memoizedState;case 5:case 27:var F=Ue,W=F.type,ie=F.pendingProps;if(w?Rp(w):up(W,ie)){Xe=0,an=null;var le=F.sibling;if(le!==null)Ue=le;else{var he=F.return;he!==null?(Ue=he,yo(he)):Ue=null}break t}}Xe=0,an=null,fi(n,a,S,5);break;case 6:Xe=0,an=null,fi(n,a,S,6);break;case 8:zc(),it=6;break e;default:throw Error(s(462))}}V2();break}catch(fe){Gf(n,fe)}while(!0);return qn=ja=null,xe.H=d,xe.A=p,Be=l,Ue!==null?0:(We=null,Fe=0,$s(),it)}function V2(){for(;Ue!==null&&!yv();)Vf(Ue)}function Vf(n){var a=uf(n.alternate,n,Kn);n.memoizedProps=n.pendingProps,a===null?yo(n):Ue=a}function jf(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=af(l,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=af(l,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:tc(a);default:mf(l,a),a=Ue=Jf(a,Kn),a=uf(l,a,Kn)}n.memoizedProps=n.pendingProps,a===null?yo(n):Ue=a}function fi(n,a,l,d){qn=ja=null,tc(a),Di=null,Or=0;var p=a.return;try{if(k2(n,p,a,l,Fe)){it=1,uo(n,O(l,n.current)),Ue=null;return}}catch(S){if(p!==null)throw Ue=p,S;it=1,uo(n,O(l,n.current)),Ue=null;return}a.flags&32768?(Ye||d===1?n=!0:wi||(Fe&536870912)!==0?n=!1:(_a=n=!0,(d===2||d===9||d===3||d===6)&&(d=fn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Hf(a,n)):yo(a)}function yo(n){var a=n;do{if((a.flags&32768)!==0){Hf(a,_a);return}n=a.return;var l=w2(a.alternate,a,Kn);if(l!==null){Ue=l;return}if(a=a.sibling,a!==null){Ue=a;return}Ue=a=n}while(a!==null);it===0&&(it=5)}function Hf(n,a){do{var l=z2(n.alternate,n);if(l!==null){l.flags&=32767,Ue=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=l}while(n!==null);it=6,Ue=null}function If(n,a,l,d,p,S,w,F,W){n.cancelPendingCommit=null;do Sr();while(Ot!==0);if((Be&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(S=a.lanes|a.childLanes,S|=uu,M(n,l,S,w,F,W),n===We&&(Ue=We=null,Fe=0),Ui=a,Ca=n,Gi=l,_u=S,bu=p,Fp=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,q2(nu,function(){return Zf(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=xe.T,xe.T=null,p=jn(),bt(2),w=Be,Be|=4;try{U2(n,a,l)}finally{Be=w,bt(p),xe.T=d}}Ot=1,qf(),Yf(),Kf()}}function qf(){if(Ot===1){Ot=0;var n=Ca,a=Ui,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=xe.T,xe.T=null;var d=jn();bt(2);var p=Be;Be|=4;try{Tf(a,n),iy(n.containerInfo)}finally{Be=p,bt(d),xe.T=l}}n.current=a,Ot=2}}function Yf(){if(Ot===2){Ot=0;var n=Ca,a=Ui,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=xe.T,xe.T=null;var d=jn();bt(2);var p=Be;Be|=4;try{Cf(n,a.alternate,a)}finally{Be=p,bt(d),xe.T=l}}Ot=3}}function Kf(){if(Ot===4||Ot===3){Ot=0,vv();var n=Ca,a=Ui,l=Gi,d=Fp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,Ui=Ca=null,Xf(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Sa=null),j(l),a=a.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Tr,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=xe.T,p=jn(),bt(2),xe.T=null;try{for(var S=n.onRecoverableError,w=0;w<d.length;w++){var F=d[w];S(F.value,{componentStack:F.stack})}}finally{xe.T=a,bt(p)}}(Gi&3)!==0&&Sr(),pt(n),p=n.pendingLanes,(l&4194090)!==0&&(p&42)!==0?n===Su?wr++:(wr=0,Su=n):wr=0,_t(0)}}function Xf(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,ct(a)))}function Sr(n){return qf(),Yf(),Kf(),Zf()}function Zf(){if(Ot!==5)return!1;var n=Ca,a=_u;_u=0;var l=j(Gi),d=32>l?32:l;l=xe.T;var p=jn();try{bt(d),xe.T=null,d=bu,bu=null;var S=Ca,w=Gi;if(Ot=0,Ui=Ca=null,Gi=0,(Be&6)!==0)throw Error(s(331));var F=Be;if(Be|=4,Of(S.current),Mf(S,S.current,w,d),Be=F,_t(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Tr,S)}catch{}return!0}finally{bt(p),xe.T=l,Xf(n,a)}}function Qf(n,a,l){a=O(l,a),a=fc(n.stateNode,a,2),n=sa(n,a,2),n!==null&&(G(n,2),pt(n))}function Ke(n,a,l){if(n.tag===3)Qf(n,n,l);else for(;a!==null;){if(a.tag===3){Qf(a,n,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Sa===null||!Sa.has(d))){n=O(l,n),l=Qh(2),d=sa(a,l,2),d!==null&&(Wh(l,d,a,n),G(d,2),pt(d));break}}a=a.return}}function Lc(n,a,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Ov;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(l)||(mu=!0,p.add(l),n=j2.bind(null,n,a,l),a.then(n,n))}function j2(n,a,l){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,We===n&&(Fe&l)===l&&(it===4||it===3&&(Fe&62914560)===Fe&&300>bn()-vu?(Be&2)===0&&hi(n,0):gu|=l,zi===Fe&&(zi=0)),pt(n)}function Wf(n,a){a===0&&(a=R()),n=ci(n,a),n!==null&&(G(n,a),pt(n))}function H2(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),Wf(n,l)}function I2(n,a){var l=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),Wf(n,l)}function q2(n,a){return Eo(n,a)}function Y2(n,a,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,a){var l=n.alternate;return l===null?(l=i(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Jf(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function vo(n,a,l,d,p,S){var w=0;if(d=n,typeof n=="function")Bc(n)&&(w=1);else if(typeof n=="string")w=_n&&mt?bp(n,l,Nt.current)?26:Np(n)?27:5:_n?bp(n,l,Nt.current)?26:5:mt&&Np(n)?27:5;else e:switch(n){case Zc:return n=i(31,l,a,p),n.elementType=Zc,n.lanes=S,n;case mi:return Ga(l.children,p,S,a);case ip:w=8,p|=24;break;case Ic:return n=i(12,l,a,p|2),n.elementType=Ic,n.lanes=S,n;case Yc:return n=i(13,l,a,p),n.elementType=Yc,n.lanes=S,n;case Kc:return n=i(19,l,a,p),n.elementType=Kc,n.lanes=S,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q2:case fa:w=10;break e;case rp:w=9;break e;case qc:w=11;break e;case Xc:w=14;break e;case pa:w=16,d=null;break e}w=29,l=Error(s(130,n===null?"null":typeof n,"")),d=null}return a=i(w,l,a,p),a.elementType=n,a.type=d,a.lanes=S,a}function Ga(n,a,l,d){return n=i(7,n,d,a),n.lanes=l,n}function Fc(n,a,l){return n=i(6,n,null,a),n.lanes=l,n}function Vc(n,a,l){return a=i(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function K2(n,a,l,d,p,S,w,F){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=La,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=S,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function $f(n,a,l,d,p,S,w,F,W,ie,le,he){return n=new K2(n,a,l,w,F,W,ie,he),a=1,S===!0&&(a|=24),S=i(3,null,null,a),n.current=S,S.stateNode=n,a=yn(),a.refCount++,n.pooledCache=a,a.refCount++,S.memoizedState={element:d,isDehydrated:l,cache:a},Yl(S),n}function ep(n){return n?(n=_i,n):_i}function tp(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=u(a),n=n!==null?h(n):null,n===null?null:Cr(n.stateNode)}function np(n,a,l,d,p,S){p=ep(p),d.context===null?d.context=p:d.pendingContext=p,d=ra(a),d.payload={element:l},S=S===void 0?null:S,S!==null&&(d.callback=S),l=sa(n,d,a),l!==null&&(Jt(l,n,a),cr(l,n,a))}function ap(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function jc(n,a){ap(n,a),(n=n.alternate)&&ap(n,a)}var ze={},X2=zv(),$t=Wm(),Hc=Object.assign,Z2=Symbol.for("react.element"),_o=Symbol.for("react.transitional.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),ip=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),rp=Symbol.for("react.consumer"),fa=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Kc=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Zc=Symbol.for("react.activity"),W2=Symbol.for("react.memo_cache_sentinel"),sp=Symbol.iterator,J2=Symbol.for("react.client.reference"),bo=Array.isArray,xe=X2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$2=e.rendererVersion,ey=e.rendererPackageName,op=e.extraDevToolsConfig,Cr=e.getPublicInstance,ty=e.getRootHostContext,ny=e.getChildHostContext,ay=e.prepareForCommit,iy=e.resetAfterCommit,ry=e.createInstance;e.cloneMutableInstance;var Qc=e.appendInitialChild,lp=e.finalizeInitialChildren,So=e.shouldSetTextContent,cp=e.createTextInstance;e.cloneMutableTextInstance;var sy=e.scheduleTimeout,oy=e.cancelTimeout,La=e.noTimeout,Vn=e.isPrimaryRenderer;e.warnsIfNotActing;var kt=e.supportsMutation,ma=e.supportsPersistence,cn=e.supportsHydration,ly=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var cy=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var bt=e.setCurrentUpdatePriority,jn=e.getCurrentUpdatePriority,uy=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var dy=e.shouldAttemptEagerTransition,hy=e.detachDeletedInstance;e.requestPostPaintCallback;var fy=e.maySuspendCommit,up=e.preloadInstance,py=e.startSuspendingCommit,dp=e.suspendInstance;e.suspendOnActiveViewTransition;var my=e.waitForCommitToBeReady,gi=e.NotPendingTransition,Ba=e.HostTransitionContext,gy=e.resetFormInstance;e.bindToConsole;var yy=e.supportsMicrotasks,vy=e.scheduleMicrotask,xr=e.supportsTestSelectors,_y=e.findFiberRoot,by=e.getBoundingRect,Sy=e.getTextContent,Er=e.isHiddenSubtree,Cy=e.matchAccessibilityRole,xy=e.setFocusIfFocusable,Ey=e.setupIntersectionObserver,Ty=e.appendChild,Ry=e.appendChildToContainer,My=e.commitTextUpdate,Ay=e.commitMount,Ny=e.commitUpdate,Oy=e.insertBefore,Dy=e.insertInContainerBefore,ky=e.removeChild,Py=e.removeChildFromContainer,hp=e.resetTextContent,wy=e.hideInstance,zy=e.hideTextInstance,Uy=e.unhideInstance,Gy=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopGestureTransition,e.getCurrentGestureOffset,e.subscribeToGestureDirection,e.createViewTransitionInstance;var Ly=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var By=e.cloneInstance,fp=e.createContainerChildSet,pp=e.appendChildToContainerChildSet,Fy=e.finalizeContainerChildren,mp=e.replaceContainerChildren,gp=e.cloneHiddenInstance,yp=e.cloneHiddenTextInstance,Wc=e.isSuspenseInstancePending,Jc=e.isSuspenseInstanceFallback,Vy=e.getSuspenseInstanceFallbackErrorDetails,jy=e.registerSuspenseInstanceRetry,Hy=e.canHydrateFormStateMarker,Iy=e.isFormStateMarkerMatching,vp=e.getNextHydratableSibling,qy=e.getNextHydratableSiblingAfterSingleton,Yy=e.getFirstHydratableChild,Ky=e.getFirstHydratableChildWithinContainer,Xy=e.getFirstHydratableChildWithinSuspenseInstance,Zy=e.getFirstHydratableChildWithinSingleton,Qy=e.canHydrateInstance,Wy=e.canHydrateTextInstance,Jy=e.canHydrateSuspenseInstance,$y=e.hydrateInstance,ev=e.hydrateTextInstance,tv=e.hydrateSuspenseInstance,nv=e.getNextHydratableInstanceAfterSuspenseInstance,av=e.commitHydratedContainer,iv=e.commitHydratedSuspenseInstance,rv=e.clearSuspenseBoundary,sv=e.clearSuspenseBoundaryFromContainer,_p=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ov=e.validateHydratableInstance,lv=e.validateHydratableTextInstance,_n=e.supportsResources,bp=e.isHostHoistableType,$c=e.getHoistableRoot,Sp=e.getResource,Cp=e.acquireResource,xp=e.releaseResource,cv=e.hydrateHoistable,Ep=e.mountHoistable,Tp=e.unmountHoistable,uv=e.createHoistableInstance,dv=e.prepareToCommitHoistables,hv=e.mayResourceSuspendCommit,Rp=e.preloadResource,fv=e.suspendResource,mt=e.supportsSingletons,Mp=e.resolveSingletonInstance,pv=e.acquireSingletonInstance,Ap=e.releaseSingletonInstance,Np=e.isHostSingletonType,yi=e.isSingletonScope,eu=[],vi=-1,_i={},en=Math.clz32?Math.clz32:C,mv=Math.log,gv=Math.LN2,Co=256,xo=4194304,Eo=$t.unstable_scheduleCallback,tu=$t.unstable_cancelCallback,yv=$t.unstable_shouldYield,vv=$t.unstable_requestPaint,bn=$t.unstable_now,Op=$t.unstable_ImmediatePriority,_v=$t.unstable_UserBlockingPriority,nu=$t.unstable_NormalPriority,bv=$t.unstable_IdlePriority,Sv=$t.log,Cv=$t.unstable_setDisableYieldValue,Tr=null,tn=null,au,Dp,iu=!1,kp=new WeakMap,bi=[],Si=0,To=null,Ro=0,un=[],dn=0,Fa=null,Hn=1,In="",Nt=g(null),Rr=g(null),ga=g(null),Mo=g(null),Gt=null,gt=null,Ye=!1,Va=null,Nn=!1,ru=Error(s(519)),nn=typeof Object.is=="function"?Object.is:Ie,Ao=g(null),ja=null,qn=null,xv=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},Ev=$t.unstable_scheduleCallback,Tv=$t.unstable_NormalPriority,at={$$typeof:fa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},No=null,Ci=null,su=!1,Oo=!1,ou=!1,xi=0,Mr=null,lu=0,Ei=0,Ti=null,Pp=xe.S;xe.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Hl(n,a),Pp!==null&&Pp(n,a)};var Ha=g(null),Rv=Object.prototype.hasOwnProperty,Ar=Error(s(460)),cu=Error(s(474)),Do=Error(s(542)),ko={then:function(){}},Ri=null,hn=[],Mi=0,uu=0,ya=!1,du=!1,Ai=g(null),Po=g(0),va=0,ke=null,Ze=null,dt=null,wo=!1,Ni=!1,Ia=!1,zo=0,Nr=0,Oi=null,Mv=0,Uo={readContext:Ne,use:no,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},wp={readContext:Ne,use:no,useCallback:function(n,a){return Ft().memoizedState=[n,a===void 0?null:a],n},useContext:Ne,useEffect:Ah,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,ro(4194308,4,kh.bind(null,a,n),l)},useLayoutEffect:function(n,a){return ro(4194308,4,n,a)},useInsertionEffect:function(n,a){ro(4,2,n,a)},useMemo:function(n,a){var l=Ft();a=a===void 0?null:a;var d=n();if(Ia){q(!0);try{n()}finally{q(!1)}}return l.memoizedState=[d,a],d},useReducer:function(n,a,l){var d=Ft();if(l!==void 0){var p=l(a);if(Ia){q(!0);try{l(a)}finally{q(!1)}}}else p=a;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=D2.bind(null,ke,n),[d.memoizedState,n]},useRef:function(n){var a=Ft();return n={current:n},a.memoizedState=n},useState:function(n){n=sc(n);var a=n.queue,l=Vh.bind(null,ke,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:lc,useDeferredValue:function(n,a){var l=Ft();return cc(l,n,a)},useTransition:function(){var n=sc(!1);return n=Gh.bind(null,ke,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var d=ke,p=Ft();if(Ye){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),We===null)throw Error(s(349));(Fe&124)!==0||hh(d,a,l)}p.memoizedState=l;var S={value:l,getSnapshot:a};return p.queue=S,Ah(ph.bind(null,d,S,n),[n]),d.flags|=2048,ui(9,io(),fh.bind(null,d,S,l,a),null),l},useId:function(){var n=Ft(),a=We.identifierPrefix;if(Ye){var l=In,d=Hn;l=(d&~(1<<32-en(d)-1)).toString(32)+l,a=""+a+"R"+l,l=zo++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Mv++,a=""+a+"r"+l.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:uc,useFormState:xh,useActionState:xh,useOptimistic:function(n){var a=Ft();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=dc.bind(null,ke,!0,l),l.dispatch=a,[n,a]},useMemoCache:ac,useCacheRefresh:function(){return Ft().memoizedState=O2.bind(null,ke)}},zp={readContext:Ne,use:no,useCallback:wh,useContext:Ne,useEffect:Nh,useImperativeHandle:Ph,useInsertionEffect:Oh,useLayoutEffect:Dh,useMemo:zh,useReducer:ao,useRef:Mh,useState:function(){return ao(Gn)},useDebugValue:lc,useDeferredValue:function(n,a){var l=ut();return Uh(l,Ze.memoizedState,n,a)},useTransition:function(){var n=ao(Gn)[0],a=ut().memoizedState;return[typeof n=="boolean"?n:hr(n),a]},useSyncExternalStore:dh,useId:Bh,useHostTransitionStatus:uc,useFormState:Eh,useActionState:Eh,useOptimistic:function(n,a){var l=ut();return yh(l,Ze,n,a)},useMemoCache:ac,useCacheRefresh:Fh},Av={readContext:Ne,use:no,useCallback:wh,useContext:Ne,useEffect:Nh,useImperativeHandle:Ph,useInsertionEffect:Oh,useLayoutEffect:Dh,useMemo:zh,useReducer:rc,useRef:Mh,useState:function(){return rc(Gn)},useDebugValue:lc,useDeferredValue:function(n,a){var l=ut();return Ze===null?cc(l,n,a):Uh(l,Ze.memoizedState,n,a)},useTransition:function(){var n=rc(Gn)[0],a=ut().memoizedState;return[typeof n=="boolean"?n:hr(n),a]},useSyncExternalStore:dh,useId:Bh,useHostTransitionStatus:uc,useFormState:Rh,useActionState:Rh,useOptimistic:function(n,a){var l=ut();return Ze!==null?yh(l,Ze,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:ac,useCacheRefresh:Fh},Di=null,Or=0,ki=qh(!0),Up=qh(!1),fn=g(null),On=null,yt=g(0),hu={enqueueSetState:function(n,a,l){n=n._reactInternals;var d=Wt(),p=ra(d);p.payload=a,l!=null&&(p.callback=l),a=sa(n,p,d),a!==null&&(Jt(a,n,d),cr(a,n,d))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var d=Wt(),p=ra(d);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=sa(n,p,d),a!==null&&(Jt(a,n,d),cr(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=Wt(),d=ra(l);d.tag=2,a!=null&&(d.callback=a),a=sa(n,d,l),a!==null&&(Jt(a,n,l),cr(a,n,l))}},Gp=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Lp=Error(s(461)),St=!1,fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Yn=!1,ot=!1,pu=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Ct=null,ht=null,jt=!1,Sn=null,Pi=8192,Nv={getCacheForType:function(n){var a=Ne(at),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},Go=0,Lo=1,Bo=2,Fo=3,Vo=4;if(typeof Symbol=="function"&&Symbol.for){var Dr=Symbol.for;Go=Dr("selector.component"),Lo=Dr("selector.has_pseudo_class"),Bo=Dr("selector.role"),Fo=Dr("selector.test_id"),Vo=Dr("selector.text")}var Ov=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Ue=null,Fe=0,Xe=0,an=null,_a=!1,wi=!1,mu=!1,Kn=0,it=0,ba=0,qa=0,gu=0,pn=0,zi=0,kr=null,Ht=null,yu=!1,vu=0,Pr=1/0,jo=null,Sa=null,Ot=0,Ca=null,Ui=null,Gi=0,_u=0,bu=null,Fp=null,wr=0,Su=null;return ze.attemptContinuousHydration=function(n){if(n.tag===13){var a=ci(n,67108864);a!==null&&Jt(a,n,67108864),jc(n,67108864)}},ze.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var a=Wt();a=B(a);var l=ci(n,a);l!==null&&Jt(l,n,a),jc(n,a)}},ze.attemptSynchronousHydration=function(n){switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var a=T(n.pendingLanes);if(a!==0){for(n.pendingLanes|=2,n.entangledLanes|=2;a;){var l=1<<31-en(a);n.entanglements[1]|=l,a&=~l}pt(n),(Be&6)===0&&(Pr=bn()+500,_t(0))}}break;case 13:a=ci(n,2),a!==null&&Jt(a,n,2),Uf(),jc(n,2)}},ze.batchedUpdates=function(n,a){return n(a)},ze.createComponentSelector=function(n){return{$$typeof:Go,value:n}},ze.createContainer=function(n,a,l,d,p,S,w,F,W,ie){return $f(n,a,!1,null,l,d,S,w,F,W,ie,null)},ze.createHasPseudoClassSelector=function(n){return{$$typeof:Lo,value:n}},ze.createHydrationContainer=function(n,a,l,d,p,S,w,F,W,ie,le,he,fe){return n=$f(l,d,!0,n,p,S,F,W,ie,le,he,fe),n.context=ep(null),l=n.current,d=Wt(),d=B(d),p=ra(d),p.callback=a??null,sa(l,p,d),a=d,n.current.lanes=a,G(n,a),pt(n),n},ze.createPortal=function(n,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:d==null?null:""+d,children:n,containerInfo:a,implementation:l}},ze.createRoleSelector=function(n){return{$$typeof:Bo,value:n}},ze.createTestNameSelector=function(n){return{$$typeof:Fo,value:n}},ze.createTextSelector=function(n){return{$$typeof:Vo,value:n}},ze.defaultOnCaughtError=function(n){console.error(n)},ze.defaultOnRecoverableError=function(n){Gp(n)},ze.defaultOnUncaughtError=function(n){Gp(n)},ze.deferredUpdates=function(n){var a=xe.T,l=jn();try{return bt(32),xe.T=null,n()}finally{bt(l),xe.T=a}},ze.discreteUpdates=function(n,a,l,d,p){var S=xe.T,w=jn();try{return bt(2),xe.T=null,n(a,l,d,p)}finally{bt(w),xe.T=S,Be===0&&(Pr=bn()+500)}},ze.findAllNodes=wc,ze.findBoundingRects=function(n,a){if(!xr)throw Error(s(363));a=wc(n,a),n=[];for(var l=0;l<a.length;l++)n.push(by(a[l]));for(a=n.length-1;0<a;a--){l=n[a];for(var d=l.x,p=d+l.width,S=l.y,w=S+l.height,F=a-1;0<=F;F--)if(a!==F){var W=n[F],ie=W.x,le=ie+W.width,he=W.y,fe=he+W.height;if(d>=ie&&S>=he&&p<=le&&w<=fe){n.splice(a,1);break}else if(d!==ie||l.width!==W.width||fe<S||he>w){if(!(S!==he||l.height!==W.height||le<d||ie>p)){ie>d&&(W.width+=ie-d,W.x=d),le<p&&(W.width=p-ie),n.splice(a,1);break}}else{he>S&&(W.height+=he-S,W.y=S),fe<w&&(W.height=w-he),n.splice(a,1);break}}}return n},ze.findHostInstance=tp,ze.findHostInstanceWithNoPortals=function(n){return n=u(n),n=n!==null?f(n):null,n===null?null:Cr(n.stateNode)},ze.findHostInstanceWithWarning=function(n){return tp(n)},ze.flushPassiveEffects=Sr,ze.flushSyncFromReconciler=function(n){var a=Be;Be|=1;var l=xe.T,d=jn();try{if(bt(2),xe.T=null,n)return n()}finally{bt(d),xe.T=l,Be=a,(Be&6)===0&&_t(0)}},ze.flushSyncWork=Uf,ze.focusWithin=function(n,a){if(!xr)throw Error(s(363));for(n=Dc(n),a=kf(n,a),a=Array.from(a),n=0;n<a.length;){var l=a[n++],d=l.tag;if(!Er(l)){if((d===5||d===26||d===27)&&xy(l.stateNode))return!0;for(l=l.child;l!==null;)a.push(l),l=l.sibling}}return!1},ze.getFindAllNodesFailureDescription=function(n,a){if(!xr)throw Error(s(363));var l=0,d=[];n=[Dc(n),0];for(var p=0;p<n.length;){var S=n[p++],w=S.tag,F=n[p++],W=a[F];if((w!==5&&w!==26&&w!==27||!Er(S))&&(kc(S,W)&&(d.push(Pc(W)),F++,F>l&&(l=F)),F<a.length))for(S=S.child;S!==null;)n.push(S,F),S=S.sibling}if(l<a.length){for(n=[];l<a.length;l++)n.push(Pc(a[l]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},ze.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 27:case 5:return Cr(n.child.stateNode);default:return n.child.stateNode}},ze.injectIntoDevTools=function(){var n={bundleType:0,version:$2,rendererPackageName:ey,currentDispatcherRef:xe,reconcilerVersion:"19.1.0"};if(op!==null&&(n.rendererConfig=op),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)n=!0;else{try{Tr=a.inject(n),tn=a}catch{}n=!!a.checkDCE}}return n},ze.isAlreadyRendering=function(){return(Be&6)!==0},ze.observeVisibleRects=function(n,a,l,d){if(!xr)throw Error(s(363));n=wc(n,a);var p=Ey(n,l,d).disconnect;return{disconnect:function(){p()}}},ze.shouldError=function(){return null},ze.shouldSuspend=function(){return!1},ze.startHostTransition=function(n,a,l,d){if(n.tag!==5)throw Error(s(476));var p=Lh(n).queue;Gh(n,p,a,gi,l===null?r:function(){var S=Lh(n).next.queue;return pr(n,S,{},Wt()),l(d)})},ze.updateContainer=function(n,a,l,d){var p=a.current,S=Wt();return np(p,S,n,a,l,d),S},ze.updateContainerSync=function(n,a,l,d){return np(a.current,2,n,a,l,d),2},ze},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})}(Ku)),Ku.exports}var Pm;function xb(){return Pm||(Pm=1,Yu.exports=Cb()),Yu.exports}var Eb=xb();const Tb=Pd(Eb);var Xu={exports:{}},Wn={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Rb(){return wm||(wm=1,Wn.ConcurrentRoot=1,Wn.ContinuousEventPriority=8,Wn.DefaultEventPriority=32,Wn.DiscreteEventPriority=2,Wn.IdleEventPriority=268435456,Wn.LegacyRoot=0,Wn.NoEventPriority=0),Wn}var zm;function Mb(){return zm||(zm=1,Xu.exports=Rb()),Xu.exports}var Bl=Mb(),Ab=we();const Um={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Gm=!1,Lm=!1;const bl=".react-konva-event",Nb=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Ob=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Db={};function Fl(t,e,i=Db){if(!Gm&&"zIndex"in e&&(console.warn(Ob),Gm=!0),!Lm&&e.draggable){var r=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;r&&!s&&(console.warn(Nb),Lm=!0)}for(var o in i)if(!Um[o]){var c=o.slice(0,2)==="on",u=i[o]!==e[o];if(c&&u){var h=o.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),t.off(h,i[o])}var f=!e.hasOwnProperty(o);f&&t.setAttr(o,void 0)}var m=e._useStrictMode,v={},g=!1;const y={};for(var o in e)if(!Um[o]){var c=o.slice(0,2)==="on",b=i[o]!==e[o];if(c&&b){var h=o.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e[o]&&(y[h]=e[o])}!c&&(e[o]!==i[o]||m&&e[o]!==t.getAttr(o))&&(g=!0,v[o]=e[o])}g&&(t.setAttrs(v),Pa(t));for(var h in y)t.off(h+bl),t.on(h+bl,y[h])}function Pa(t){if(!Ab.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var Zu=Wm();const l2={},kb={};_l.Node.prototype._applyProps=Fl;let c2=Bl.DefaultEventPriority;function Pb(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Pa(t)}function wb(t,e,i){let r=_l[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=_l.Group);const s={},o={};for(var c in e)if(c!=="ref"){var u=c.slice(0,2)==="on";u?o[c]=e[c]:s[c]=e[c]}const h=new r(s);return Fl(h,o),h}function zb(t,e,i){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Ub(t,e,i){return!1}function Gb(t){return t}function Lb(){return null}function Bb(){return null}function Fb(t,e,i,r){return kb}function Vb(){}function jb(t){}function Hb(t,e){return!1}function Ib(){return l2}function qb(){return l2}const Yb=setTimeout,Kb=clearTimeout,Xb=!0,Zb=t=>{t()},Qb=-1;function Wb(t,e){return!1}const Jb=!1,$b=!1,e6=!0,t6=!1,n6=!1;function a6(t,e){e.parent===t?e.moveToTop():t.add(e),Pa(t)}function i6(t,e){e.parent===t?e.moveToTop():t.add(e),Pa(t)}function u2(t,e,i){e._remove(),t.add(e),e.setZIndex(i.getZIndex()),Pa(t)}function r6(t,e,i){u2(t,e,i)}function s6(t,e){e.destroy(),e.off(bl),Pa(t)}function o6(t,e){e.destroy(),e.off(bl),Pa(t)}function l6(t,e,i){console.error(`Text components are not yet supported in ReactKonva. You text is: "${i}"`)}function c6(t,e,i){}function u6(t,e,i,r){Fl(t,r,i)}function d6(t){t.hide(),Pa(t)}function h6(t){}function f6(t,e){(e.visible==null||e.visible)&&t.show()}function p6(t,e){}function m6(t){}function g6(){}function y6(){return Bl.DefaultEventPriority}function v6(){}function _6(){return null}function b6(t){c2=t}function S6(){return c2}function C6(){return Bl.DiscreteEventPriority}function x6(){return!1}function E6(){}function T6(){return!1}function R6(){return!0}function M6(){}function A6(){}function N6(){return null}const O6=null;function D6(){}const k6=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:O6,appendChild:a6,appendChildToContainer:i6,appendInitialChild:Pb,cancelTimeout:Kb,clearContainer:m6,commitMount:c6,commitTextUpdate:l6,commitUpdate:u6,createInstance:wb,createTextInstance:zb,detachDeletedInstance:g6,finalizeInitialChildren:Ub,getChildHostContext:qb,getCurrentEventPriority:y6,getCurrentUpdatePriority:S6,getInstanceFromScope:_6,getPublicInstance:Gb,getRootHostContext:Ib,hideInstance:d6,hideTextInstance:h6,idlePriority:Zu.unstable_IdlePriority,insertBefore:u2,insertInContainerBefore:r6,isPrimaryRenderer:Jb,maySuspendCommit:T6,noTimeout:Qb,now:Zu.unstable_now,preloadInstance:R6,prepareForCommit:Lb,preparePortalMount:Bb,prepareScopeUpdate:v6,prepareUpdate:Fb,removeChild:s6,removeChildFromContainer:o6,requestPostPaintCallback:E6,resetAfterCommit:Vb,resetFormInstance:D6,resetTextContent:jb,resolveUpdatePriority:C6,run:Zu.unstable_runWithPriority,scheduleMicrotask:Zb,scheduleTimeout:Yb,setCurrentUpdatePriority:b6,shouldAttemptEagerTransition:x6,shouldDeprioritizeSubtree:Hb,shouldSetTextContent:Wb,startSuspendingCommit:M6,supportsHydration:n6,supportsMicrotasks:Xb,supportsMutation:e6,supportsPersistence:t6,suspendInstance:A6,unhideInstance:f6,unhideTextInstance:p6,waitForCommitToBeReady:N6,warnsIfNotActing:$b},Symbol.toStringTag,{value:"Module"}));function d2(t,e,i){if(!t)return;if(i(t)===!0)return t;let r=t.child;for(;r;){const s=d2(r,e,i);if(s)return s;r=r.sibling}}function h2(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Qd=h2(X.createContext(null));class f2 extends X.Component{render(){return X.createElement(Qd.Provider,{value:this._reactInternals},this.props.children)}}function P6(){const t=X.useContext(Qd);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=X.useId();return X.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=d2(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}const w6=Symbol.for("react.context"),z6=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===w6;function U6(){const t=P6(),[e]=X.useState(()=>new Map);e.clear();let i=t;for(;i;){const r=i.type;z6(r)&&r!==Qd&&!e.has(r)&&e.set(r,X.use(h2(r))),i=i.return}return e}function G6(){const t=U6();return X.useMemo(()=>Array.from(t.keys()).reduce((e,i)=>r=>X.createElement(e,null,X.createElement(i.Provider,{...r,value:t.get(i)})),e=>X.createElement(f2,{...e})),[t])}if(et.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function L6(t){const e=et.useRef({});return et.useLayoutEffect(()=>{e.current=t}),et.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const B6=()=>{const t=et.useRef(0);return et.useMemo(()=>{t.current++},[]),t.current>1},F6=t=>{const e=et.useRef(null),i=et.useRef(null),r=et.useRef(null),s=L6(t),o=G6(),c=et.useRef(!1),u=f=>{const{forwardedRef:m}=t;m&&(typeof m=="function"?m(f):m.current=f)},h=B6();return et.useLayoutEffect(()=>c.current&&h?()=>{c.current=!1,u(null),Ii.updateContainer(null,r.current,null),i.current.destroy()}:(c.current=!0,i.current=new _l.Stage({width:t.width,height:t.height,container:e.current}),u(i.current),r.current=Ii.createContainer(i.current,Bl.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Ii.updateContainer(et.createElement(o,{},t.children),r.current,null,()=>{}),()=>{h||(u(null),Ii.updateContainer(null,r.current,null),i.current.destroy())}),[]),et.useLayoutEffect(()=>{u(i.current),Fl(i.current,t,s),Ii.updateContainer(et.createElement(o,{},t.children),r.current,null)}),et.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},V6="Layer",j6="Group",H6="Rect",Bm="Circle",I6="Image",Ii=Tb(k6);Ii.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:et.version,rendererPackageName:"react-konva"});const q6=et.forwardRef((t,e)=>et.createElement(f2,{},et.createElement(F6,{...t,forwardedRef:e}))),Y6=()=>{const t=(s,o)=>s>o?o*.9:s*.9,[e,i]=X.useState(t(window.innerHeight,window.innerWidth)),r=()=>{const{innerHeight:s,innerWidth:o}=window;i(t(s,o))};return X.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),Math.round(e)};function bd(t){const r=t/14/2,s=(t-r*2)/14,o=s*14;return{line:15,blockCount:14,padding:r,blockWidth:s,boardWidth:o}}function K6(t,e){const{line:i,padding:r,blockWidth:s,boardWidth:o}=bd(e);for(let c=0;c<i;c++){const u=t.getContext("2d");u==null||u.beginPath(),u==null||u.moveTo(r+c*s,r),u==null||u.lineTo(r+c*s,r+o),u==null||u.stroke(),u==null||u.restore(),u==null||u.beginPath(),u==null||u.moveTo(r,r+c*s),u==null||u.lineTo(r+o,r+c*s),u==null||u.stroke(),u==null||u.restore(),u==null||u.beginPath(),u==null||u.arc(e/2,e/2,r/4,0,2*Math.PI),u==null||u.fill(),u==null||u.stroke(),u==null||u.restore()}}function X6({sendPiece:t,restart:e}){const i=Y6(),r=X.useRef(null),s=Jm(),o=()=>s({to:"/"}),[c,u,h,f,m]=Wa(ng(y=>[y.piecePos,y.board,y.isMyTurn,y.isWon,y.placePiece])),v=X.useMemo(()=>{const y=document.createElement("canvas");return y.width=i,y.height=i,K6(y,i),y},[i]),g=()=>{var y;h&&M3(w3((y=r.current)==null?void 0:y.getPointerPosition()),M0(b=>typeof b.x=="number"||typeof b.y=="number"?vd(b):vl),M0(b=>{const{padding:C,blockWidth:T}=bd(i),N=Math.round((b.x+C)/T)-1,x=Math.round((b.y+C)/T)-1;return u[N][x]?vl:vd({indexX:N,indexY:x})}),P3(()=>{},({indexX:b,indexY:C})=>{m(b,C,"me"),t(b,C)}))};return ne.jsxs("div",{className:"bg-black bg-cover aspect-auto w-screen h-screen",children:[h&&ne.jsx("h1",{className:"absolute top-8 right-8 z-10  text-white",children:"Your Turn"}),ne.jsxs("div",{className:"mx-auto w-screen h-full flex items-center justify-center",children:[f&&ne.jsxs("div",{className:"flex justify-start absolute top-8 left-8 z-10",children:[ne.jsx("button",{className:`m-2 bg-white hover:bg-gray-300 text-black
               font-bold py-2 px-4 border border-gray-300 rounded top-8 left-8`,onClick:o,children:"back"}),ne.jsx("button",{className:`m-2 bg-green-500 hover:bg-green-700 text-white
               font-bold py-2 px-4 border border-green-700 rounded  top-8 left-8`,onClick:e,children:"Restart"})]}),ne.jsx(q6,{width:i,height:i,ref:r,children:ne.jsxs(V6,{children:[ne.jsx(H6,{width:i,height:i,fill:"#A1662F"}),ne.jsx(I6,{onTap:g,onClick:g,width:i,height:i,image:v}),c.map((y,b)=>{const{padding:C,blockWidth:T}=bd(i),N=C+y.x*T,x=C+y.y*T;return ne.jsxs(j6,{children:[ne.jsx(Bm,{x:N,y:x,radius:C*.9,fill:y.player==="black"?"black":"white"}),b===c.length-1&&ne.jsx(Bm,{x:N,y:x,radius:C*.2,fill:"red"})]},b)})]})})]})]})}function Vl(t,e){return typeof t=="function"?t(e):t}function As(t,e){return Wd(e).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},t)}function Jo(t,e,i){const r=Wd(e);function s(o){if(!r.length)return Vl(i,o);const c=r.shift();if(typeof c=="string"||typeof c=="number"&&!Array.isArray(o))return typeof o=="object"?(o===null&&(o={}),{...o,[c]:s(o[c])}):{[c]:s()};if(Array.isArray(o)&&typeof c=="number"){const u=o.slice(0,c);return[...u.length?u:new Array(c),s(o[c]),...o.slice(c+1)]}return[...new Array(c),s()]}return s(t)}function Z6(t,e){const i=Wd(e);function r(s){if(!s)return;if(i.length===1){const c=i[0];if(Array.isArray(s)&&typeof c=="number")return s.filter((f,m)=>m!==c);const{[c]:u,...h}=s;return h}const o=i.shift();if(typeof o=="string"&&typeof s=="object")return{...s,[o]:r(s[o])};if(typeof o=="number"&&Array.isArray(s)){if(o>=s.length)return s;const c=s.slice(0,o);return[...c.length?c:new Array(o),r(s[o]),...s.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(t)}const Q6=/^(\d+)$/gm,W6=/\.(\d+)(?=\.)/gm,J6=/^(\d+)\./gm,$6=/\.(\d+$)/gm,e8=/\.{2,}/gm,Sd="__int__",$o=`${Sd}$1`;function Wd(t){if(Array.isArray(t))return[...t];if(typeof t!="string")throw new Error("Path must be a string.");return t.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Q6,$o).replace(W6,`.${$o}.`).replace(J6,`${$o}.`).replace($6,`.${$o}`).replace(e8,".").split(".").map(e=>{if(e.startsWith(Sd)){const i=e.substring(Sd.length),r=parseInt(i,10);return String(r)===i?r:i}return e})}function t8(t){return!(Array.isArray(t)&&t.length===0)}function Cd(t,e){const i=r=>r.validators.filter(Boolean).map(s=>({cause:s.cause,validate:s.fn}));return e.validationLogic({form:e.form,validators:e.validators,event:{type:t,async:!1},runValidation:i})}function xd(t,e){const{asyncDebounceMs:i}=e,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:s,onDynamicAsyncDebounceMs:o}=e.validators||{},c=i??0,u=h=>h.validators.filter(Boolean).map(f=>{const m=(f==null?void 0:f.cause)||t;let v=c;switch(m){case"change":v=s??c;break;case"blur":v=r??c;break;case"dynamic":v=o??c;break;case"submit":v=0;break}return t==="submit"&&(v=0),{cause:m,validate:f.fn,debounceMs:v}});return e.validationLogic({form:e.form,validators:e.validators,event:{type:t,async:!0},runValidation:u})}const Ed=t=>!!t&&typeof t=="object"&&"fields"in t;function qi(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,o]of t)if(!e.has(s)||!Object.is(o,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(const s of i)if(!r.includes(s)||!qi(t[s],e[s]))return!1;return!0}const Fm=({newFormValidatorError:t,isPreviousErrorFromFormValidator:e,previousErrorValue:i})=>t?{newErrorValue:t,newSource:"form"}:e?{newErrorValue:void 0,newSource:void 0}:i?{newErrorValue:i,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},Vm=({formLevelError:t,fieldLevelError:e})=>e?{newErrorValue:e,newSource:"field"}:t?{newErrorValue:t,newSource:"form"}:{newErrorValue:void 0,newSource:void 0},Ki=t=>{if(!t.validators)return t.runValidation({validators:[],form:t.form});const e=t.event.async,i=e?void 0:{fn:t.validators.onMount,cause:"mount"},r={fn:e?t.validators.onChangeAsync:t.validators.onChange,cause:"change"},s={fn:e?t.validators.onBlurAsync:t.validators.onBlur,cause:"blur"},o={fn:e?t.validators.onSubmitAsync:t.validators.onSubmit,cause:"submit"},c=e?void 0:{fn:()=>{},cause:"server"};switch(t.event.type){case"mount":return t.runValidation({validators:[i],form:t.form});case"submit":return t.runValidation({validators:[r,s,o,c],form:t.form});case"server":return t.runValidation({validators:[],form:t.form});case"blur":return t.runValidation({validators:[s,c],form:t.form});case"change":return t.runValidation({validators:[r,c],form:t.form});default:throw new Error(`Unknown validation event type: ${t.event.type}`)}};function n8(t){const e=new Map;for(const i of t){const r=[...i.path??[]].map(s=>{const o=typeof s=="object"?s.key:s;return typeof o=="number"?`[${o}]`:o}).join(".").replace(/\.\[/g,"[");e.set(r,(e.get(r)??[]).concat(i))}return Object.fromEntries(e)}const jm=t=>{const e=n8(t);return{form:e,fields:e}},Ji={validate({value:t,validationSource:e},i){const r=i["~standard"].validate(t);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return e==="field"?r.issues:jm(r.issues)},async validateAsync({value:t,validationSource:e},i){const r=await i["~standard"].validate(t);if(r.issues)return e==="field"?r.issues:jm(r.issues)}},p2=t=>!!t&&"~standard"in t,Sl={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function el(t){function e(v,g,y,b){const C=r(v,g,y,b);({insert:()=>u(C,v,g),remove:()=>h(C),swap:()=>b!==void 0&&m(C,v,g,b),move:()=>b!==void 0&&f(C,v,g,b)})[y]()}function i(v,g){return`${v}[${g}]`}function r(v,g,y,b){const C=[i(v,g)];if(y==="swap")C.push(i(v,b));else if(y==="move"){const[T,N]=[Math.min(g,b),Math.max(g,b)];for(let x=T;x<=N;x++)C.push(i(v,x))}else{const T=t.getFieldValue(v),N=Array.isArray(T)?T.length:0;for(let x=g+1;x<N;x++)C.push(i(v,x))}return Object.keys(t.fieldInfo).filter(T=>C.some(N=>T.startsWith(N)))}function s(v,g){return v.replace(/\[(\d+)\]/,(y,b)=>{const C=parseInt(b,10);return`[${g==="up"?C+1:Math.max(0,C-1)}]`})}function o(v,g){(g==="up"?v:[...v].reverse()).forEach(b=>{const C=s(b.toString(),g),T=t.getFieldMeta(C);T?t.setFieldMeta(b,T):t.setFieldMeta(b,c())})}const c=()=>Sl,u=(v,g,y)=>{o(v,"down"),v.forEach(b=>{b.toString().startsWith(i(g,y))&&t.setFieldMeta(b,c())})},h=v=>{o(v,"up")},f=(v,g,y,b)=>{const C=new Map(Object.keys(t.fieldInfo).filter(T=>T.startsWith(i(g,y))).map(T=>[T,t.getFieldMeta(T)]));o(v,y<b?"up":"down"),Object.keys(t.fieldInfo).filter(T=>T.startsWith(i(g,b))).forEach(T=>{const N=T.replace(i(g,b),i(g,y)),x=C.get(N);x&&t.setFieldMeta(T,x)})},m=(v,g,y,b)=>{v.forEach(C=>{if(!C.toString().startsWith(i(g,y)))return;const T=C.toString().replace(i(g,y),i(g,b)),[N,x]=[t.getFieldMeta(C),t.getFieldMeta(T)];N&&t.setFieldMeta(T,N),x&&t.setFieldMeta(C,x)})};return{handleArrayFieldMetaShift:e}}function Qu(t){return{values:t.values??{},errorMap:t.errorMap??{},fieldMetaBase:t.fieldMetaBase??{},isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,isSubmitSuccessful:t.isSubmitSuccessful??!1,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class a8{constructor(e){var i;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var u,h;const r=this.fieldMetaDerived.mount(),s=this.store.mount(),o=()=>{r(),s()};(h=(u=this.options.listeners)==null?void 0:u.onMount)==null||h.call(u,{formApi:this});const{onMount:c}=this.options.validators||{};return c&&this.validateSync("mount"),o},this.update=r=>{var h,f;if(!r)return;const s=this.options;this.options=r;const o=!!((f=(h=r.transform)==null?void 0:h.deps)!=null&&f.some((m,v)=>m!==this.prevTransformArray[v])),c=r.defaultValues&&!qi(r.defaultValues,s.defaultValues)&&!this.state.isTouched,u=!qi(r.defaultState,s.defaultState)&&!this.state.isTouched;!c&&!u&&!o||Dn(()=>{this.baseStore.setState(()=>Qu(Object.assign({},this.state,u?r.defaultState:{},c?{values:r.defaultValues}:{},o?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,s)=>{const{fieldMeta:o}=this.state,c=this.resetFieldMeta(o);r&&!(s!=null&&s.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var u;return Qu({...this.options.defaultState,values:r??this.options.defaultValues??((u=this.options.defaultState)==null?void 0:u.values),fieldMetaBase:c})})},this.validateAllFields=async r=>{const s=[];return Dn(()=>{Object.values(this.fieldInfo).forEach(c=>{if(!c.instance)return;const u=c.instance;s.push(Promise.resolve().then(()=>u.validate(r,{skipFormValidation:!0}))),c.instance.state.meta.isTouched||c.instance.setMeta(h=>({...h,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(r,s,o)=>{const c=this.getFieldValue(r),u=Array.isArray(c)?Math.max(c.length-1,0):null,h=[`${r}[${s}]`];for(let g=s+1;g<=(u??0);g++)h.push(`${r}[${g}]`);const f=Object.keys(this.fieldInfo).filter(g=>h.some(y=>g.startsWith(y))),m=[];return Dn(()=>{f.forEach(g=>{m.push(Promise.resolve().then(()=>this.validateField(g,o)))})}),(await Promise.all(m)).flat()},this.validateField=(r,s)=>{var c;const o=(c=this.fieldInfo[r])==null?void 0:c.instance;return o?(o.state.meta.isTouched||o.setMeta(u=>({...u,isTouched:!0})),o.validate(s)):[]},this.validateSync=r=>{const s=Cd(r,{...this.options,form:this,validationLogic:this.options.validationLogic||Ki});let o=!1;const c={};return Dn(()=>{var f,m,v;for(const g of s){if(!g.validate)continue;const y=this.runValidator({validate:g.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:b,fieldErrors:C}=dl(y),T=Rs(g.cause);for(const N of Object.keys(this.state.fieldMeta)){const x=this.getFieldMeta(N);if(!x)continue;const{errorMap:_,errorSourceMap:E}=x,R=C==null?void 0:C[N],{newErrorValue:k,newSource:G}=Fm({newFormValidatorError:R,isPreviousErrorFromFormValidator:(E==null?void 0:E[T])==="form",previousErrorValue:_==null?void 0:_[T]});G==="form"&&(c[N]={...c[N],[T]:R}),(_==null?void 0:_[T])!==k&&this.setFieldMeta(N,M=>({...M,errorMap:{...M.errorMap,[T]:k},errorSourceMap:{...M.errorSourceMap,[T]:G}}))}((f=this.state.errorMap)==null?void 0:f[T])!==b&&this.baseStore.setState(N=>({...N,errorMap:{...N.errorMap,[T]:b}})),(b||C)&&(o=!0)}const u=Rs("submit");(m=this.state.errorMap)!=null&&m[u]&&r!=="submit"&&!o&&this.baseStore.setState(g=>({...g,errorMap:{...g.errorMap,[u]:void 0}}));const h=Rs("server");(v=this.state.errorMap)!=null&&v[h]&&r!=="server"&&!o&&this.baseStore.setState(g=>({...g,errorMap:{...g.errorMap,[h]:void 0}}))}),{hasErrored:o,fieldsErrorMap:c}},this.validateAsync=async r=>{const s=xd(r,{...this.options,form:this,validationLogic:this.options.validationLogic||Ki});this.state.isFormValidating||this.baseStore.setState(f=>({...f,isFormValidating:!0}));const o=[];let c;for(const f of s){if(!f.validate)continue;const m=Rs(f.cause),v=this.state.validationMetaMap[m];v==null||v.lastAbortController.abort();const g=new AbortController;this.state.validationMetaMap[m]={lastAbortController:g},o.push(new Promise(async y=>{let b;try{b=await new Promise((x,_)=>{setTimeout(async()=>{if(g.signal.aborted)return x(void 0);try{x(await this.runValidator({validate:f.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:g.signal},type:"validateAsync"}))}catch(E){_(E)}},f.debounceMs)})}catch(x){b=x}const{formError:C,fieldErrors:T}=dl(b);T&&(c=c?{...c,...T}:T);const N=Rs(f.cause);for(const x of Object.keys(this.state.fieldMeta)){const _=this.getFieldMeta(x);if(!_)continue;const{errorMap:E,errorSourceMap:R}=_,k=c==null?void 0:c[x],{newErrorValue:G,newSource:M}=Fm({newFormValidatorError:k,isPreviousErrorFromFormValidator:(R==null?void 0:R[N])==="form",previousErrorValue:E==null?void 0:E[N]});(E==null?void 0:E[N])!==G&&this.setFieldMeta(x,D=>({...D,errorMap:{...D.errorMap,[N]:G},errorSourceMap:{...D.errorSourceMap,[N]:M}}))}this.baseStore.setState(x=>({...x,errorMap:{...x.errorMap,[N]:C}})),y(c?{fieldErrors:c,errorMapKey:N}:void 0)}))}let u=[];const h={};if(o.length){u=await Promise.all(o);for(const f of u)if(f!=null&&f.fieldErrors){const{errorMapKey:m}=f;for(const[v,g]of Object.entries(f.fieldErrors)){const b={...h[v]||{},[m]:g};h[v]=b}}}return this.baseStore.setState(f=>({...f,isFormValidating:!1})),h},this.validate=r=>{const{hasErrored:s,fieldsErrorMap:o}=this.validateSync(r);return s&&!this.options.asyncAlways?o:this.validateAsync(r)},this.getFieldValue=r=>As(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var s;return(s=this.fieldInfo)[r]||(s[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}})},this.setFieldMeta=(r,s)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[r]:Vl(s,o.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((s,o)=>{const c=o;return s[c]=Sl,s},{}),this.setFieldValue=(r,s,o)=>{const c=(o==null?void 0:o.dontUpdateMeta)??!1;Dn(()=>{c||this.setFieldMeta(r,u=>({...u,isTouched:!0,isDirty:!0,errorMap:{...u==null?void 0:u.errorMap,onMount:void 0}})),this.baseStore.setState(u=>({...u,values:Jo(u.values,r,s)}))})},this.deleteField=r=>{const o=[...Object.keys(this.fieldInfo).filter(c=>{const u=r.toString();return c!==u&&c.startsWith(u)}),r];this.baseStore.setState(c=>{const u={...c};return o.forEach(h=>{u.values=Z6(u.values,h),delete this.fieldInfo[h],delete u.fieldMetaBase[h]}),u})},this.pushFieldValue=(r,s,o)=>{this.setFieldValue(r,c=>[...Array.isArray(c)?c:[],s],o),this.validateField(r,"change")},this.insertFieldValue=async(r,s,o,c)=>{this.setFieldValue(r,u=>[...u.slice(0,s),o,...u.slice(s)],c),await this.validateField(r,"change"),el(this).handleArrayFieldMetaShift(r,s,"insert"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.replaceFieldValue=async(r,s,o,c)=>{this.setFieldValue(r,u=>u.map((h,f)=>f===s?o:h),c),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.removeFieldValue=async(r,s,o)=>{const c=this.getFieldValue(r),u=Array.isArray(c)?Math.max(c.length-1,0):null;if(this.setFieldValue(r,h=>h.filter((f,m)=>m!==s),o),el(this).handleArrayFieldMetaShift(r,s,"remove"),u!==null){const h=`${r}[${u}]`;this.deleteField(h)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.swapFieldValues=(r,s,o,c)=>{this.setFieldValue(r,u=>{const h=u[s],f=u[o];return Jo(Jo(u,`${s}`,f),`${o}`,h)},c),el(this).handleArrayFieldMetaShift(r,s,"swap",o),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.moveFieldValues=(r,s,o,c)=>{this.setFieldValue(r,u=>{const h=[...u];return h.splice(o,0,h.splice(s,1)[0]),h},c),el(this).handleArrayFieldMetaShift(r,s,"move",o),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.clearFieldValues=(r,s)=>{const o=this.getFieldValue(r),c=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,[],s),c!==null)for(let u=0;u<=c;u++){const h=`${r}[${u}]`;this.deleteField(h)}this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:Sl},values:this.options.defaultValues?Jo(s.values,r,As(this.options.defaultValues,r)):s.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[s,o])=>(Object.keys(o).length&&o.errors.length&&(r[s]={errors:o.errors,errorMap:o.errorMap}),r),{})}),this.parseValuesWithSchema=r=>Ji.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>Ji.validateAsync({value:this.state.values,validationSource:"form"},r),this.baseStore=new Uv(Qu({...e==null?void 0:e.defaultState,values:(e==null?void 0:e.defaultValues)??((i=e==null?void 0:e.defaultState)==null?void 0:i.values)})),this.fieldMetaDerived=new Ju({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:s,prevVal:o})=>{var v,g,y;const c=o,u=r==null?void 0:r[0],h=s[0];let f=0;const m={};for(const b of Object.keys(h.fieldMetaBase)){const C=h.fieldMetaBase[b],T=u==null?void 0:u.fieldMetaBase[b],N=c==null?void 0:c[b],x=As(h.values,b);let _=N==null?void 0:N.errors;if(!T||C.errorMap!==T.errorMap){_=Object.values(C.errorMap??{}).filter(M=>M!==void 0);const G=(v=this.getFieldInfo(b))==null?void 0:v.instance;G&&!G.options.disableErrorFlat&&(_=_==null?void 0:_.flat(1))}const E=!t8(_??[]),R=!C.isDirty,k=qi(x,As(this.options.defaultValues,b))||qi(x,(y=(g=this.getFieldInfo(b))==null?void 0:g.instance)==null?void 0:y.options.defaultValue);if(N&&N.isPristine===R&&N.isValid===E&&N.isDefaultValue===k&&N.errors===_&&C===T){m[b]=N,f++;continue}m[b]={...C,errors:_,isPristine:R,isValid:E,isDefaultValue:k}}return Object.keys(h.fieldMetaBase).length&&c&&f===Object.keys(h.fieldMetaBase).length?c:m}}),this.store=new Ju({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:s,prevVal:o})=>{var Y,H,ae,A;const c=o,u=r==null?void 0:r[0],h=s[0],f=s[1],m=Object.values(f).filter(Boolean),v=m.some(O=>O.isValidating),g=m.every(O=>O.isValid),y=m.some(O=>O.isTouched),b=m.some(O=>O.isBlurred),C=m.every(O=>O.isDefaultValue),T=y&&((Y=h.errorMap)==null?void 0:Y.onMount),N=m.some(O=>O.isDirty),x=!N,_=!!((H=h.errorMap)!=null&&H.onMount||m.some(O=>{var U;return(U=O==null?void 0:O.errorMap)==null?void 0:U.onMount})),E=!!v;let R=(c==null?void 0:c.errors)??[];(!u||h.errorMap!==u.errorMap)&&(R=Object.values(h.errorMap).reduce((O,U)=>U===void 0?O:U&&Ed(U)?(O.push(U.form),O):(O.push(U),O),[]));const k=R.length===0,G=g&&k,M=this.options.canSubmitWhenInvalid??!1,D=h.submissionAttempts===0&&!y&&!_||!E&&!h.isSubmitting&&G||M;let P=h.errorMap;if(T&&(R=R.filter(O=>O!==h.errorMap.onMount),P=Object.assign(P,{onMount:void 0})),c&&u&&c.errorMap===P&&c.fieldMeta===this.fieldMetaDerived.state&&c.errors===R&&c.isFieldsValidating===v&&c.isFieldsValid===g&&c.isFormValid===k&&c.isValid===G&&c.canSubmit===D&&c.isTouched===y&&c.isBlurred===b&&c.isPristine===x&&c.isDefaultValue===C&&c.isDirty===N&&qi(u,h))return c;let B={...h,errorMap:P,fieldMeta:this.fieldMetaDerived.state,errors:R,isFieldsValidating:v,isFieldsValid:g,isFormValid:k,isValid:G,canSubmit:D,isTouched:y,isBlurred:b,isPristine:x,isDefaultValue:C,isDirty:N};const j=((ae=this.options.transform)==null?void 0:ae.deps)??[];if(j.length!==this.prevTransformArray.length||j.some((O,U)=>O!==this.prevTransformArray[U])){const O=Object.assign({},this,{state:B});(A=this.options.transform)==null||A.fn(O),B=O.state,this.prevTransformArray=j}return B}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(e||{})}get state(){return this.store.state}get formId(){return this.options.formId}runValidator(e){return p2(e.validate)?Ji[e.type](e.value,e.validate):e.validate(e.value)}async handleSubmit(e){var s,o,c,u,h,f,m,v;if(this.baseStore.setState(g=>({...g,isSubmitted:!1,submissionAttempts:g.submissionAttempts+1,isSubmitSuccessful:!1})),Dn(()=>{Object.values(this.fieldInfo).forEach(g=>{g.instance&&(g.instance.state.meta.isTouched||g.instance.setMeta(y=>({...y,isTouched:!0})))})}),!this.state.canSubmit)return;const i=e??this.options.onSubmitMeta;this.baseStore.setState(g=>({...g,isSubmitting:!0}));const r=()=>{this.baseStore.setState(g=>({...g,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){r(),(o=(s=this.options).onSubmitInvalid)==null||o.call(s,{value:this.state.values,formApi:this,meta:i});return}if(await this.validate("submit"),!this.state.isValid){r(),(u=(c=this.options).onSubmitInvalid)==null||u.call(c,{value:this.state.values,formApi:this,meta:i});return}Dn(()=>{Object.values(this.fieldInfo).forEach(g=>{var y,b,C;(C=(b=(y=g.instance)==null?void 0:y.options.listeners)==null?void 0:b.onSubmit)==null||C.call(b,{value:g.instance.state.value,fieldApi:g.instance})})}),(f=(h=this.options.listeners)==null?void 0:h.onSubmit)==null||f.call(h,{formApi:this,meta:i});try{await((v=(m=this.options).onSubmit)==null?void 0:v.call(m,{value:this.state.values,formApi:this,meta:i})),Dn(()=>{this.baseStore.setState(g=>({...g,isSubmitted:!0,isSubmitSuccessful:!0})),r()})}catch(g){throw this.baseStore.setState(y=>({...y,isSubmitSuccessful:!1})),r(),g}}setErrorMap(e){Dn(()=>{Object.entries(e).forEach(([i,r])=>{const s=i;if(Ed(r)){const{formError:o,fieldErrors:c}=dl(r);for(const u of Object.keys(this.fieldInfo))this.getFieldMeta(u)&&this.setFieldMeta(u,f=>({...f,errorMap:{...f.errorMap,[s]:c==null?void 0:c[u]},errorSourceMap:{...f.errorSourceMap,[s]:"form"}}));this.baseStore.setState(u=>({...u,errorMap:{...u.errorMap,[s]:o}}))}else this.baseStore.setState(o=>({...o,errorMap:{...o.errorMap,[s]:r}}))})})}}function dl(t){if(t){if(Ed(t)){const e=dl(t.form).formError,i=t.fields;return{formError:e,fieldErrors:i}}return{formError:t}}return{formError:void 0}}function Rs(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}class i8{constructor(e){this.options={},this.mount=()=>{var o,c;const i=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:s}=this.options.validators||{};if(s){const u=this.runValidator({validate:s,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});u&&this.setMeta(h=>({...h,errorMap:{...h==null?void 0:h.errorMap,onMount:u},errorSourceMap:{...h==null?void 0:h.errorSourceMap,onMount:"field"}}))}return(c=(o=this.options.listeners)==null?void 0:o.onMount)==null||c.call(o,{value:this.state.value,fieldApi:this}),i},this.update=i=>{this.options=i;const r=this.name!==i.name;if(this.name=i.name,this.state.value===void 0){const s=As(i.form.options.defaultValues,i.name),o=i.defaultValue??s;r?this.setValue(c=>c||o,{dontUpdateMeta:!0}):o!==void 0&&this.setValue(o,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(i,r)=>{this.form.setFieldValue(this.name,i,r),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=i=>this.form.setFieldMeta(this.name,i),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(i,r)=>{this.form.pushFieldValue(this.name,i,r),this.triggerOnChangeListener()},this.insertValue=(i,r,s)=>{this.form.insertFieldValue(this.name,i,r,s),this.triggerOnChangeListener()},this.replaceValue=(i,r,s)=>{this.form.replaceFieldValue(this.name,i,r,s),this.triggerOnChangeListener()},this.removeValue=(i,r)=>{this.form.removeFieldValue(this.name,i,r),this.triggerOnChangeListener()},this.swapValues=(i,r,s)=>{this.form.swapFieldValues(this.name,i,r,s),this.triggerOnChangeListener()},this.moveValue=(i,r,s)=>{this.form.moveFieldValues(this.name,i,r,s),this.triggerOnChangeListener()},this.clearValues=i=>{this.form.clearFieldValues(this.name,i),this.triggerOnChangeListener()},this.getLinkedFields=i=>{const r=Object.values(this.form.fieldInfo),s=[];for(const o of r){if(!o.instance)continue;const{onChangeListenTo:c,onBlurListenTo:u}=o.instance.options.validators||{};i==="change"&&(c!=null&&c.includes(this.name))&&s.push(o.instance),i==="blur"&&(u!=null&&u.includes(this.name))&&s.push(o.instance)}return s},this.validateSync=(i,r)=>{var f;const s=Cd(i,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ki}),c=this.getLinkedFields(i).reduce((m,v)=>{const g=Cd(i,{...v.options,form:v.form,validationLogic:v.form.options.validationLogic||Ki});return g.forEach(y=>{y.field=v}),m.concat(g)},[]);let u=!1;Dn(()=>{const m=(v,g)=>{var x;const y=tl(g.cause),b=g.validate?Hm(v.runValidator({validate:g.validate,value:{value:v.store.state.value,validationSource:"field",fieldApi:v},type:"validate"})):void 0,C=r[y],{newErrorValue:T,newSource:N}=Vm({formLevelError:C,fieldLevelError:b});((x=v.state.meta.errorMap)==null?void 0:x[y])!==T&&v.setMeta(_=>({..._,errorMap:{..._.errorMap,[y]:T},errorSourceMap:{..._.errorSourceMap,[y]:N}})),T&&(u=!0)};for(const v of s)m(this,v);for(const v of c)v.validate&&m(v.field,v)});const h=tl("submit");return(f=this.state.meta.errorMap)!=null&&f[h]&&i!=="submit"&&!u&&this.setMeta(m=>({...m,errorMap:{...m.errorMap,[h]:void 0},errorSourceMap:{...m.errorSourceMap,[h]:void 0}})),{hasErrored:u}},this.validateAsync=async(i,r)=>{const s=xd(i,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ki}),o=await r,c=this.getLinkedFields(i),u=c.reduce((g,y)=>{const b=xd(i,{...y.options,form:y.form,validationLogic:y.form.options.validationLogic||Ki});return b.forEach(C=>{C.field=y}),g.concat(b)},[]);this.state.meta.isValidating||this.setMeta(g=>({...g,isValidating:!0}));for(const g of c)g.setMeta(y=>({...y,isValidating:!0}));const h=[],f=[],m=(g,y,b)=>{const C=tl(y.cause),T=g.getInfo().validationMetaMap[C];T==null||T.lastAbortController.abort();const N=new AbortController;this.getInfo().validationMetaMap[C]={lastAbortController:N},b.push(new Promise(async x=>{var M;let _;try{_=await new Promise((D,P)=>{this.timeoutIds.validations[y.cause]&&clearTimeout(this.timeoutIds.validations[y.cause]),this.timeoutIds.validations[y.cause]=setTimeout(async()=>{if(N.signal.aborted)return D(void 0);try{D(await this.runValidator({validate:y.validate,value:{value:g.store.state.value,fieldApi:g,signal:N.signal,validationSource:"field"},type:"validateAsync"}))}catch(B){P(B)}},y.debounceMs)})}catch(D){_=D}if(N.signal.aborted)return x(void 0);const E=Hm(_),R=(M=o[this.name])==null?void 0:M[C],{newErrorValue:k,newSource:G}=Vm({formLevelError:R,fieldLevelError:E});g.setMeta(D=>({...D,errorMap:{...D==null?void 0:D.errorMap,[C]:k},errorSourceMap:{...D.errorSourceMap,[C]:G}})),x(k)}))};for(const g of s)g.validate&&m(this,g,h);for(const g of u)g.validate&&m(g.field,g,f);let v=[];(h.length||f.length)&&(v=await Promise.all(h),await Promise.all(f)),this.setMeta(g=>({...g,isValidating:!1}));for(const g of c)g.setMeta(y=>({...y,isValidating:!1}));return v.filter(Boolean)},this.validate=(i,r)=>{var u;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:s}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(i),{hasErrored:o}=this.validateSync(i,s[this.name]??{});if(o&&!this.options.asyncAlways)return(u=this.getInfo().validationMetaMap[tl(i)])==null||u.lastAbortController.abort(),this.state.meta.errors;const c=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(i);return this.validateAsync(i,c)},this.handleChange=i=>{this.setValue(i)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=i=>Ji.validate({value:this.state.value,validationSource:"field"},i),this.parseValueWithSchemaAsync=i=>Ji.validateAsync({value:this.state.value,validationSource:"field"},i),this.form=e.form,this.name=e.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Ju({deps:[this.form.store],fn:()=>{const i=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{...Sl,...e.defaultMeta};return{value:i,meta:r}}}),this.options=e}get state(){return this.store.state}runValidator(e){return p2(e.validate)?Ji[e.type](e.value,e.validate):e.validate(e.value)}setErrorMap(e){this.setMeta(i=>({...i,errorMap:{...i.errorMap,...e}}))}triggerOnBlurListener(){var r,s,o,c,u,h;const e=(r=this.form.options.listeners)==null?void 0:r.onBlurDebounceMs;e&&e>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var f,m;(m=(f=this.form.options.listeners)==null?void 0:f.onBlur)==null||m.call(f,{formApi:this.form,fieldApi:this})},e)):(o=(s=this.form.options.listeners)==null?void 0:s.onBlur)==null||o.call(s,{formApi:this.form,fieldApi:this});const i=(c=this.options.listeners)==null?void 0:c.onBlurDebounceMs;i&&i>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var f,m;(m=(f=this.options.listeners)==null?void 0:f.onBlur)==null||m.call(f,{value:this.state.value,fieldApi:this})},i)):(h=(u=this.options.listeners)==null?void 0:u.onBlur)==null||h.call(u,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var r,s,o,c,u,h;const e=(r=this.form.options.listeners)==null?void 0:r.onChangeDebounceMs;e&&e>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{var f,m;(m=(f=this.form.options.listeners)==null?void 0:f.onChange)==null||m.call(f,{formApi:this.form,fieldApi:this})},e)):(o=(s=this.form.options.listeners)==null?void 0:s.onChange)==null||o.call(s,{formApi:this.form,fieldApi:this});const i=(c=this.options.listeners)==null?void 0:c.onChangeDebounceMs;i&&i>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var f,m;(m=(f=this.options.listeners)==null?void 0:f.onChange)==null||m.call(f,{value:this.state.value,fieldApi:this})},i)):(h=(u=this.options.listeners)==null?void 0:u.onChange)==null||h.call(u,{value:this.state.value,fieldApi:this})}}function Hm(t){if(t)return t}function tl(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";case"change":default:return"onChange"}}const Cl=typeof window<"u"?X.useLayoutEffect:X.useEffect;function r8(t){const[e]=X.useState(()=>{const r=new i8({...t,form:t.form,name:t.name});return r.Field=m2,r});return Cl(e.mount,[e]),Cl(()=>{e.update(t)}),$m(e.store,t.mode==="array"?i=>[i.meta,Object.keys(i.value??[]).length]:void 0),e}const m2=({children:t,...e})=>{const i=r8(e),r=X.useMemo(()=>Vl(t,i),[t,i,i.state.value,i.state.meta]);return ne.jsx(ne.Fragment,{children:r})};function s8({form:t,selector:e,children:i}){const r=$m(t.store,e);return Vl(i,r)}function o8(t){const[e]=X.useState(()=>{const i=new a8(t),r=i;return r.Field=function(o){return ne.jsx(m2,{...o,form:i})},r.Subscribe=function(o){return ne.jsx(s8,{form:i,selector:o.selector,children:o.children})},r});return Cl(e.mount,[]),Cl(()=>{e.update(t)}),e}var Ve;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function i(s){throw new Error}t.assertNever=i,t.arrayToEnum=s=>{const o={};for(const c of s)o[c]=c;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of o)c[u]=s[u];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.push(c);return o},t.find=(s,o)=>{for(const c of s)if(o(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ve||(Ve={}));var Td;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(Td||(Td={}));const pe=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$n=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},re=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),l8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){const i=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(i(c));else{let u=r,h=0;for(;h<c.path.length;){const f=c.path[h];h===c.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(i(c))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return s(this),r}static assert(e){if(!(e instanceof rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){const i={},r=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];i[o]=i[o]||[],i[o].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:i}}get formErrors(){return this.flatten()}}rn.create=t=>new rn(t);const nr=(t,e)=>{let i;switch(t.code){case re.invalid_type:t.received===pe.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,Ve.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:i=`Unrecognized key(s) in object: ${Ve.joinValues(t.keys,", ")}`;break;case re.invalid_union:i="Invalid input";break;case re.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Ve.joinValues(t.options)}`;break;case re.invalid_enum_value:i=`Invalid enum value. Expected ${Ve.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:i="Invalid function arguments";break;case re.invalid_return_type:i="Invalid function return type";break;case re.invalid_date:i="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:Ve.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case re.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case re.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case re.custom:i="Invalid input";break;case re.invalid_intersection_types:i="Intersection results could not be merged";break;case re.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:i="Number must be finite";break;default:i=e.defaultError,Ve.assertNever(t)}return{message:i}};let g2=nr;function c8(t){g2=t}function xl(){return g2}const El=t=>{const{data:e,path:i,errorMaps:r,issueData:s}=t,o=[...i,...s.path||[]],c={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const h=r.filter(f=>!!f).slice().reverse();for(const f of h)u=f(c,{data:e,defaultError:u}).message;return{...s,path:o,message:u}},u8=[];function de(t,e){const i=xl(),r=El({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===nr?void 0:nr].filter(s=>!!s)});t.common.issues.push(r)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){const r=[];for(const s of i){if(s.status==="aborted")return Ee;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,i){const r=[];for(const s of i){const o=await s.key,c=await s.value;r.push({key:o,value:c})}return zt.mergeObjectSync(e,r)}static mergeObjectSync(e,i){const r={};for(const s of i){const{key:o,value:c}=s;if(o.status==="aborted"||c.status==="aborted")return Ee;o.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[o.value]=c.value)}return{status:e.value,value:r}}}const Ee=Object.freeze({status:"aborted"}),Xi=t=>({status:"dirty",value:t}),Bt=t=>({status:"valid",value:t}),Rd=t=>t.status==="aborted",Md=t=>t.status==="dirty",ni=t=>t.status==="valid",Us=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class wn{constructor(e,i,r,s){this._cachedPath=[],this.parent=e,this.data=i,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Im=(t,e)=>{if(ni(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new rn(t.common.issues);return this._error=i,this._error}}};function Ae(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:r,description:s}=t;if(e&&(i||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:h??r??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:h??i??u.defaultError}},description:s}}class De{get description(){return this._def.description}_getType(e){return $n(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:$n(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zt,ctx:{common:e.parent.common,data:e.data,parsedType:$n(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const i=this._parse(e);if(Us(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){const i=this._parse(e);return Promise.resolve(i)}parse(e,i){const r=this.safeParse(e,i);if(r.success)return r.data;throw r.error}safeParse(e,i){const r={common:{issues:[],async:(i==null?void 0:i.async)??!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$n(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Im(r,s)}"~validate"(e){var r,s;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$n(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return ni(o)?{value:o.value}:{issues:i.common.issues}}catch(o){(s=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>ni(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,i){const r=await this.safeParseAsync(e,i);if(r.success)return r.data;throw r.error}async safeParseAsync(e,i){const r={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$n(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(Us(s)?s:Promise.resolve(s));return Im(r,o)}refine(e,i){const r=s=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(s):i;return this._refinement((s,o)=>{const c=e(s),u=()=>o.addIssue({code:re.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,i){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof i=="function"?i(r,s):i),!1))}_refinement(e){return new Tn({schema:this,typeName:Te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return Pn.create(this,this._def)}nullable(){return ka.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return En.create(this)}promise(){return ir.create(this,this._def)}or(e){return Fs.create([this,e],this._def)}and(e){return Vs.create(this,e,this._def)}transform(e){return new Tn({...Ae(this._def),schema:this,typeName:Te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const i=typeof e=="function"?e:()=>e;return new Ys({...Ae(this._def),innerType:this,defaultValue:i,typeName:Te.ZodDefault})}brand(){return new Jd({typeName:Te.ZodBranded,type:this,...Ae(this._def)})}catch(e){const i=typeof e=="function"?e:()=>e;return new Ks({...Ae(this._def),innerType:this,catchValue:i,typeName:Te.ZodCatch})}describe(e){const i=this.constructor;return new i({...this._def,description:e})}pipe(e){return Zs.create(this,e)}readonly(){return Xs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const d8=/^c[^\s-]{8,}$/i,h8=/^[0-9a-z]+$/,f8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,p8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m8=/^[a-z0-9_-]{21}$/i,g8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,y8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wu;const b8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,C8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,x8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,y2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",R8=new RegExp(`^${y2}$`);function v2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const i=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${i}`}function M8(t){return new RegExp(`^${v2(t)}$`)}function _2(t){let e=`${y2}T${v2(t)}`;const i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function A8(t,e){return!!((e==="v4"||!e)&&b8.test(t)||(e==="v6"||!e)&&C8.test(t))}function N8(t,e){if(!g8.test(t))return!1;try{const[i]=t.split(".");if(!i)return!1;const r=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function O8(t,e){return!!((e==="v4"||!e)&&S8.test(t)||(e==="v6"||!e)&&x8.test(t))}class xn extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const o=this._getOrReturnCtx(e);return de(o,{code:re.invalid_type,expected:pe.string,received:o.parsedType}),Ee}const r=new zt;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:re.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:re.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const c=e.data.length>o.value,u=e.data.length<o.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?de(s,{code:re.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&de(s,{code:re.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")v8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"email",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Wu||(Wu=new RegExp(_8,"u")),Wu.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"emoji",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")p8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"uuid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")m8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"nanoid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")d8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")h8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid2",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")f8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ulid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),de(s,{validation:"url",code:re.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"regex",code:re.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?_2(o).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?R8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?M8(o).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:re.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?y8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"duration",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?A8(e.data,o.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ip",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?N8(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"jwt",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?O8(e.data,o.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cidr",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?E8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?T8.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64url",code:re.invalid_string,message:o.message}),r.dirty()):Ve.assertNever(o);return{status:r.value,value:e.data}}_regex(e,i,r){return this.refinement(s=>e.test(s),{validation:i,code:re.invalid_string,..._e.errToObj(r)})}_addCheck(e){return new xn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i==null?void 0:i.position,..._e.errToObj(i==null?void 0:i.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,..._e.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,..._e.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,..._e.errToObj(i)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}xn.create=t=>new xn({checks:[],typeName:Te.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ae(t)});function D8(t,e){const i=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=i>r?i:r,o=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}class Na extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const o=this._getOrReturnCtx(e);return de(o,{code:re.invalid_type,expected:pe.number,received:o.parsedType}),Ee}let r;const s=new zt;for(const o of this._def.checks)o.kind==="int"?Ve.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?D8(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:re.not_finite,message:o.message}),s.dirty()):Ve.assertNever(o);return{status:s.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,_e.toString(i))}gt(e,i){return this.setLimit("min",e,!1,_e.toString(i))}lte(e,i){return this.setLimit("max",e,!0,_e.toString(i))}lt(e,i){return this.setLimit("max",e,!1,_e.toString(i))}setLimit(e,i,r,s){return new Na({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ve.isInteger(e.value))}get isFinite(){let e=null,i=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(i===null||r.value>i)&&(i=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(i)&&Number.isFinite(e)}}Na.create=t=>new Na({checks:[],typeName:Te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class Oa extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let r;const s=new zt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:re.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ve.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const i=this._getOrReturnCtx(e);return de(i,{code:re.invalid_type,expected:pe.bigint,received:i.parsedType}),Ee}gte(e,i){return this.setLimit("min",e,!0,_e.toString(i))}gt(e,i){return this.setLimit("min",e,!1,_e.toString(i))}lte(e,i){return this.setLimit("max",e,!0,_e.toString(i))}lt(e,i){return this.setLimit("max",e,!1,_e.toString(i))}setLimit(e,i,r,s){return new Oa({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Oa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(i)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}Oa.create=t=>new Oa({checks:[],typeName:Te.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ae(t)});class Gs extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.boolean,received:r.parsedType}),Ee}return Bt(e.data)}}Gs.create=t=>new Gs({typeName:Te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class ai extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const o=this._getOrReturnCtx(e);return de(o,{code:re.invalid_type,expected:pe.date,received:o.parsedType}),Ee}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return de(o,{code:re.invalid_date}),Ee}const r=new zt;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:re.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:re.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ve.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}min(e,i){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(i)})}max(e,i){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(i)})}get minDate(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e!=null?new Date(e):null}}ai.create=t=>new ai({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Te.ZodDate,...Ae(t)});class Tl extends De{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.symbol,received:r.parsedType}),Ee}return Bt(e.data)}}Tl.create=t=>new Tl({typeName:Te.ZodSymbol,...Ae(t)});class Ls extends De{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.undefined,received:r.parsedType}),Ee}return Bt(e.data)}}Ls.create=t=>new Ls({typeName:Te.ZodUndefined,...Ae(t)});class Bs extends De{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.null,received:r.parsedType}),Ee}return Bt(e.data)}}Bs.create=t=>new Bs({typeName:Te.ZodNull,...Ae(t)});class ar extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return Bt(e.data)}}ar.create=t=>new ar({typeName:Te.ZodAny,...Ae(t)});class Ja extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bt(e.data)}}Ja.create=t=>new Ja({typeName:Te.ZodUnknown,...Ae(t)});class ta extends De{_parse(e){const i=this._getOrReturnCtx(e);return de(i,{code:re.invalid_type,expected:pe.never,received:i.parsedType}),Ee}}ta.create=t=>new ta({typeName:Te.ZodNever,...Ae(t)});class Rl extends De{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.void,received:r.parsedType}),Ee}return Bt(e.data)}}Rl.create=t=>new Rl({typeName:Te.ZodVoid,...Ae(t)});class En extends De{_parse(e){const{ctx:i,status:r}=this._processInputParams(e),s=this._def;if(i.parsedType!==pe.array)return de(i,{code:re.invalid_type,expected:pe.array,received:i.parsedType}),Ee;if(s.exactLength!==null){const c=i.data.length>s.exactLength.value,u=i.data.length<s.exactLength.value;(c||u)&&(de(i,{code:c?re.too_big:re.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&i.data.length<s.minLength.value&&(de(i,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&i.data.length>s.maxLength.value&&(de(i,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),i.common.async)return Promise.all([...i.data].map((c,u)=>s.type._parseAsync(new wn(i,c,i.path,u)))).then(c=>zt.mergeArray(r,c));const o=[...i.data].map((c,u)=>s.type._parseSync(new wn(i,c,i.path,u)));return zt.mergeArray(r,o)}get element(){return this._def.type}min(e,i){return new En({...this._def,minLength:{value:e,message:_e.toString(i)}})}max(e,i){return new En({...this._def,maxLength:{value:e,message:_e.toString(i)}})}length(e,i){return new En({...this._def,exactLength:{value:e,message:_e.toString(i)}})}nonempty(e){return this.min(1,e)}}En.create=(t,e)=>new En({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Te.ZodArray,...Ae(e)});function Yi(t){if(t instanceof nt){const e={};for(const i in t.shape){const r=t.shape[i];e[i]=Pn.create(Yi(r))}return new nt({...t._def,shape:()=>e})}else return t instanceof En?new En({...t._def,type:Yi(t.element)}):t instanceof Pn?Pn.create(Yi(t.unwrap())):t instanceof ka?ka.create(Yi(t.unwrap())):t instanceof zn?zn.create(t.items.map(e=>Yi(e))):t}class nt extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),i=Ve.objectKeys(e);return this._cached={shape:e,keys:i},this._cached}_parse(e){if(this._getType(e)!==pe.object){const f=this._getOrReturnCtx(e);return de(f,{code:re.invalid_type,expected:pe.object,received:f.parsedType}),Ee}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ta&&this._def.unknownKeys==="strip"))for(const f in s.data)c.includes(f)||u.push(f);const h=[];for(const f of c){const m=o[f],v=s.data[f];h.push({key:{status:"valid",value:f},value:m._parse(new wn(s,v,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof ta){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of u)h.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(f==="strict")u.length>0&&(de(s,{code:re.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of u){const v=s.data[m];h.push({key:{status:"valid",value:m},value:f._parse(new wn(s,v,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of h){const v=await m.key,g=await m.value;f.push({key:v,value:g,alwaysSet:m.alwaysSet})}return f}).then(f=>zt.mergeObjectSync(r,f)):zt.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new nt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(i,r)=>{var o,c;const s=((c=(o=this._def).errorMap)==null?void 0:c.call(o,i,r).message)??r.defaultError;return i.code==="unrecognized_keys"?{message:_e.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new nt({...this._def,unknownKeys:"strip"})}passthrough(){return new nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Te.ZodObject})}setKey(e,i){return this.augment({[e]:i})}catchall(e){return new nt({...this._def,catchall:e})}pick(e){const i={};for(const r of Ve.objectKeys(e))e[r]&&this.shape[r]&&(i[r]=this.shape[r]);return new nt({...this._def,shape:()=>i})}omit(e){const i={};for(const r of Ve.objectKeys(this.shape))e[r]||(i[r]=this.shape[r]);return new nt({...this._def,shape:()=>i})}deepPartial(){return Yi(this)}partial(e){const i={};for(const r of Ve.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?i[r]=s:i[r]=s.optional()}return new nt({...this._def,shape:()=>i})}required(e){const i={};for(const r of Ve.objectKeys(this.shape))if(e&&!e[r])i[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Pn;)o=o._def.innerType;i[r]=o}return new nt({...this._def,shape:()=>i})}keyof(){return b2(Ve.objectKeys(this.shape))}}nt.create=(t,e)=>new nt({shape:()=>t,unknownKeys:"strip",catchall:ta.create(),typeName:Te.ZodObject,...Ae(e)});nt.strictCreate=(t,e)=>new nt({shape:()=>t,unknownKeys:"strict",catchall:ta.create(),typeName:Te.ZodObject,...Ae(e)});nt.lazycreate=(t,e)=>new nt({shape:t,unknownKeys:"strip",catchall:ta.create(),typeName:Te.ZodObject,...Ae(e)});class Fs extends De{_parse(e){const{ctx:i}=this._processInputParams(e),r=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return i.common.issues.push(...u.ctx.common.issues),u.result;const c=o.map(u=>new rn(u.ctx.common.issues));return de(i,{code:re.invalid_union,unionErrors:c}),Ee}if(i.common.async)return Promise.all(r.map(async o=>{const c={...i,common:{...i.common,issues:[]},parent:null};return{result:await o._parseAsync({data:i.data,path:i.path,parent:c}),ctx:c}})).then(s);{let o;const c=[];for(const h of r){const f={...i,common:{...i.common,issues:[]},parent:null},m=h._parseSync({data:i.data,path:i.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(o)return i.common.issues.push(...o.ctx.common.issues),o.result;const u=c.map(h=>new rn(h));return de(i,{code:re.invalid_union,unionErrors:u}),Ee}}get options(){return this._def.options}}Fs.create=(t,e)=>new Fs({options:t,typeName:Te.ZodUnion,...Ae(e)});const Jn=t=>t instanceof Hs?Jn(t.schema):t instanceof Tn?Jn(t.innerType()):t instanceof Is?[t.value]:t instanceof Da?t.options:t instanceof qs?Ve.objectValues(t.enum):t instanceof Ys?Jn(t._def.innerType):t instanceof Ls?[void 0]:t instanceof Bs?[null]:t instanceof Pn?[void 0,...Jn(t.unwrap())]:t instanceof ka?[null,...Jn(t.unwrap())]:t instanceof Jd||t instanceof Xs?Jn(t.unwrap()):t instanceof Ks?Jn(t._def.innerType):[];class jl extends De{_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.object)return de(i,{code:re.invalid_type,expected:pe.object,received:i.parsedType}),Ee;const r=this.discriminator,s=i.data[r],o=this.optionsMap.get(s);return o?i.common.async?o._parseAsync({data:i.data,path:i.path,parent:i}):o._parseSync({data:i.data,path:i.path,parent:i}):(de(i,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,i,r){const s=new Map;for(const o of i){const c=Jn(o.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,o)}}return new jl({typeName:Te.ZodDiscriminatedUnion,discriminator:e,options:i,optionsMap:s,...Ae(r)})}}function Ad(t,e){const i=$n(t),r=$n(e);if(t===e)return{valid:!0,data:t};if(i===pe.object&&r===pe.object){const s=Ve.objectKeys(e),o=Ve.objectKeys(t).filter(u=>s.indexOf(u)!==-1),c={...t,...e};for(const u of o){const h=Ad(t[u],e[u]);if(!h.valid)return{valid:!1};c[u]=h.data}return{valid:!0,data:c}}else if(i===pe.array&&r===pe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const c=t[o],u=e[o],h=Ad(c,u);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return i===pe.date&&r===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vs extends De{_parse(e){const{status:i,ctx:r}=this._processInputParams(e),s=(o,c)=>{if(Rd(o)||Rd(c))return Ee;const u=Ad(o.value,c.value);return u.valid?((Md(o)||Md(c))&&i.dirty(),{status:i.value,value:u.data}):(de(r,{code:re.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,c])=>s(o,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vs.create=(t,e,i)=>new Vs({left:t,right:e,typeName:Te.ZodIntersection,...Ae(i)});class zn extends De{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return de(r,{code:re.invalid_type,expected:pe.array,received:r.parsedType}),Ee;if(r.data.length<this._def.items.length)return de(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const o=[...r.data].map((c,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new wn(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(o).then(c=>zt.mergeArray(i,c)):zt.mergeArray(i,o)}get items(){return this._def.items}rest(e){return new zn({...this._def,rest:e})}}zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:t,typeName:Te.ZodTuple,rest:null,...Ae(e)})};class js extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return de(r,{code:re.invalid_type,expected:pe.object,received:r.parsedType}),Ee;const s=[],o=this._def.keyType,c=this._def.valueType;for(const u in r.data)s.push({key:o._parse(new wn(r,u,r.path,u)),value:c._parse(new wn(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?zt.mergeObjectAsync(i,s):zt.mergeObjectSync(i,s)}get element(){return this._def.valueType}static create(e,i,r){return i instanceof De?new js({keyType:e,valueType:i,typeName:Te.ZodRecord,...Ae(r)}):new js({keyType:xn.create(),valueType:e,typeName:Te.ZodRecord,...Ae(i)})}}class Ml extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return de(r,{code:re.invalid_type,expected:pe.map,received:r.parsedType}),Ee;const s=this._def.keyType,o=this._def.valueType,c=[...r.data.entries()].map(([u,h],f)=>({key:s._parse(new wn(r,u,r.path,[f,"key"])),value:o._parse(new wn(r,h,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of c){const f=await h.key,m=await h.value;if(f.status==="aborted"||m.status==="aborted")return Ee;(f.status==="dirty"||m.status==="dirty")&&i.dirty(),u.set(f.value,m.value)}return{status:i.value,value:u}})}else{const u=new Map;for(const h of c){const f=h.key,m=h.value;if(f.status==="aborted"||m.status==="aborted")return Ee;(f.status==="dirty"||m.status==="dirty")&&i.dirty(),u.set(f.value,m.value)}return{status:i.value,value:u}}}}Ml.create=(t,e,i)=>new Ml({valueType:e,keyType:t,typeName:Te.ZodMap,...Ae(i)});class ii extends De{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return de(r,{code:re.invalid_type,expected:pe.set,received:r.parsedType}),Ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(de(r,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),i.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(de(r,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),i.dirty());const o=this._def.valueType;function c(h){const f=new Set;for(const m of h){if(m.status==="aborted")return Ee;m.status==="dirty"&&i.dirty(),f.add(m.value)}return{status:i.value,value:f}}const u=[...r.data.values()].map((h,f)=>o._parse(new wn(r,h,r.path,f)));return r.common.async?Promise.all(u).then(h=>c(h)):c(u)}min(e,i){return new ii({...this._def,minSize:{value:e,message:_e.toString(i)}})}max(e,i){return new ii({...this._def,maxSize:{value:e,message:_e.toString(i)}})}size(e,i){return this.min(e,i).max(e,i)}nonempty(e){return this.min(1,e)}}ii.create=(t,e)=>new ii({valueType:t,minSize:null,maxSize:null,typeName:Te.ZodSet,...Ae(e)});class $i extends De{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.function)return de(i,{code:re.invalid_type,expected:pe.function,received:i.parsedType}),Ee;function r(u,h){return El({data:u,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,xl(),nr].filter(f=>!!f),issueData:{code:re.invalid_arguments,argumentsError:h}})}function s(u,h){return El({data:u,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,xl(),nr].filter(f=>!!f),issueData:{code:re.invalid_return_type,returnTypeError:h}})}const o={errorMap:i.common.contextualErrorMap},c=i.data;if(this._def.returns instanceof ir){const u=this;return Bt(async function(...h){const f=new rn([]),m=await u._def.args.parseAsync(h,o).catch(y=>{throw f.addIssue(r(h,y)),f}),v=await Reflect.apply(c,this,m);return await u._def.returns._def.type.parseAsync(v,o).catch(y=>{throw f.addIssue(s(v,y)),f})})}else{const u=this;return Bt(function(...h){const f=u._def.args.safeParse(h,o);if(!f.success)throw new rn([r(h,f.error)]);const m=Reflect.apply(c,this,f.data),v=u._def.returns.safeParse(m,o);if(!v.success)throw new rn([s(m,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $i({...this._def,args:zn.create(e).rest(Ja.create())})}returns(e){return new $i({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,i,r){return new $i({args:e||zn.create([]).rest(Ja.create()),returns:i||Ja.create(),typeName:Te.ZodFunction,...Ae(r)})}}class Hs extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:i}=this._processInputParams(e);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}Hs.create=(t,e)=>new Hs({getter:t,typeName:Te.ZodLazy,...Ae(e)});class Is extends De{_parse(e){if(e.data!==this._def.value){const i=this._getOrReturnCtx(e);return de(i,{received:i.data,code:re.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}Is.create=(t,e)=>new Is({value:t,typeName:Te.ZodLiteral,...Ae(e)});function b2(t,e){return new Da({values:t,typeName:Te.ZodEnum,...Ae(e)})}class Da extends De{_parse(e){if(typeof e.data!="string"){const i=this._getOrReturnCtx(e),r=this._def.values;return de(i,{expected:Ve.joinValues(r),received:i.parsedType,code:re.invalid_type}),Ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const i=this._getOrReturnCtx(e),r=this._def.values;return de(i,{received:i.data,code:re.invalid_enum_value,options:r}),Ee}return Bt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const i of this._def.values)e[i]=i;return e}get Values(){const e={};for(const i of this._def.values)e[i]=i;return e}get Enum(){const e={};for(const i of this._def.values)e[i]=i;return e}extract(e,i=this._def){return Da.create(e,{...this._def,...i})}exclude(e,i=this._def){return Da.create(this.options.filter(r=>!e.includes(r)),{...this._def,...i})}}Da.create=b2;class qs extends De{_parse(e){const i=Ve.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const s=Ve.objectValues(i);return de(r,{expected:Ve.joinValues(s),received:r.parsedType,code:re.invalid_type}),Ee}if(this._cache||(this._cache=new Set(Ve.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ve.objectValues(i);return de(r,{received:r.data,code:re.invalid_enum_value,options:s}),Ee}return Bt(e.data)}get enum(){return this._def.values}}qs.create=(t,e)=>new qs({values:t,typeName:Te.ZodNativeEnum,...Ae(e)});class ir extends De{unwrap(){return this._def.type}_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==pe.promise&&i.common.async===!1)return de(i,{code:re.invalid_type,expected:pe.promise,received:i.parsedType}),Ee;const r=i.parsedType===pe.promise?i.data:Promise.resolve(i.data);return Bt(r.then(s=>this._def.type.parseAsync(s,{path:i.path,errorMap:i.common.contextualErrorMap})))}}ir.create=(t,e)=>new ir({type:t,typeName:Te.ZodPromise,...Ae(e)});class Tn extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:i,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:c=>{de(r,c),c.fatal?i.abort():i.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const c=s.transform(r.data,o);if(r.common.async)return Promise.resolve(c).then(async u=>{if(i.value==="aborted")return Ee;const h=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return h.status==="aborted"?Ee:h.status==="dirty"||i.value==="dirty"?Xi(h.value):h});{if(i.value==="aborted")return Ee;const u=this._def.schema._parseSync({data:c,path:r.path,parent:r});return u.status==="aborted"?Ee:u.status==="dirty"||i.value==="dirty"?Xi(u.value):u}}if(s.type==="refinement"){const c=u=>{const h=s.refinement(u,o);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ee:(u.status==="dirty"&&i.dirty(),c(u.value),{status:i.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ee:(u.status==="dirty"&&i.dirty(),c(u.value).then(()=>({status:i.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ni(c))return Ee;const u=s.transform(c.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>ni(c)?Promise.resolve(s.transform(c.value,o)).then(u=>({status:i.value,value:u})):Ee);Ve.assertNever(s)}}Tn.create=(t,e,i)=>new Tn({schema:t,typeName:Te.ZodEffects,effect:e,...Ae(i)});Tn.createWithPreprocess=(t,e,i)=>new Tn({schema:e,effect:{type:"preprocess",transform:t},typeName:Te.ZodEffects,...Ae(i)});class Pn extends De{_parse(e){return this._getType(e)===pe.undefined?Bt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pn.create=(t,e)=>new Pn({innerType:t,typeName:Te.ZodOptional,...Ae(e)});class ka extends De{_parse(e){return this._getType(e)===pe.null?Bt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ka.create=(t,e)=>new ka({innerType:t,typeName:Te.ZodNullable,...Ae(e)});class Ys extends De{_parse(e){const{ctx:i}=this._processInputParams(e);let r=i.data;return i.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}Ys.create=(t,e)=>new Ys({innerType:t,typeName:Te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ae(e)});class Ks extends De{_parse(e){const{ctx:i}=this._processInputParams(e),r={...i,common:{...i.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Us(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new rn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ks.create=(t,e)=>new Ks({innerType:t,typeName:Te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ae(e)});class Al extends De{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return de(r,{code:re.invalid_type,expected:pe.nan,received:r.parsedType}),Ee}return{status:"valid",value:e.data}}}Al.create=t=>new Al({typeName:Te.ZodNaN,...Ae(t)});const k8=Symbol("zod_brand");class Jd extends De{_parse(e){const{ctx:i}=this._processInputParams(e),r=i.data;return this._def.type._parse({data:r,path:i.path,parent:i})}unwrap(){return this._def.type}}class Zs extends De{_parse(e){const{status:i,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ee:o.status==="dirty"?(i.dirty(),Xi(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ee:s.status==="dirty"?(i.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,i){return new Zs({in:e,out:i,typeName:Te.ZodPipeline})}}class Xs extends De{_parse(e){const i=this._def.innerType._parse(e),r=s=>(ni(s)&&(s.value=Object.freeze(s.value)),s);return Us(i)?i.then(s=>r(s)):r(i)}unwrap(){return this._def.innerType}}Xs.create=(t,e)=>new Xs({innerType:t,typeName:Te.ZodReadonly,...Ae(e)});function qm(t,e){const i=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof i=="string"?{message:i}:i}function S2(t,e={},i){return t?ar.create().superRefine((r,s)=>{const o=t(r);if(o instanceof Promise)return o.then(c=>{if(!c){const u=qm(e,r),h=u.fatal??i??!0;s.addIssue({code:"custom",...u,fatal:h})}});if(!o){const c=qm(e,r),u=c.fatal??i??!0;s.addIssue({code:"custom",...c,fatal:u})}}):ar.create()}const P8={object:nt.lazycreate};var Te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Te||(Te={}));const w8=(t,e={message:`Input not instance of ${t.name}`})=>S2(i=>i instanceof t,e),C2=xn.create,x2=Na.create,z8=Al.create,U8=Oa.create,E2=Gs.create,G8=ai.create,L8=Tl.create,B8=Ls.create,F8=Bs.create,V8=ar.create,j8=Ja.create,H8=ta.create,I8=Rl.create,q8=En.create,Y8=nt.create,K8=nt.strictCreate,X8=Fs.create,Z8=jl.create,Q8=Vs.create,W8=zn.create,J8=js.create,$8=Ml.create,eS=ii.create,tS=$i.create,nS=Hs.create,aS=Is.create,iS=Da.create,rS=qs.create,sS=ir.create,Ym=Tn.create,oS=Pn.create,lS=ka.create,cS=Tn.createWithPreprocess,uS=Zs.create,dS=()=>C2().optional(),hS=()=>x2().optional(),fS=()=>E2().optional(),pS={string:t=>xn.create({...t,coerce:!0}),number:t=>Na.create({...t,coerce:!0}),boolean:t=>Gs.create({...t,coerce:!0}),bigint:t=>Oa.create({...t,coerce:!0}),date:t=>ai.create({...t,coerce:!0})},mS=Ee,Km=Object.freeze(Object.defineProperty({__proto__:null,BRAND:k8,DIRTY:Xi,EMPTY_PATH:u8,INVALID:Ee,NEVER:mS,OK:Bt,ParseStatus:zt,Schema:De,ZodAny:ar,ZodArray:En,ZodBigInt:Oa,ZodBoolean:Gs,ZodBranded:Jd,ZodCatch:Ks,ZodDate:ai,ZodDefault:Ys,ZodDiscriminatedUnion:jl,ZodEffects:Tn,ZodEnum:Da,ZodError:rn,get ZodFirstPartyTypeKind(){return Te},ZodFunction:$i,ZodIntersection:Vs,ZodIssueCode:re,ZodLazy:Hs,ZodLiteral:Is,ZodMap:Ml,ZodNaN:Al,ZodNativeEnum:qs,ZodNever:ta,ZodNull:Bs,ZodNullable:ka,ZodNumber:Na,ZodObject:nt,ZodOptional:Pn,ZodParsedType:pe,ZodPipeline:Zs,ZodPromise:ir,ZodReadonly:Xs,ZodRecord:js,ZodSchema:De,ZodSet:ii,ZodString:xn,ZodSymbol:Tl,ZodTransformer:Tn,ZodTuple:zn,ZodType:De,ZodUndefined:Ls,ZodUnion:Fs,ZodUnknown:Ja,ZodVoid:Rl,addIssueToContext:de,any:V8,array:q8,bigint:U8,boolean:E2,coerce:pS,custom:S2,date:G8,datetimeRegex:_2,defaultErrorMap:nr,discriminatedUnion:Z8,effect:Ym,enum:iS,function:tS,getErrorMap:xl,getParsedType:$n,instanceof:w8,intersection:Q8,isAborted:Rd,isAsync:Us,isDirty:Md,isValid:ni,late:P8,lazy:nS,literal:aS,makeIssue:El,map:$8,nan:z8,nativeEnum:rS,never:H8,null:F8,nullable:lS,number:x2,object:Y8,get objectUtil(){return Td},oboolean:fS,onumber:hS,optional:oS,ostring:dS,pipeline:uS,preprocess:cS,promise:sS,quotelessJson:l8,record:J8,set:eS,setErrorMap:c8,strictObject:K8,string:C2,symbol:L8,transformer:Ym,tuple:W8,undefined:B8,union:X8,unknown:j8,get util(){return Ve},void:I8},Symbol.toStringTag,{value:"Module"}));function Xm({className:t,type:e,...i}){return ne.jsx("input",{type:e,"data-slot":"input",className:gn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}var gS="Label",T2=X.forwardRef((t,e)=>ne.jsx(Un.label,{...t,ref:e,onMouseDown:i=>{var s;i.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));T2.displayName=gS;var yS=T2;function vS({className:t,...e}){return ne.jsx(yS,{"data-slot":"label",className:gn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function _S({className:t,...e}){return ne.jsx("div",{"data-slot":"skeleton",className:gn("bg-accent animate-pulse rounded-md",t),...e})}const Zm=Km.object({peerId:Km.string().min(1,"Peer ID is required")});function bS({connect:t,id:e}){const i=Jm(),r=()=>i({to:"/"}),s=o8({defaultValues:{peerId:""},validators:{onBlur:Zm,onSubmit:Zm},onSubmit:({value:c})=>{const u=c.peerId.trim();t(u)}}),o=()=>e?ne.jsx(Xm,{type:"text",id:"id",placeholder:"id",readOnly:!0,value:e,className:"text-white bg-black text-white md:w-1/3 sm:w-1/2"}):ne.jsx(_S,{className:"w-96 h-12"});return ne.jsxs("div",{className:"bg-bg bg-cover bg-center aspect-auto w-screen h-screen bg-[image:var(--bg-home)]",children:[ne.jsx(Qo,{className:"bg-white text-black m-4",onClick:r,children:"back"}),ne.jsxs("div",{className:"flex flex-col gap-8 justify-center m-auto h-3/4",children:[ne.jsxs("div",{className:"flex justify-center items-center gap-x-4 mx-4",children:[ne.jsx(vS,{htmlFor:"id",className:"text-white text-4xl",children:"ID"}),ne.jsx(o,{}),ne.jsx(Qo,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(e),Gv.success("Copied to clipboard")},children:"Copy"})]}),ne.jsx("div",{className:"flex justify-center items-center mx-4 ",children:ne.jsxs("form",{className:"flex flex-col justify-center items-center gap-y-4 text-white",onSubmit:c=>{c.preventDefault(),c.stopPropagation(),s.handleSubmit()},children:[ne.jsx(s.Field,{name:"peerId",children:c=>ne.jsxs(ne.Fragment,{children:[ne.jsx("label",{className:"text-white",htmlFor:c.name,children:"Peer ID:"}),ne.jsx(Xm,{id:c.name,name:c.name,value:c.state.value,onBlur:c.handleBlur,onChange:u=>c.handleChange(u.target.value),className:"md:min-w-[400px] sm:min-w-[300px] bg-black text-white"}),ne.jsx(SS,{field:c})]})}),ne.jsx(s.Subscribe,{selector:c=>[c.canSubmit,c.isSubmitting],children:([c,u])=>ne.jsxs("div",{className:"flex gap-x-4",children:[ne.jsx(Qo,{className:"bg-red-500 w-1/2 text-white",type:"reset",onClick:h=>{h.preventDefault(),s.reset()},children:"Reset"}),ne.jsx(Qo,{className:"bg-white text-black w-1/2",type:"submit",disabled:!c,children:u?"...":"Submit"})]})})]})})]})]})}function SS({field:t}){return ne.jsxs(ne.Fragment,{children:[t.state.meta.isTouched&&!t.state.meta.isValid?ne.jsx("em",{className:"text-red-500",children:t.state.meta.errors.map(e=>e.message)}):null,t.state.meta.isValidating?"Validating...":null]})}const VS=function(){const[e,i,r,s]=Wa(ng(g=>[g.isWon,g.winner,g.player,g.reset])),[o,c]=X.useState(!1),{id:u,connect:h,isConnected:f,sendPiece:m,restart:v}=T3();return X.useEffect(()=>{s()},[]),X.useEffect(()=>{c(!!e)},[e]),f?ne.jsxs("div",{children:[ne.jsx(T5,{open:o,onOpenChange:c,children:ne.jsxs(A5,{children:[ne.jsxs(N5,{children:[ne.jsx(D5,{children:`You ${i===r.me?"win":"lose"}`}),ne.jsx(k5,{children:"Do you want to play again?"})]}),ne.jsxs(O5,{children:[ne.jsx(w5,{onClick:()=>c(!1),children:"Cancel"}),ne.jsx(P5,{className:"bg-green-600",onClick:v,children:"Restart"})]})]})}),ne.jsx(X6,{sendPiece:m,restart:v})]}):ne.jsx(bS,{id:u,connect:h})};export{VS as component};
